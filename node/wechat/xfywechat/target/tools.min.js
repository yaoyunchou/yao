function deletHtmlTag(e,t){var n=/<(?!img\/p).*?>/g,i=/^[\s]*[&nbsp;]*/g,r=/<style[^>]*?>[\s\S]*?<\/style>/g,a=/<script[^>]*?>[\s\S]*?<\/script>/g;return e=e.replace(r,"").replace(a,"").replace(n,""),t||(e=e.replace(i,"")),e}if(function(){function e(e,t){return e.set(t[0],t[1]),e}function t(e,t){return e.add(t),e}function n(e,t){for(var n=-1,i=e.length,r=-1,a=t.length,o=Array(i+a);++n<i;)o[n]=e[n];for(;++r<a;)o[n++]=t[r];return o}function i(e,t){for(var n=-1,i=e.length;++n<i&&t(e[n],n,e)!==!1;);return e}function r(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function a(e,t){for(var n=-1,i=e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function o(e,t){for(var n=-1,i=e.length,r=-1,a=[];++n<i;){var o=e[n];t(o,n,e)&&(a[++r]=o)}return a}function s(e,t){for(var n=-1,i=e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function l(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function u(e,t,n,i){var r=-1,a=e.length;for(i&&a&&(n=e[++r]);++r<a;)n=t(n,e[r],r,e);return n}function c(e,t,n,i){var r=e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function d(e,t){for(var n=-1,i=e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function h(e,t,n){var i=e[t];(n===n?n===i:i!==i)&&(n!==X||t in e)||(e[t]=n)}function f(e,t,n){var i=e[t];(n!==X&&(n===n?n!==i:i===i)||"number"==typeof t&&n===X&&!(t in e))&&(e[t]=n)}function p(e,t,n){for(var i=-1,r=e.length;++i<r;){var a=e[i],o=t(a);if(null!=o&&(s===X?o===o:n(o,s)))var s=o,l=a}return l}function g(e,t,n,i){var r;return n(e,function(e,n,a){if(t(e,n,a))return r=i?n:e,!1}),r}function m(e,t,n){for(var i=e.length,r=n?i:-1;n?r--:++r<i;)if(t(e[r],r,e))return r;return-1}function v(e,t,n){if(t!==t)return L(e,n);for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}function y(e,t,n,i,r){return r(e,function(e,r,a){n=i?(i=!1,e):t(n,e,r,a)}),n}function _(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function b(e,t){for(var n,i=-1,r=e.length;++i<r;){var a=t(e[i]);a===a&&null!=a&&(n=n===X?a:n+a)}return n}function x(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function w(e,t){return s(t,function(t){return e[t]})}function k(e,t){for(var n=-1,i=e.length;++n<i&&v(t,e[n],0)>-1;);return n}function S(e,t){for(var n=e.length;n--&&v(t,e[n],0)>-1;);return n}function E(e){return e&&e.Object===Object?e:null}function T(e,t){if(e!==t){var n=null===e,i=e===X,r=e===e,a=null===t,o=t===X,s=t===t;if(e>t&&!a||!r||n&&!o&&s||i&&s)return 1;if(e<t&&!n||!s||a&&!i&&r||o&&r)return-1}return 0}function C(e,t,n){for(var i=-1,r=e.criteria,a=t.criteria,o=r.length,s=n.length;++i<o;){var l=T(r[i],a[i]);if(l){if(i>=s)return l;var u=n[i];return l*("asc"===u?1:-1)}}return e.index-t.index}function D(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}function M(e,t,n){return A(e,t,n)}function A(e,t,n,i){n||(n={});for(var r=-1,a=t.length;++r<a;){var o=t[r],s=i?i(n[o],e[o],o,n,e):e[o];h(n,o,s)}return n}function R(e){return un[e]}function I(e){return cn[e]}function O(e){return"\\"+fn[e]}function P(e,t){return e===X?t:e}function L(e,t,n){for(var i=e.length,r=t+(n?0:-1);n?r--:++r<i;){var a=e[r];if(a!==a)return r}return-1}function F(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function N(e,t){return e="number"==typeof e||mt.test(e)?+e:-1,t=null==t?be:t,e>-1&&e%1==0&&e<t}function z(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=be}function U(e){return e<=160&&e>=9&&e<=13||32==e||160==e||5760==e||6158==e||e>=8192&&(e<=8202||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function B(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function $(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}function H(e,t){for(var n=-1,i=e.length,r=-1,a=[];++n<i;)e[n]===t&&(e[n]=Ee,a[++r]=n);return a}function q(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function W(e){if(!e||!en.test(e))return e.length;for(var t=Jt.lastIndex=0;Jt.test(e);)t++;return t}function j(e){return e?e.match(Jt):[]}function V(e){for(var t=-1,n=e.length;++t<n&&U(e.charCodeAt(t)););return t}function K(e){for(var t=e.length;t--&&U(e.charCodeAt(t)););return t}function G(e){return dn[e]}function Y(E){function U(e){if(Xa(e)&&!pu(e)&&!(e instanceof bt)){if(e instanceof mt)return e;if(qs.call(e,"__wrapped__"))return nr(e)}return new mt(e)}function Ue(){}function mt(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=X}function bt(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=we,this.__views__=[]}function xt(){var e=new bt(this.__wrapped__);return e.__actions__=D(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=D(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=D(this.__views__),e}function wt(){if(this.__filtered__){var e=new bt(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function kt(){var e=this.__wrapped__.value(),t=this.__dir__,n=pu(e),i=t<0,r=n?e.length:0,a=Fi(0,r,this.__views__),o=a.start,s=a.end,l=s-o,u=i?s:o-1,c=this.__iteratees__,d=c.length,h=0,f=dl(l,this.__takeCount__);if(!n||r<pe||r==l&&f==l)return ei(e,this.__actions__);var p=[];e:for(;l--&&h<f;){u+=t;for(var g=-1,m=e[u];++g<d;){var v=c[g],y=v.iteratee,_=v.type,b=y(m);if(_==me)m=b;else if(!b){if(_==ge)continue e;break e}}p[h++]=m}return p}function St(){}function Et(e,t){return Ct(e,t)&&delete e[t]}function Tt(e,t){if(yl){var n=e[t];return n===ye?X:n}return qs.call(e,t)?e[t]:X}function Ct(e,t){return yl?e[t]!==X:qs.call(e,t)}function Dt(e,t,n){e[t]=yl&&n===X?ye:n}function Mt(e){var t=-1,n=e?e.length:0;for(this.__data__={hash:new St,map:gl?new gl:[],string:new St};++t<n;){var i=e[t];this.set(i[0],i[1])}}function At(e){var t=this.__data__;return ji(e)?Et("string"==typeof e?t.string:t.hash,e):gl?t.map["delete"](e):Ht(t.map,e)}function Rt(e){var t=this.__data__;return ji(e)?Tt("string"==typeof e?t.string:t.hash,e):gl?t.map.get(e):qt(t.map,e)}function It(e){var t=this.__data__;return ji(e)?Ct("string"==typeof e?t.string:t.hash,e):gl?t.map.has(e):Wt(t.map,e)}function Ot(e,t){var n=this.__data__;return ji(e)?Dt("string"==typeof e?n.string:n.hash,e,t):gl?n.map.set(e,t):Vt(n.map,e,t),this}function Pt(e){var t=-1,n=e?e.length:0;for(this.__data__=new Mt;++t<n;)this.push(e[t])}function Lt(e,t){var n=e.__data__;if(ji(t)){var i=n.__data__,r="string"==typeof t?i.string:i.hash;return r[t]===ye?0:-1}return n.has(t)?0:-1}function Ft(e){var t=this.__data__;if(ji(e)){var n=t.__data__,i="string"==typeof e?n.string:n.hash;i[e]=ye}else t.set(e,ye)}function Nt(e){var t=-1,n=e?e.length:0;for(this.__data__={array:[],map:null};++t<n;){var i=e[t];this.set(i[0],i[1])}}function zt(e){var t=this.__data__,n=t.array;return n?Ht(n,e):t.map["delete"](e)}function Ut(e){var t=this.__data__,n=t.array;return n?qt(n,e):t.map.get(e)}function Bt(e){var t=this.__data__,n=t.array;return n?Wt(n,e):t.map.has(e)}function $t(e,t){var n=this.__data__,i=n.array;i&&(i.length<pe-1?Vt(i,e,t):(n.array=null,n.map=new Mt(i)));var r=n.map;return r&&r.set(e,t),this}function Ht(e,t){var n=jt(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():al.call(e,n,1),!0}function qt(e,t){var n=jt(e,t);return n<0?X:e[n][1]}function Wt(e,t){return jt(e,t)>-1}function jt(e,t){for(var n=e.length;n--;)if(e[n][0]===t)return n;return-1}function Vt(e,t,n){var i=jt(e,t);i<0?e.push([t,n]):e[i][1]=n}function Kt(e,t){return e&&M(t,Ao(t),e)}function Gt(e,t){for(var n=-1,i=null==e,r=t.length,a=Array(r);++n<r;)a[n]=i?X:To(e,t[n]);return a}function Yt(e,t,n,r,a,o){var s;if(n&&(s=a?n(e,r,a,o):n(e)),s!==X)return s;if(!Ya(e))return e;var l=pu(e);if(l){if(s=zi(e),!t)return D(e,s)}else{var u=Li(e),c=u==Re;if(u!=Le&&u!=Te&&(!c||a))return ln[u]?Bi(e,u,t):a?e:{};if(F(e))return a?e:{};if(s=Ui(c?{}:e),!t)return Kt(s,e)}o||(o=new Nt);var d=o.get(e);return d?d:(o.set(e,s),(l?i:pn)(e,function(i,r){s[r]=Yt(i,t,n,r,e,o)}),s)}function Xt(e,t,n){if("function"!=typeof e)throw new zs(ve);return rl(function(){e.apply(X,n)},t)}function Qt(e,t){return Jt(e,t)}function Jt(e,t,n){var i=-1,r=v,a=!0,o=e.length,l=[],u=t.length;if(!o)return l;n&&(t=s(t,function(e){return n(e)})),t.length>=pe&&(r=Lt,a=!1,t=new Pt(t));e:for(;++i<o;){var c=e[i],d=n?n(c):c;if(a&&d===d){for(var h=u;h--;)if(t[h]===d)continue e;l.push(c)}else r(t,d,0)<0&&l.push(c)}return l}function un(e,t){var n=!0;return Sl(e,function(e,i,r){return n=!!t(e,i,r)}),n}function cn(e,t,n,i){var r=e.length;for(n=null==n?0:po(n),n<0&&(n=-n>r?0:r+n),i=i===X||i>r?r:po(i),i<0&&(i+=r),r=n>i?0:i>>>0,n>>>=0;n<r;)e[n++]=t;return e}function dn(e,t){var n=[];return Sl(e,function(e,i,r){t(e,i,r)&&n.push(e)}),n}function hn(e,t,n,i){i||(i=[]);for(var r=-1,a=e.length;++r<a;){var o=e[r];za(o)&&(n||pu(o)||Fa(o))?t?hn(o,t,n,i):l(i,o):n||(i[i.length]=o)}return i}function fn(e,t){return null==e?e:Tl(e,t,Ro)}function pn(e,t){return e&&Tl(e,t,Ao)}function gn(e,t){return e&&Cl(e,t,Ao)}function mn(e,t){return o(t,function(t){return Ka(e[t])})}function vn(e,t){t=Wi(t,e)?[t+""]:Yn(t);for(var n=0,i=t.length;null!=e&&n<i;)e=e[t[n++]];return n&&n==i?e:X}function yn(e,t){return qs.call(e,t)||"object"==typeof e&&t in e&&null===el(e)}function _n(e,t){return t in Object(e)}function bn(e){return kn(e)}function kn(e,t){for(var n=e.length,i=n,r=Array(n),a=[];i--;){var o=e[i];i&&t&&(o=s(o,function(e){return t(e)})),r[i]=t||o.length>=120?new Pt(i&&o):null}o=e[0];var l=-1,u=o?o.length:0,c=r[0];e:for(;++l<u;){var d=o[l],h=t?t(d):d;if((c?Lt(c,h):v(a,h,0))<0){for(var i=n;--i;){var f=r[i];if((f?Lt(f,h):v(e[i],h,0))<0)continue e}c&&c.push(h),a.push(d)}}return a}function Sn(e,t,n,i,r){return e===t||(null==e||null==t||!Ya(e)&&!Xa(t)?e!==e&&t!==t:En(e,t,Sn,n,i,r))}function En(e,t,n,i,r,a){var o=pu(e),s=pu(t),l=Ce,u=Ce;o||(l=Li(e),l==Te?l=Le:l!=Le&&(o=lo(e))),s||(u=Li(t),u==Te?u=Le:u!=Le&&(s=lo(t)));var c=l==Le&&!F(e),d=u==Le&&!F(t),h=l==u;if(h&&!o&&!c)return Mi(e,t,l,n,i,r);var f=r&ue;if(!f){var p=c&&qs.call(e,"__wrapped__"),g=d&&qs.call(t,"__wrapped__");if(p||g)return n(p?e.value():e,g?t.value():t,i,r,a)}if(!h)return!1;a||(a=new Nt);var m=a.get(e);if(m)return m==t;a.set(e,t);var v=(o?Di:Ai)(e,t,n,i,r,a);return a["delete"](e),v}function Tn(e,t,n,i){var r=n.length,a=r,o=!i;if(null==e)return!a;for(e=Object(e);r--;){var s=n[r];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++r<a;){s=n[r];var l=s[0],u=e[l],c=s[1];if(o&&s[2]){if(u===X&&!(l in e))return!1}else{var d=new Nt,h=i?i(u,c,l,e,t,d):X;if(!(h===X?Sn(c,u,i,le|ue,d):h))return!1}}return!0}function Cn(e){var t=typeof e;return"function"==t?e:null==e?ps:"object"==t?pu(e)?In(e[0],e[1]):Rn(e):xs(e)}function Dn(e){return ul(Object(e))}function Mn(e){e=null==e?e:Object(e);var t=[];for(var n in e)t.push(n);return t}function An(e,t){var n=-1,i=Na(e)?Array(e.length):[];return Sl(e,function(e,r,a){i[++n]=t(e,r,a)}),i}function Rn(e){var t=Oi(e);if(1==t.length&&t[0][2]){var n=t[0][0],i=t[0][1];return function(e){return null!=e&&(e[n]===i&&(i!==X||n in Object(e)))}}return function(n){return n===e||Tn(n,e,t)}}function In(e,t){return function(n){var i=To(n,e);return i===X&&i===t?Do(n,e):Sn(t,i,X,le|ue)}}function On(e,t,n,r){if(e!==t){var a=pu(t)||lo(t)?X:Ro(t);i(a||t,function(i,o){if(a&&(o=i,i=t[o]),Ya(i))r||(r=new Nt),Pn(e,t,o,On,n,r);else{var s=n?n(e[o],i,o+"",e,t,r):X;s===X&&(s=i),f(e,o,s)}})}}function Pn(e,t,n,i,r,a){var o=e[n],s=t[n],l=a.get(o)||a.get(s);if(l)return void f(e,n,l);var u=r?r(o,s,n+"",e,t,a):X,c=u===X;c&&(u=s,pu(s)||lo(s)?u=pu(o)?o:za(o)?D(o):Yt(s):ro(s)||Fa(s)?u=Fa(o)?go(o):Ya(o)?o:Yt(s):c=Ka(s)),a.set(s,u),c&&i(u,s,r,a),f(e,n,u)}function Ln(e,t){return e=Object(e),u(t,function(t,n){return n in e&&(t[n]=e[n]),t},{})}function Fn(e,t){var n={};return fn(e,function(e,i){t(e)&&(n[i]=e)}),n}function Nn(e){return function(t){return null==t?X:t[e]}}function zn(e){return function(t){return vn(t,e)}}function Un(e,t){return Bn(e,t)}function Bn(e,t,n){var i=-1,r=t.length,a=e;for(n&&(a=s(e,function(e){return n(e)}));++i<r;)for(var o=0,l=t[i],u=n?n(l):l;(o=v(a,u,o))>-1;)a!==e&&al.call(a,o,1),al.call(e,o,1);return e}function $n(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(i==n||r!=a){var a=r;if(N(r))al.call(e,r,1);else if(Wi(r,e))delete e[r];else{var o=Yn(r),s=Qi(e,o);null!=s&&delete s[vr(o)]}}}return e}function Hn(e,t){return e+sl(fl()*(t-e+1))}function qn(e,t,n,i){t=Wi(t,e)?[t+""]:Yn(t);for(var r=-1,a=t.length,o=a-1,s=e;null!=s&&++r<a;){var l=t[r];if(Ya(s)){var u=n;if(r!=o){var c=s[l];u=i?i(c,l,s):X,u===X&&(u=null==c?N(t[r+1])?[]:{}:c)}h(s,l,u)}s=s[l]}return e}function Wn(e,t,n){var i=-1,r=e.length;t=null==t?0:po(t),t<0&&(t=-t>r?0:r+t),n=n===X||n>r?r:po(n),n<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(r);++i<r;)a[i]=e[i+t];return a}function jn(e,t){var n;return Sl(e,function(e,i,r){return n=t(e,i,r),!n}),!!n}function Vn(e,t,n){var i=Ii(),r=-1;t=s(t.length?t:Array(1),function(e){return i(e)});var a=An(e,function(e,n,i){var a=s(t,function(t){return t(e)});return{criteria:a,index:++r,value:e}});return _(a,function(e,t){return C(e,t,n)})}function Kn(e){return Gn(e)}function Gn(e,t){for(var n=0,i=e.length,r=e[0],a=t?t(r):r,o=a,s=0,l=[r];++n<i;)r=e[n],a=t?t(r):r,(o===o?o!==a:a===a)&&(o=a,l[++s]=r);return l}function Yn(e){return pu(e)?e:Ji(e)}function Xn(e){return Qn(e)}function Qn(e,t){var n=-1,i=v,r=e.length,a=!0,o=r>=pe?new Pt:null,s=[];o?(i=Lt,a=!1):o=t?[]:s;e:for(;++n<r;){var l=e[n],u=t?t(l):l;if(a&&u===u){for(var c=o.length;c--;)if(o[c]===u)continue e;t&&o.push(u),s.push(l)}else i(o,u,0)<0&&(o!==s&&o.push(u),s.push(l))}return s}function Zn(e,t){t=Wi(t,e)?[t+""]:Yn(t),e=Qi(e,t);var n=vr(t);return null==e||!Co(e,n)||delete e[n]}function Jn(e,t,n,i){for(var r=e.length,a=i?r:-1;(i?a--:++a<r)&&t(e[a],a,e););return n?Wn(e,i?0:a,i?a+1:r):Wn(e,i?a+1:0,i?r:a)}function ei(e,t){var n=e;return n instanceof bt&&(n=n.value()),u(t,function(e,t){return t.func.apply(t.thisArg,l([e],t.args))},n)}function ti(e){return ni(e)}function ni(e,t){for(var n=-1,i=e.length;++n<i;)var r=r?l(Jt(r,e[n],t),Jt(e[n],r,t)):e[n];return r&&r.length?Qn(r,t):[]}function ii(e,t,n){var i=0,r=e?e.length:i;if("number"==typeof t&&t===t&&r<=Se){for(;i<r;){var a=i+r>>>1,o=e[a];(n?o<=t:o<t)&&null!==o?i=a+1:r=a}return r}return ri(e,t,ps,n)}function ri(e,t,n,i){t=n(t);for(var r=0,a=e?e.length:0,o=t!==t,s=null===t,l=t===X;r<a;){var u=sl((r+a)/2),c=n(e[u]),d=c!==X,h=c===c;if(o)var f=h||i;else f=s?h&&d&&(i||null!=c):l?h&&(i||d):null!=c&&(i?c<=t:c<t);f?r=u+1:a=u}return dl(a,ke)}function ai(e){var t=e.constructor,n=new t(e.byteLength),i=new Qs(n);return i.set(new Qs(e)),n}function oi(t){var n=t.constructor;return u($(t),e,new n)}function si(e){var t=e.constructor,n=new t(e.source,ft.exec(e));return n.lastIndex=e.lastIndex,n}function li(e){var n=e.constructor;return u(q(e),t,new n)}function ui(e,t){var n=e.buffer,i=e.constructor;return new i(t?ai(n):n,e.byteOffset,e.length)}function ci(e,t,n){for(var i=n.length,r=-1,a=cl(e.length-i,0),o=-1,s=t.length,l=Array(s+a);++o<s;)l[o]=t[o];for(;++r<i;)l[n[r]]=e[r];for(;a--;)l[o++]=e[r++];return l}function di(e,t,n){for(var i=-1,r=n.length,a=-1,o=cl(e.length-r,0),s=-1,l=t.length,u=Array(o+l);++a<o;)u[a]=e[a];for(var c=a;++s<l;)u[c+s]=t[s];for(;++i<r;)u[c+n[i]]=e[a++];return u}function hi(e,t){return function(n,i){var r=t?t():{};if(i=Ii(i),pu(n))for(var a=-1,o=n.length;++a<o;){var s=n[a];e(r,s,i(s),n)}else Sl(n,function(t,n,a){e(r,t,i(t),a)});return r}}function fi(e){return Ea(function(t,n){var i=-1,r=null==t?0:n.length,a=r>1?n[r-1]:X,o=r>2?n[2]:X;for(a="function"==typeof a?(r--,a):X,o&&qi(n[0],n[1],o)&&(a=r<3?X:a,r=1),t=Object(t);++i<r;){var s=n[i];s&&e(t,s,a)}return t})}function pi(e,t){return function(n,i){if(null==n)return n;if(!Na(n))return e(n,i);for(var r=n.length,a=t?r:-1,o=Object(n);(t?a--:++a<r)&&i(o[a],a,o)!==!1;);return n}}function gi(e){return function(t,n,i){for(var r=Object(t),a=i(t),o=a.length,s=e?o:-1;e?s--:++s<o;){var l=a[s];if(n(r[l],l,r)===!1)break}return t}}function mi(e,t){function n(){var r=this&&this!==xn&&this instanceof n?i:e;return r.apply(t,arguments)}var i=_i(e);return n}function vi(e){return function(t){t=vo(t);var n=en.test(t)?j(t):X,i=n?n[0]:t.charAt(0),r=n?n.slice(1).join(""):t.slice(1);return i[e]()+r}}function yi(e){return function(t){return u(hs(Go(t)),e,"")}}function _i(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=kl(e.prototype),i=e.apply(n,t);return Ya(i)?i:n}}function bi(e){return function(){for(var t,n=arguments.length,i=e?n:-1,r=0,a=Array(n);e?i--:++i<n;){var o=a[r++]=arguments[i];if("function"!=typeof o)throw new zs(ve);!t&&mt.prototype.thru&&"wrapper"==Ri(o)&&(t=new mt([],(!0)))}for(i=t?-1:n;++i<n;){o=a[i];var s=Ri(o),l="wrapper"==s?Ml(o):X;t=l&&Vi(l[0])&&l[1]==(ae|te|ie|oe)&&!l[4].length&&1==l[9]?t[Ri(l[0])].apply(t,l[3]):1==o.length&&Vi(o)?t[s]():t.thru(o)}return function(){var e=arguments,i=e[0];if(t&&1==e.length&&pu(i)&&i.length>=pe)return t.plant(i).value();for(var r=0,o=n?a[r].apply(this,e):i;++r<n;)o=a[r].call(this,o);return o}}}function xi(e,t,n,i,r,a,o,s,l,u){function c(){for(var _=arguments.length,b=_,x=Array(_);b--;)x[b]=arguments[b];if(i&&(x=ci(x,i,r)),a&&(x=di(x,a,o)),p||m){var w=c.placeholder,k=H(x,w);if(_-=k.length,_<u){var S=s?D(s):X,E=cl(u-_,0),T=p?k:X,C=p?X:k,M=p?x:X,A=p?X:x;t|=p?ie:re,t&=~(p?re:ie),g||(t&=~(Z|J));var R=[e,t,n,M,T,A,C,S,l,E],I=xi.apply(X,R);return Vi(e)&&Rl(I,R),I.placeholder=w,I}}var O=h?n:this,P=f?O[e]:e;return s?x=Zi(x,s):v&&x.length>1&&x.reverse(),d&&l<x.length&&(x.length=l),this&&this!==xn&&this instanceof c&&(P=y||_i(e)),P.apply(O,x)}var d=t&ae,h=t&Z,f=t&J,p=t&te,g=t&ee,m=t&ne,v=t&se,y=f?X:_i(e);return c}function wi(e){return Ea(function(t){return t=s(hn(t),Ii()),Ea(function(n){var i=this;return e(t,function(e){return e.apply(i,n)})})})}function ki(e){return Ea(function(t,n){n=s(hn(n),Ii());var i=n.length;return Ea(function(r){for(var a=-1,o=dl(r.length,i),s=D(r);++a<o;)s[a]=n[a].apply(this,e(r[a],a,r));return t.apply(this,s)})})}function Si(e,t,n){t=po(t);var i=W(e);if(!t||i>=t)return"";var r=t-i;n=n===X?" ":n+"";var a=ns(n,ol(r/W(n)));return en.test(n)?j(a).slice(0,r).join(""):a.slice(0,r)}function Ei(e,t,n,i){function r(){for(var t=-1,s=arguments.length,l=-1,u=i.length,c=Array(u+s);++l<u;)c[l]=i[l];for(;s--;)c[l++]=arguments[++t];var d=this&&this!==xn&&this instanceof r?o:e;return d.apply(a?n:this,c)}var a=t&Z,o=_i(e);return r}function Ti(e){var t=Fs[e];return function(e,n){if(n=n?po(n):0){var i=(+e+"e").split("e"),r=t(i[0]+"e"+(+i[1]+n));return i=(r+"e").split("e"),+(i[0]+"e"+(i[1]-n))}return t(e)}}function Ci(e,t,n,i,r,a,o,s){var l=t&J;if(!l&&"function"!=typeof e)throw new zs(ve);var u=i?i.length:0;if(u||(t&=~(ie|re),i=r=X),u-=r?r.length:0,t&re){var c=i,d=r;i=r=X}o=null==o?o:cl(po(o),0),s=null==s?s:po(s);var h=l?X:Ml(e),f=[e,t,n,i,r,c,d,a,o,s];if(h&&(Yi(f,h),t=f[1],s=f[9]),f[9]=null==s?l?0:e.length:cl(s-u,0),t==Z)var p=mi(f[0],f[2]);else p=t!=ie&&t!=(Z|ie)||f[4].length?xi.apply(X,f):Ei.apply(X,f);var g=h?Dl:Rl;return g(p,f)}function Di(e,t,n,i,r,a){var o=-1,s=r&ue,l=r&le,u=e.length,c=t.length;if(u!=c&&!(s&&c>u))return!1;for(;++o<u;){var h=e[o],f=t[o];if(i)var p=s?i(f,h,o,t,e,a):i(h,f,o,e,t,a);if(p!==X){if(p)continue;return!1}if(l){if(!d(t,function(e){return h===e||n(h,e,i,r,a)}))return!1}else if(h!==f&&!n(h,f,i,r,a))return!1}return!0}function Mi(e,t,n,i,r,a){switch(n){case De:case Me:return+e==+t;case Ae:return e.name==t.name&&e.message==t.message;case Pe:return e!=+e?t!=+t:e==+t;case Fe:case ze:return e==t+"";case Oe:var o=$;case Ne:var s=a&ue;return o||(o=q),(s||e.size==t.size)&&i(o(e),o(t),r,a|le)}return!1}function Ai(e,t,n,i,r,a){var o=r&ue,s=r&le,l=Ao(e),u=l.length,c=Ao(t),d=c.length;if(u!=d&&!o)return!1;for(var h=u;h--;){var f=l[h];if(!(o?f in t:yn(t,f))||!s&&f!=c[h])return!1}for(var p=o;++h<u;){f=l[h];var g=e[f],m=t[f];if(i)var v=o?i(m,g,f,t,e,a):i(g,m,f,e,t,a);if(!(v===X?g===m||n(g,m,i,r,a):v))return!1;p||(p="constructor"==f)}if(!p){var y=e.constructor,_=t.constructor;if(y!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _))return!1}return!0}function Ri(e){for(var t=e.name+"",n=wl[t],i=n?n.length:0;i--;){var r=n[i],a=r.func;if(null==a||a==e)return r.name}return t}function Ii(){var e=U.iteratee||gs;return e=e===gs?Cn:e,arguments.length?e(arguments[0],arguments[1]):e}function Oi(e){for(var t=Lo(e),n=t.length;n--;)t[n][2]=Gi(t[n][1]);return t}function Pi(e,t){var n=null==e?X:e[t];return eo(n)?n:X}function Li(e){return Vs.call(e)}function Fi(e,t,n){for(var i=-1,r=n.length;++i<r;){var a=n[i],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=dl(t,e+o);break;case"takeRight":e=cl(e,t-o)}}return{start:e,end:t}}function Ni(e,t,n){if(null==e)return!1;var i=n(e,t);return i||Wi(t)||(t=Yn(t),e=Qi(e,t),null!=e&&(t=vr(t),i=n(e,t))),i||z(e&&e.length)&&N(t,e.length)&&(pu(e)||so(e)||Fa(e))}function zi(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&qs.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Ui(e){var t=e.constructor;return"function"==typeof t&&t instanceof t?new t:{}}function Bi(e,t,n){var i=e.constructor;switch(t){case Be:return ai(e);case De:case Me:return new i((+e));case $e:case He:case qe:case We:case je:case Ve:case Ke:case Ge:case Ye:return ui(e,n);case Oe:return oi(e);case Pe:case ze:return new i(e);case Ne:return li(e);case Fe:return si(e)}}function $i(e){var t=e?e.length:0;return t=t&&z(t)&&(pu(e)||so(e)||Fa(e))&&t||0,x(t,String)}function Hi(e,t,n){Wi(t,e)||(t=Yn(t),e=Qi(e,t),t=vr(t));var i=null==e?e:e[t];return null==i?X:i.apply(e,n)}function qi(e,t,n){if(!Ya(n))return!1;var i=typeof t;if("number"==i?Na(n)&&N(t,n.length):"string"==i&&t in n){var r=n[t];return e===e?e===r:r!==r}return!1}function Wi(e,t){return"number"==typeof e||!pu(e)&&(st.test(e)||!ot.test(e)||null!=t&&e in Object(t))}function ji(e){var t=typeof e;return"number"==t||"boolean"==t||"string"==t&&"__proto__"!==e||null==e}function Vi(e){var t=Ri(e),n=U[t];if("function"!=typeof n||!(t in bt.prototype))return!1;if(e===n)return!0;var i=Ml(n);return!!i&&e===i[0]}function Ki(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||Bs;return e===n}function Gi(e){return e===e&&!Ya(e)}function Yi(e,t){var n=e[1],i=t[1],r=n|i,a=r<ae,o=i==ae&&n==te||i==ae&&n==oe&&e[7].length<=t[8]||i==(ae|oe)&&t[7].length<=t[8]&&n==te;if(!a&&!o)return e;i&Z&&(e[2]=t[2],r|=n&Z?0:ee);var s=t[3];if(s){var l=e[3];e[3]=l?ci(l,s,t[4]):D(s),e[4]=l?H(e[3],Ee):D(t[4])}return s=t[5],s&&(l=e[5],e[5]=l?di(l,s,t[6]):D(s),e[6]=l?H(e[5],Ee):D(t[6])),s=t[7],s&&(e[7]=D(s)),i&ae&&(e[8]=null==e[8]?t[8]:dl(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=r,e}function Xi(e,t,n,i,r,a){return Ya(e)&&(a.set(t,e),On(e,t,Xi,a)),e===X?Yt(t):e}function Qi(e,t){return 1==t.length?e:To(e,Wn(t,0,-1))}function Zi(e,t){for(var n=e.length,i=dl(t.length,n),r=D(e);i--;){var a=t[i];e[i]=N(a,n)?r[a]:X}return e}function Ji(e){var t=[];return vo(e).replace(lt,function(e,n,i,r){t.push(i?r.replace(dt,"$1"):n||e)}),t}function er(e){return za(e)?e:[]}function tr(e){return"function"==typeof e?e:ps}function nr(e){if(e instanceof bt)return e.clone();var t=new mt(e.__wrapped__,e.__chain__);return t.__actions__=D(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function ir(e,t){t=cl(po(t),0);var n=e?e.length:0;if(!n||t<1)return[];for(var i=0,r=-1,a=Array(ol(n/t));i<n;)a[++r]=Wn(e,i,i+=t);return a}function rr(e){for(var t=-1,n=e?e.length:0,i=-1,r=[];++t<n;){var a=e[t];a&&(r[++i]=a)}return r}function ar(e,t,n){return e&&e.length?(t=n||t===X?1:t,Wn(e,t<0?0:t)):[]}function or(e,t,n){var i=e?e.length:0;return i?(t=n||t===X?1:po(t),t=i-t,Wn(e,0,t<0?0:t)):[]}function sr(e,t){return e&&e.length?Jn(e,Ii(t,3),!0,!0):[]}function lr(e,t){return e&&e.length?Jn(e,Ii(t,3),!0):[]}function ur(e,t,n,i){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&qi(e,t,n)&&(n=0,i=r),cn(e,t,n,i)):[]}function cr(e,t){return e&&e.length?m(e,Ii(t,3)):-1}function dr(e,t){return e&&e.length?m(e,Ii(t,3),!0):-1}function hr(e){var t=e?e.length:0;return t?hn(e):[]}function fr(e){var t=e?e.length:0;return t?hn(e,!0):[]}function pr(e){return e?e[0]:X}function gr(e,t,n){var i=e?e.length:0;return i?(n=n?po(n):0,n<0&&(n=cl(i+n,0)),v(e,t,n)):-1}function mr(e){return or(e,1)}function vr(e){var t=e?e.length:0;return t?e[t-1]:X}function yr(e,t,n){var i=e?e.length:0;if(!i)return-1;var r=i;if(n!==X&&(r=po(n),r=(r<0?cl(i+r,0):dl(r,i-1))+1),t!==t)return L(e,r,!0);for(;r--;)if(e[r]===t)return r;return-1}function _r(e,t){return e&&e.length&&t&&t.length?Un(e,t):e}function br(e,t,n){return e&&e.length&&t&&t.length?Bn(e,t,Ii(n)):e}function xr(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],a=e.length;for(t=Ii(t,3);++i<a;){var o=e[i];t(o,i,e)&&(n.push(o),r.push(i))}return $n(e,r),n}function wr(e){return e?pl.call(e):e}function kr(e,t,n){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&qi(e,t,n)&&(t=0,n=i),Wn(e,t,n)):[]}function Sr(e,t){return ii(e,t)}function Er(e,t,n){return ri(e,t,Ii(n))}function Tr(e,t){var n=e?e.length:0;if(n){var i=ii(e,t);if(i<n&&(t===t?t===e[i]:e[i]!==e[i]))return i}return-1}function Cr(e,t){return ii(e,t,!0)}function Dr(e,t,n){return ri(e,t,Ii(n),!0)}function Mr(e,t){var n=e?e.length:0;if(n){var i=ii(e,t,!0)-1,r=e[i];if(t===t?t===r:r!==r)return i}return-1}function Ar(e){return e&&e.length?Kn(e):[]}function Rr(e,t){return e&&e.length?Gn(e,Ii(t)):[]}function Ir(e){return ar(e,1)}function Or(e,t,n){return e&&e.length?(t=n||t===X?1:t,Wn(e,0,t<0?0:t)):[]}function Pr(e,t,n){var i=e?e.length:0;return i?(t=n||t===X?1:po(t),t=i-t,Wn(e,t<0?0:t)):[]}function Lr(e,t){return e&&e.length?Jn(e,Ii(t,3),!1,!0):[]}function Fr(e,t){return e&&e.length?Jn(e,Ii(t,3)):[]}function Nr(e){return e&&e.length?Xn(e):[]}function zr(e,t){return e&&e.length?Qn(e,Ii(t)):[]}function Ur(e){if(!e||!e.length)return[];var t=0;return e=o(e,function(e){if(za(e))return t=cl(e.length,t),!0}),x(t,function(t){return s(e,Nn(t))})}function Br(e,t){if(!e||!e.length)return[];var n=Ur(e);return null==t?n:s(n,function(e){return u(e,t,X,!0)})}function $r(e,t){var n=-1,i=e?e.length:0,r={};for(!i||t||pu(e[0])||(t=[]);++n<i;){var a=e[n];t?r[a]=t[n]:a&&(r[a[0]]=a[1])}return r}function Hr(e){var t=U(e);return t.__chain__=!0,t}function qr(e,t){return t(e),e}function Wr(e,t){return t(e)}function jr(){return Hr(this)}function Vr(){return new mt(this.value(),this.__chain__)}function Kr(){this.__values__===X&&(this.__values__=fo(this.value()));var e=this.__index__>=this.__values__.length,t=e?X:this.__values__[this.__index__++];return{done:e,value:t}}function Gr(){return this}function Yr(e){for(var t,n=this;n instanceof Ue;){var i=nr(n);i.__index__=0,i.__values__=X,t?r.__wrapped__=i:t=i;var r=i;n=n.__wrapped__}return r.__wrapped__=e,t}function Xr(){var e=this.__wrapped__;if(e instanceof bt){var t=e;return this.__actions__.length&&(t=new bt(this)),t=t.reverse(),t.__actions__.push({func:Wr,args:[wr],thisArg:X}),new mt(t,this.__chain__)}return this.thru(wr)}function Qr(){return ei(this.__wrapped__,this.__actions__)}function Zr(e,t,n){var i=pu(e)?a:un;return n&&qi(e,t,n)&&(t=X),i(e,Ii(t,3))}function Jr(e,t){var n=pu(e)?o:dn;return n(e,Ii(t,3))}function ea(e,t){if(t=Ii(t,3),pu(e)){var n=m(e,t);return n>-1?e[n]:X}return g(e,t,Sl)}function ta(e,t){if(t=Ii(t,3),pu(e)){var n=m(e,t,!0);return n>-1?e[n]:X}return g(e,t,El)}function na(e,t){return"function"==typeof t&&pu(e)?i(e,t):Sl(e,tr(t))}function ia(e,t){return"function"==typeof t&&pu(e)?r(e,t):El(e,tr(t))}function ra(e,t,n,i){e=Na(e)?e:Ho(e),n=n&&!i?po(n):0;var r=e.length;return n<0&&(n=cl(r+n,0)),so(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&v(e,t,n)>-1}function aa(e,t){var n=pu(e)?s:An;return n(e,Ii(t,3))}function oa(e,t,n){var i=arguments.length<3;return"function"==typeof t&&pu(e)?u(e,t,n,i):y(e,Ii(t,4),n,i,Sl)}function sa(e,t,n){var i=arguments.length<3;return"function"==typeof t&&pu(e)?c(e,t,n,i):y(e,Ii(t,4),n,i,El)}function la(e,t){var n=pu(e)?o:dn;return t=Ii(t,3),n(e,function(e,n,i){return!t(e,n,i)})}function ua(e){var t=Na(e)?e:Ho(e),n=t.length;return n>0?t[Hn(0,n-1)]:X}function ca(e,t){var n=-1,i=fo(e),r=i.length,a=r-1;for(t=Wo(po(t),0,r);++n<t;){var o=Hn(n,a),s=i[o];i[o]=i[n],i[n]=s}return i.length=t,i}function da(e){return ca(e,we)}function ha(e){if(null==e)return 0;if(Na(e)){var t=e.length;return t&&so(e)?W(e):t}return Ao(e).length}function fa(e,t,n){var i=pu(e)?d:jn;return n&&qi(e,t,n)&&(t=X),i(e,Ii(t,3))}function pa(e,t,n,i){return null==e?[]:(pu(t)||(t=null==t?[]:[t]),n=i?X:n,pu(n)||(n=null==n?[]:[n]),Vn(e,t,n))}function ga(e,t){if("function"!=typeof t)throw new zs(ve);return e=po(e),function(){if(--e<1)return t.apply(this,arguments)}}function ma(e,t,n){return t=n?X:t,t=e&&null==t?e.length:t,Ci(e,ae,X,X,X,X,t)}function va(e,t){var n;if("function"!=typeof t)throw new zs(ve);return e=po(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=X),n}}function ya(e,t,n){t=n?X:t;var i=Ci(e,te,X,X,X,X,X,t);return i.placeholder=ya.placeholder,i}function _a(e,t,n){t=n?X:t;var i=Ci(e,ne,X,X,X,X,X,t);return i.placeholder=_a.placeholder,i}function ba(e,t,n){function i(){p&&Zs(p),c&&Zs(c),m=0,u=c=f=p=g=X}function r(t,n){n&&Zs(n),c=p=g=X,t&&(m=Zl(),d=e.apply(f,u),p||c||(u=f=X))}function a(){var e=t-(Zl()-h);e<=0||e>t?r(g,c):p=rl(a,e)}function o(){return(p&&g||c&&_)&&(d=e.apply(f,u)),i(),d}function s(){r(_,p)}function l(){if(u=arguments,h=Zl(),f=this,g=_&&(p||!v),y===!1)var n=v&&!p;else{c||v||(m=h);var i=y-(h-m),r=i<=0||i>y;r?(c&&(c=Zs(c)),m=h,d=e.apply(f,u)):c||(c=rl(s,i))}return r&&p?p=Zs(p):p||t===y||(p=rl(a,t)),n&&(r=!0,d=e.apply(f,u)),!r||p||c||(u=f=X),d}var u,c,d,h,f,p,g,m=0,v=!1,y=!1,_=!0;if("function"!=typeof e)throw new zs(ve);return t=t<0?0:+t||0,Ya(n)&&(v=!!n.leading,y="maxWait"in n&&cl(+n.maxWait||0,t),_="trailing"in n?!!n.trailing:_),l.cancel=i,l.flush=o,l}function xa(e){return Ci(e,se)}function wa(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new zs(ve);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],a=n.cache;if(a.has(r))return a.get(r);var o=e.apply(this,i);return n.cache=a.set(r,o),o};return n.cache=new wa.Cache,n}function ka(e){if("function"!=typeof e)throw new zs(ve);return function(){return!e.apply(this,arguments)}}function Sa(e){return va(2,e)}function Ea(e,t){if("function"!=typeof e)throw new zs(ve);return t=cl(t===X?e.length-1:po(t),0),function(){for(var n=arguments,i=-1,r=cl(n.length-t,0),a=Array(r);++i<r;)a[i]=n[t+i];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,n[0],a);case 2:return e.call(this,n[0],n[1],a)}var o=Array(t+1);for(i=-1;++i<t;)o[i]=n[i];return o[t]=a,e.apply(this,o)}}function Ta(e){if("function"!=typeof e)throw new zs(ve);return function(t){return e.apply(this,t)}}function Ca(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new zs(ve);return Ya(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),ba(e,t,{leading:i,maxWait:+t,trailing:r})}function Da(e,t){return t=null==t?ps:t,du(t,e)}function Ma(e){return Yt(e)}function Aa(e,t){return Yt(e,!1,t)}function Ra(e){return Yt(e,!0)}function Ia(e,t){return Yt(e,!0,t)}function Oa(e,t){return e===t||e!==e&&t!==t}function Pa(e,t){return e>t}function La(e,t){return e>=t}function Fa(e){return za(e)&&qs.call(e,"callee")&&(!il.call(e,"callee")||Vs.call(e)==Te)}function Na(e){return null!=e&&!("function"==typeof e&&Ka(e))&&z(Al(e))}function za(e){return Xa(e)&&Na(e)}function Ua(e){return e===!0||e===!1||Xa(e)&&Vs.call(e)==De}function Ba(e){return Xa(e)&&Vs.call(e)==Me}function $a(e){return!!e&&1===e.nodeType&&Xa(e)&&!ro(e)}function Ha(e){return!Xa(e)||Ka(e.splice)?!ha(e):!Ao(e).length}function qa(e,t){return Sn(e,t)}function Wa(e,t,n){n="function"==typeof n?n:X;var i=n?n(e,t):X;return i===X?Sn(e,t,n):!!i}function ja(e){return Xa(e)&&"string"==typeof e.message&&Vs.call(e)==Ae}function Va(e){
return"number"==typeof e&&ll(e)}function Ka(e){var t=Ya(e)?Vs.call(e):"";return t==Re||t==Ie}function Ga(e){return"number"==typeof e&&e==po(e)}function Ya(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Xa(e){return!!e&&"object"==typeof e}function Qa(e,t){return e===t||Tn(e,t,Oi(t))}function Za(e,t,n){return n="function"==typeof n?n:X,Tn(e,t,Oi(t),n)}function Ja(e){return io(e)&&e!=+e}function eo(e){return null!=e&&(Ka(e)?Gs.test(Hs.call(e)):Xa(e)&&(F(e)?Gs:gt).test(e))}function to(e){return null===e}function no(e){return null==e}function io(e){return"number"==typeof e||Xa(e)&&Vs.call(e)==Pe}function ro(e){if(!Xa(e)||Vs.call(e)!=Le||F(e))return!1;var t=Bs;if("function"==typeof e.constructor&&(t=el(e)),null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&Hs.call(n)==js}function ao(e){return Ya(e)&&Vs.call(e)==Fe}function oo(e){return Ga(e)&&e>=-be&&e<=be}function so(e){return"string"==typeof e||!pu(e)&&Xa(e)&&Vs.call(e)==ze}function lo(e){return Xa(e)&&z(e.length)&&!!sn[Vs.call(e)]}function uo(e){return e===X}function co(e,t){return e<t}function ho(e,t){return e<=t}function fo(e){if(!e)return[];if(Na(e))return so(e)?j(e):D(e);if(tl&&e[tl])return B(e[tl]());var t=Li(e),n=t==Oe?$:t==Ne?q:Ho;return n(e)}function po(e){if(e===_e||e===-_e)return(e<0?-1:1)*xe;e=+e;var t=e%1;return e===e?t?e-t:e:0}function go(e){return M(e,Ro(e))}function mo(e){return Wo(po(e),-be,be)}function vo(e){return"string"==typeof e?e:null==e?"":e+""}function yo(e,t){var n=kl(e);return t?Kt(n,t):n}function _o(e,t){return g(e,Ii(t,3),pn,!0)}function bo(e,t){return g(e,Ii(t,3),gn,!0)}function xo(e,t){return null==e?e:Tl(e,tr(t),Ro)}function wo(e,t){return null==e?e:Cl(e,tr(t),Ro)}function ko(e,t){return e&&pn(e,tr(t))}function So(e,t){return e&&gn(e,tr(t))}function Eo(e){return null==e?[]:mn(e,Ro(e))}function To(e,t,n){var i=null==e?X:vn(e,t);return i===X?n:i}function Co(e,t){return Ni(e,t,yn)}function Do(e,t){return Ni(e,t,_n)}function Mo(e,t,n){return u(Ao(e),function(i,r){var a=e[r];return t&&!n?qs.call(i,a)?i[a].push(r):i[a]=[r]:i[a]=r,i},{})}function Ao(e){var t=Ki(e);if(!t&&!Na(e))return Dn(e);var n=$i(e),i=n.length,r=!!i;for(var a in e)!yn(e,a)||r&&N(a,i)||t&&"constructor"==a||n.push(a);return n}function Ro(e){for(var t=-1,n=Ki(e),i=Mn(e),r=i.length,a=$i(e),o=a.length,s=!!o;++t<r;){var l=i[t];s&&N(l,o)||"constructor"==l&&(n||!qs.call(e,l))||a.push(l)}return a}function Io(e,t){var n={};return t=Ii(t,3),pn(e,function(e,i,r){n[t(e,i,r)]=e}),n}function Oo(e,t){var n={};return t=Ii(t,3),pn(e,function(e,i,r){n[i]=t(e,i,r)}),n}function Po(e,t){return t=Ii(t),Fn(e,function(e){return!t(e)})}function Lo(e){return s(Ao(e),function(t){return[t,e[t]]})}function Fo(e,t){return null==e?{}:Fn(e,Ii(t))}function No(e,t,n){if(Wi(t,e))i=null==e?X:e[t];else{t=Yn(t);var i=To(e,t);e=Qi(e,t)}return i===X&&(i=n),Ka(i)?i.call(e):i}function zo(e,t,n){return null==e?e:qn(e,t,n)}function Uo(e,t,n,i){return i="function"==typeof i?i:X,null==e?e:qn(e,t,n,i)}function Bo(e,t,n){var r=pu(e)||lo(e);if(t=Ii(t,4),null==n)if(r||Ya(e)){var a=e.constructor;n=r?pu(e)?new a:[]:kl(Ka(a)?a.prototype:X)}else n={};return(r?i:pn)(e,function(e,i,r){return t(n,e,i,r)}),n}function $o(e,t){return null==e||Zn(e,t)}function Ho(e){return e?w(e,Ao(e)):[]}function qo(e){return null==e?w(e,Ro(e)):[]}function Wo(e,t,n){return n===X&&(n=t,t=X),n!==X&&(n=+n,e=dl(e,n===n?n:0)),t!==X&&(t=+t,e=cl(e,t===t?t:0)),e}function jo(e,t,n){return t=+t||0,n===X?(n=t,t=0):n=+n||0,e>=dl(t,n)&&e<cl(t,n)}function Vo(e,t,n){n&&qi(e,t,n)&&(t=n=X);var i=e===X,r=t===X;if(n===X&&(r&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,r=!0)),i&&r&&(t=1,r=!1),e=+e||0,r?(t=e,e=0):t=+t||0,n||e%1||t%1){var a=fl();return dl(e+a*(t-e+nl("1e-"+((a+"").length-1))),t)}return Hn(e,t)}function Ko(e){return Au(vo(e).toLowerCase())}function Go(e){return e=vo(e),e&&e.replace(vt,R).replace(Zt,"")}function Yo(e,t,n){e=vo(e),t="string"==typeof t?t:t+"";var i=e.length;return n=n===X?i:Wo(po(n),0,i),n-=t.length,n>=0&&e.indexOf(t,n)==n}function Xo(e){return e=vo(e),e&&nt.test(e)?e.replace(et,I):e}function Qo(e){return e=vo(e),e&&ct.test(e)?e.replace(ut,"\\$&"):e}function Zo(e,t,n){e=vo(e),t=po(t);var i=W(e);if(!t||i>=t)return e;var r=(t-i)/2,a=sl(r),o=ol(r);return Si("",a,n)+e+Si("",o,n)}function Jo(e,t,n){return e=vo(e),Si(e,t,n)+e}function es(e,t,n){return e=vo(e),e+Si(e,t,n)}function ts(e,t,n){return n||null==t?t=0:t&&(t=+t),e=ss(e),hl(e,t||(pt.test(e)?16:10))}function ns(e,t){e=vo(e),t=po(t);var n="";if(!e||t<1||t>be)return n;do t%2&&(n+=e),t=sl(t/2),e+=e;while(t);return n}function is(e,t,n){return e=vo(e),n=Wo(po(n),0,e.length),e.lastIndexOf(t,n)==n}function rs(e,t,n){var i=U.templateSettings;n&&qi(e,t,n)&&(t=n=X),e=vo(e),t=xu({},n||t,i,P);var r,a,o=xu({},t.imports,i.imports,P),s=Ao(o),l=w(o,s),u=0,c=t.interpolate||yt,d="__p += '",h=Ns((t.escape||yt).source+"|"+c.source+"|"+(c===at?ht:yt).source+"|"+(t.evaluate||yt).source+"|$","g"),f="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++on+"]")+"\n";e.replace(h,function(t,n,i,o,s,l){return i||(i=o),d+=e.slice(u,l).replace(_t,O),n&&(r=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=l+t.length,t}),d+="';\n";var p=t.variable;p||(d="with (obj) {\n"+d+"\n}\n"),d=(a?d.replace(Xe,""):d).replace(Qe,"$1").replace(Ze,"$1;"),d="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Pu(function(){return Function(s,f+"return "+d).apply(X,l)});if(g.source=d,ja(g))throw g;return g}function as(e){return vo(e).toLowerCase()}function os(e){return vo(e).toUpperCase()}function ss(e,t,n){if(e=vo(e),!e)return e;if(n||t===X)return e.slice(V(e),K(e)+1);if(t+="",!t)return e;var i=j(e),r=j(t);return i.slice(k(i,r),S(i,r)+1).join("")}function ls(e,t,n){if(e=vo(e),!e)return e;if(n||t===X)return e.slice(V(e));if(t+="",!t)return e;var i=j(e);return i.slice(k(i,j(t))).join("")}function us(e,t,n){if(e=vo(e),!e)return e;if(n||t===X)return e.slice(0,K(e)+1);if(t+="",!t)return e;var i=j(e);return i.slice(0,S(i,j(t))+1).join("")}function cs(e,t){var n=ce,i=de;if(Ya(t)){var r="separator"in t?t.separator:r;n="length"in t?po(t.length):n,i="omission"in t?vo(t.omission):i}e=vo(e);var a=e.length;if(en.test(e)){var o=j(e);a=o.length}if(n>=a)return e;var s=n-W(i);if(s<1)return i;var l=o?o.slice(0,s).join(""):e.slice(0,s);if(r===X)return l+i;if(o&&(s+=l.length-s),ao(r)){if(e.slice(s).search(r)){var u,c=l;for(r.global||(r=Ns(r.source,vo(ft.exec(r))+"g")),r.lastIndex=0;u=r.exec(c);)var d=u.index;l=l.slice(0,d===X?s:d)}}else if(e.indexOf(r,s)!=s){var h=l.lastIndexOf(r);h>-1&&(l=l.slice(0,h))}return l+i}function ds(e){return e=vo(e),e&&tt.test(e)?e.replace(Je,G):e}function hs(e,t,n){return e=vo(e),t=n?X:t,t===X&&(t=rn.test(e)?nn:tn),e.match(t)||[]}function fs(e){return function(){return e}}function ps(e){return e}function gs(e){return Xa(e)&&!pu(e)?ms(e):Cn(e)}function ms(e){return Rn(Yt(e,!0))}function vs(e,t){return In(e,Yt(t,!0))}function ys(e,t,n){var r=Ao(t),a=mn(t,r);null!=n||Ya(t)&&(a.length||!r.length)||(n=t,t=e,e=this,a=mn(t,Ao(t)));var o=!(Ya(n)&&"chain"in n)||n.chain,s=Ka(e);return i(a,function(n){var i=t[n];e[n]=i,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),r=n.__actions__=D(this.__actions__);return r.push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,l([this.value()],arguments))})}),e}function _s(){return xn._=Ks,this}function bs(){}function xs(e){return Wi(e)?Nn(e):zn(e)}function ws(e){return function(t){return null==e?X:vn(e,t)}}function ks(e,t,n){n&&qi(e,t,n)&&(t=n=X),e=+e,e=e===e?e:0,n=n===X?1:+n||0,t===X?(t=e,e=0):t=+t||0;var i=cl(ol((t-e)/(n||1)),0);return x(i,function(t){return t?e+=n:e})}function Ss(e,t){if(e=po(e),e<1||e>be)return[];var n=we,i=dl(e,we);t=tr(t),e-=we;for(var r=x(i,t);++n<e;)t(n);return r}function Es(e){return pu(e)?s(e,String):Ji(e)}function Ts(e){var t=++Ws;return vo(e)+t}function Cs(e,t){var n;return e===e&&null!=e&&(n=e),t===t&&null!=t&&(n=n===X?t:n+t),n}function Ds(e){return e&&e.length?p(e,ps,Pa):X}function Ms(e,t){return e&&e.length?p(e,Ii(t),Pa):X}function As(e){return e&&e.length?p(e,ps,co):X}function Rs(e,t){return e&&e.length?p(e,Ii(t),co):X}function Is(e){return e&&e.length?b(e,ps):X}function Os(e,t){return e&&e.length?b(e,Ii(t)):X}E=E?wn.defaults({},E,wn.pick(xn,an)):xn;var Ps=E.Date,Ls=E.Error,Fs=E.Math,Ns=E.RegExp,zs=E.TypeError,Us=E.Array.prototype,Bs=E.Object.prototype,$s=E.String.prototype,Hs=E.Function.prototype.toString,qs=Bs.hasOwnProperty,Ws=0,js=Hs.call(Object),Vs=Bs.toString,Ks=xn._,Gs=Ns("^"+Hs.call(qs).replace(ut,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ys=E.Reflect,Xs=E.Symbol,Qs=E.Uint8Array,Zs=E.clearTimeout,Js=Ys?Ys.enumerate:X,el=Object.getPrototypeOf,tl="symbol"==typeof(tl=Xs&&Xs.iterator)?tl:X,nl=E.parseFloat,il=(Fs.pow,Bs.propertyIsEnumerable),rl=E.setTimeout,al=Us.splice,ol=Fs.ceil,sl=Fs.floor,ll=E.isFinite,ul=Object.keys,cl=Fs.max,dl=Fs.min,hl=E.parseInt,fl=Fs.random,pl=Us.reverse,gl=Pi(E,"Map"),ml=Pi(E,"Set"),vl=Pi(E,"WeakMap"),yl=Pi(Object,"create"),_l=vl&&new vl,bl=gl?Hs.call(gl):"",xl=ml?Hs.call(ml):"",wl={};U.templateSettings={escape:it,evaluate:rt,interpolate:at,variable:"",imports:{_:U}};var kl=function(){function e(){}return function(t){if(Ya(t)){e.prototype=t;var n=new e;e.prototype=X}return n||{}}}(),Sl=pi(pn),El=pi(gn,!0),Tl=gi(),Cl=gi(!0);Js&&!il.call({valueOf:1},"valueOf")&&(Mn=function(e){return B(Js(e))});var Dl=_l?function(e,t){return _l.set(e,t),e}:ps,Ml=_l?function(e){return _l.get(e)}:bs,Al=Nn("length");(gl&&Li(new gl)!=Oe||ml&&Li(new ml)!=Ne)&&(Li=function(e){var t=Vs.call(e),n=t==Le?e.constructor:null,i="function"==typeof n?Hs.call(n):"";return i==bl?Oe:i==xl?Ne:t});var Rl=function(){var e=0,t=0;return function(n,i){var r=Zl(),a=fe-(r-t);if(t=r,a>0){if(++e>=he)return n}else e=0;return Dl(n,i)}}(),Il=Ea(function(e,t){return za(e)?Qt(e,hn(t,!1,!0)):[]}),Ol=Ea(function(e,t){var n=vr(t);return za(n)&&(n=X),za(e)?Jt(e,hn(t,!1,!0),Ii(n)):[]}),Pl=Ea(function(e){var t=s(e,er);return t.length&&t[0]===e[0]?bn(t):[]}),Ll=Ea(function(e){var t=vr(e),n=s(e,er);return t===vr(n)?t=X:n.pop(),n.length&&n[0]===e[0]?kn(n,Ii(t)):[]}),Fl=Ea(_r),Nl=Ea(function(e,t){t=s(hn(t),String);var n=Gt(e,t);return $n(e,t.sort(T)),n}),zl=Ea(function(e){return Xn(hn(e,!1,!0))}),Ul=Ea(function(e){var t=vr(e);return za(t)&&(t=X),Qn(hn(e,!1,!0),Ii(t))}),Bl=Ea(function(e,t){return za(e)?Qt(e,t):[]}),$l=Ea(function(e){return ti(o(e,za))}),Hl=Ea(function(e){var t=vr(e);return za(t)&&(t=X),ni(o(e,za),Ii(t))}),ql=Ea(Ur),Wl=Ea(function(e){var t=e.length,n=t>1?e[t-1]:X;return n="function"==typeof n?(e.pop(),n):X,Br(e,n)}),jl=Ea(function(e){return e=hn(e),this.thru(function(t){return n(pu(t)?t:[Object(t)],e)})}),Vl=hi(function(e,t,n){qs.call(e,n)?++e[n]:e[n]=1}),Kl=hi(function(e,t,n){qs.call(e,n)?e[n].push(t):e[n]=[t]}),Gl=Ea(function(e,t,n){var i=-1,r="function"==typeof t,a=Wi(t),o=Na(e)?Array(e.length):[];return Sl(e,function(e){var s=r?t:a&&null!=e?e[t]:X;o[++i]=s?s.apply(e,n):Hi(e,t,n)}),o}),Yl=hi(function(e,t,n){e[n]=t}),Xl=hi(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Ql=Ea(function(e,t){if(null==e)return[];var n=t.length;return n>1&&qi(e,t[0],t[1])?t=[]:n>2&&qi(t[0],t[1],t[2])&&(t.length=1),Vn(e,hn(t),[])}),Zl=Ps.now,Jl=Ea(function(e,t,n){var i=Z;if(n.length){var r=H(n,Jl.placeholder);i|=ie}return Ci(e,i,t,n,r)}),eu=Ea(function(e,t){return i(hn(t),function(t){e[t]=Jl(e[t],e)}),e}),tu=Ea(function(e,t,n){var i=Z|J;if(n.length){var r=H(n,tu.placeholder);i|=ie}return Ci(t,i,e,n,r)}),nu=wi(a),iu=Ea(function(e,t){return Xt(e,1,t)}),ru=Ea(function(e,t,n){return Xt(e,t,n)}),au=wi(d),ou=bi(),su=bi(!0),lu=wi(s),uu=ki(function(e){return[e]}),cu=ki(function(e,t,n){return n}),du=Ea(function(e,t){var n=H(t,du.placeholder);return Ci(e,ie,X,t,n)}),hu=Ea(function(e,t){var n=H(t,hu.placeholder);return Ci(e,re,X,t,n)}),fu=Ea(function(e,t){return Ci(e,oe,X,X,X,hn(t))}),pu=Array.isArray,gu=fi(function(e,t){M(t,Ao(t),e)}),mu=fi(function(e,t,n){A(t,Ao(t),e,n)}),vu=Ea(function(e,t){return Gt(e,hn(t))}),yu=Ea(function(e){return e.push(X,P),xu.apply(X,e)}),_u=Ea(function(e){return e.push(X,Xi),ku.apply(X,e)}),bu=fi(function(e,t){M(t,Ro(t),e)}),xu=fi(function(e,t,n){A(t,Ro(t),e,n)}),wu=fi(function(e,t){On(e,t)}),ku=fi(function(e,t,n){On(e,t,n)}),Su=Ea(function(e,t){return null==e?{}:(t=s(hn(t),String),Ln(e,Qt(Ro(e),t)))}),Eu=Ea(function(e,t){return null==e?{}:Ln(e,hn(t))}),Tu=yi(function(e,t,n){return t=t.toLowerCase(),e+(n?Ko(t):t)}),Cu=yi(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Du=yi(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Mu=vi("toLowerCase"),Au=vi("toUpperCase"),Ru=yi(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Iu=yi(function(e,t,n){return e+(n?" ":"")+Ko(t)}),Ou=yi(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Pu=Ea(function(e,t){try{return e.apply(X,t)}catch(n){return ja(n)?n:new Ls(n)}}),Lu=Ea(function(e,t){return function(n){return Hi(n,e,t)}}),Fu=Ea(function(e,t){return function(n){return Hi(e,n,t)}}),Nu=Ti("ceil"),zu=Ti("floor"),Uu=Ti("round");return U.prototype=Ue.prototype,mt.prototype=kl(Ue.prototype),mt.prototype.constructor=mt,bt.prototype=kl(Ue.prototype),bt.prototype.constructor=bt,St.prototype=yl?yl(null):Bs,Mt.prototype["delete"]=At,Mt.prototype.get=Rt,Mt.prototype.has=It,Mt.prototype.set=Ot,Pt.prototype.push=Ft,Nt.prototype["delete"]=zt,Nt.prototype.get=Ut,Nt.prototype.has=Bt,Nt.prototype.set=$t,wa.Cache=Mt,U.after=ga,U.ary=ma,U.assign=gu,U.assignWith=mu,U.at=vu,U.before=va,U.bind=Jl,U.bindAll=eu,U.bindKey=tu,U.chain=Hr,U.chunk=ir,U.compact=rr,U.conj=nu,U.constant=fs,U.countBy=Vl,U.create=yo,U.curry=ya,U.curryRight=_a,U.debounce=ba,U.defaults=yu,U.defaultsDeep=_u,U.defer=iu,U.delay=ru,U.difference=Il,U.differenceBy=Ol,U.disj=au,U.drop=ar,U.dropRight=or,U.dropRightWhile=sr,U.dropWhile=lr,U.extend=bu,U.extendWith=xu,U.fill=ur,U.filter=Jr,U.flatten=hr,U.flattenDeep=fr,U.flip=xa,U.flow=ou,U.flowRight=su,U.functions=Eo,U.groupBy=Kl,U.initial=mr,U.intersection=Pl,U.intersectionBy=Ll,U.invert=Mo,U.invoke=Gl,U.iteratee=gs,U.juxt=lu,U.keyBy=Yl,U.keys=Ao,U.keysIn=Ro,U.map=aa,U.mapKeys=Io,U.mapValues=Oo,U.matches=ms,U.matchesProperty=vs,U.memoize=wa,U.merge=wu,U.mergeWith=ku,U.method=Lu,U.methodOf=Fu,U.mixin=ys,U.modArgs=uu,U.modArgsSet=cu,U.negate=ka,U.omit=Su,U.omitBy=Po,U.once=Sa,U.pairs=Lo,U.partial=du,U.partialRight=hu,U.partition=Xl,U.pick=Eu,U.pickBy=Fo,U.property=xs,U.propertyOf=ws,U.pull=Fl,U.pullAll=_r,U.pullAllBy=br,U.pullAt=Nl,U.range=ks,U.rearg=fu,U.reject=la,U.remove=xr,U.rest=Ea,U.reverse=wr,U.sampleSize=ca,U.set=zo,U.setWith=Uo,U.shuffle=da,U.slice=kr,U.sortBy=Ql,U.sortByOrder=pa,U.sortedUniq=Ar,U.sortedUniqBy=Rr,U.spread=Ta,U.tail=Ir,U.take=Or,U.takeRight=Pr,U.takeRightWhile=Lr,U.takeWhile=Fr,U.tap=qr,U.throttle=Ca,U.thru=Wr,U.times=Ss,U.toArray=fo,U.toPath=Es,U.toPlainObject=go,U.transform=Bo,U.union=zl,U.unionBy=Ul,U.uniq=Nr,U.uniqBy=zr,U.unset=$o,U.unzip=Ur,U.unzipWith=Br,U.values=Ho,U.valuesIn=qo,U.without=Bl,U.words=hs,U.wrap=Da,U.xor=$l,U.xorBy=Hl,U.zip=ql,U.zipObject=$r,U.zipWith=Wl,U.each=na,U.eachRight=ia,ys(U,U),U.add=Cs,U.attempt=Pu,U.camelCase=Tu,U.capitalize=Ko,U.ceil=Nu,U.clamp=Wo,U.clone=Ma,U.cloneDeep=Ra,U.cloneDeepWith=Ia,U.cloneWith=Aa,U.deburr=Go,U.endsWith=Yo,U.eq=Oa,U.escape=Xo,U.escapeRegExp=Qo,U.every=Zr,U.find=ea,U.findIndex=cr,U.findKey=_o,U.findLast=ta,U.findLastIndex=dr,U.findLastKey=bo,U.floor=zu,U.forEach=na,U.forEachRight=ia,U.forIn=xo,U.forInRight=wo,U.forOwn=ko,U.forOwnRight=So,U.get=To,U.gt=Pa,U.gte=La,U.has=Co,U.hasIn=Do,U.head=pr,U.identity=ps,U.includes=ra,U.indexOf=gr,U.inRange=jo,U.isArguments=Fa,U.isArray=pu,U.isArrayLike=Na,U.isArrayLikeObject=za,U.isBoolean=Ua,U.isDate=Ba,U.isElement=$a,U.isEmpty=Ha,U.isEqual=qa,U.isEqualWith=Wa,U.isError=ja,U.isFinite=Va,U.isFunction=Ka,U.isInteger=Ga,U.isMatch=Qa,U.isMatchWith=Za,U.isNaN=Ja,U.isNative=eo,U.isNil=no,U.isNull=to,U.isNumber=io,U.isObject=Ya,U.isObjectLike=Xa,U.isPlainObject=ro,U.isRegExp=ao,U.isSafeInteger=oo,U.isString=so,U.isTypedArray=lo,U.isUndefined=uo,U.kebabCase=Cu,U.last=vr,U.lastIndexOf=yr,U.lowerCase=Du,U.lowerFirst=Mu,U.lt=co,U.lte=ho,U.max=Ds,U.maxBy=Ms,U.min=As,U.minBy=Rs,U.noConflict=_s,U.noop=bs,U.now=Zl,U.pad=Zo,U.padLeft=Jo,U.padRight=es,U.parseInt=ts,U.random=Vo,U.reduce=oa,U.reduceRight=sa,U.repeat=ns,U.result=No,U.round=Uu,U.runInContext=Y,U.sample=ua,U.size=ha,U.snakeCase=Ru,U.some=fa,U.sortedIndex=Sr,U.sortedIndexBy=Er,U.sortedIndexOf=Tr,U.sortedLastIndex=Cr,U.sortedLastIndexBy=Dr,U.sortedLastIndexOf=Mr,U.startCase=Iu,U.startsWith=is,U.sum=Is,U.sumBy=Os,U.template=rs,U.toInteger=po,U.toLower=as,U.toSafeInteger=mo,U.toString=vo,U.toUpper=os,U.trim=ss,U.trimLeft=ls,U.trimRight=us,U.trunc=cs,U.unescape=ds,U.uniqueId=Ts,U.upperCase=Ou,U.upperFirst=Au,U.first=pr,ys(U,function(){var e={};return pn(U,function(t,n){qs.call(U.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),U.VERSION=Q,i(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){U[e].placeholder=U}),i(["drop","take"],function(e,t){bt.prototype[e]=function(n){var i=this.__filtered__;if(i&&!t)return new bt(this);n=n===X?1:cl(po(n),0);var r=this.clone();return i?r.__takeCount__=dl(n,r.__takeCount__):r.__views__.push({size:dl(n,we),type:e+(r.__dir__<0?"Right":"")}),r},bt.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),i(["filter","map","takeWhile"],function(e,t){var n=t+1,i=n!=me;bt.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Ii(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}}),i(["head","last"],function(e,t){var n="take"+(t?"Right":"");bt.prototype[e]=function(){return this[n](1).value()[0]}}),i(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");bt.prototype[e]=function(){return this.__filtered__?new bt(this):this[n](1)}}),bt.prototype.compact=function(){return this.filter(ps)},bt.prototype.find=function(e){return this.filter(e).head()},bt.prototype.findLast=function(e){return this.reverse().find(e)},bt.prototype.reject=function(e){return e=Ii(e,3),this.filter(function(t){return!e(t)})},bt.prototype.slice=function(e,t){e=e?po(e):0;var n=this;return n.__filtered__&&(e>0||t<0)?new bt(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==X&&(t=po(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},bt.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},bt.prototype.toArray=function(){return this.take(we)},pn(bt.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),r=i||/^find/.test(t),a=U[i?"take"+("last"==t?"Right":""):t];a&&(U.prototype[t]=function(){var t=i?[1]:arguments,o=this.__wrapped__,s=o instanceof bt,u=t[0],c=s||pu(o),d=function(e){var n=a.apply(U,l([e],t));return i&&f?n[0]:n};c&&n&&"function"==typeof u&&1!=u.length&&(s=c=!1);var h={func:Wr,args:[d],thisArg:X},f=this.__chain__,p=!!this.__actions__.length,g=r&&!f,m=s&&!p;if(!r&&c){o=m?o:new bt(this);var v=e.apply(o,t);return v.__actions__.push(h),new mt(v,f)}return g&&m?e.apply(this,t):(v=this.thru(d),g?i?v.value()[0]:v.value():v)})}),i(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var t=(/^(?:replace|split)$/.test(e)?$s:Us)[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(e);U.prototype[e]=function(){var e=arguments;return i&&!this.__chain__?t.apply(this.value(),e):this[n](function(n){return t.apply(n,e)})}}),pn(bt.prototype,function(e,t){var n=U[t];if(n){var i=n.name+"",r=wl[i]||(wl[i]=[]);r.push({name:t,func:n})}}),wl[xi(X,J).name]=[{name:"wrapper",func:X}],bt.prototype.clone=xt,bt.prototype.reverse=wt,bt.prototype.value=kt,U.prototype.chain=jr,U.prototype.commit=Vr,U.prototype.concat=jl,U.prototype.next=Kr,U.prototype.plant=Yr,U.prototype.reverse=Xr,U.prototype.run=U.prototype.toJSON=U.prototype.valueOf=U.prototype.value=Qr,tl&&(U.prototype[tl]=Gr),U}var X,Q="4.0.0-pre",Z=1,J=2,ee=4,te=8,ne=16,ie=32,re=64,ae=128,oe=256,se=512,le=1,ue=2,ce=30,de="...",he=150,fe=16,pe=200,ge=1,me=2,ve="Expected a function",ye="__lodash_hash_undefined__",_e=1/0,be=9007199254740991,xe=1e308,we=4294967295,ke=we-1,Se=we>>>1,Ee="__lodash_placeholder__",Te="[object Arguments]",Ce="[object Array]",De="[object Boolean]",Me="[object Date]",Ae="[object Error]",Re="[object Function]",Ie="[object GeneratorFunction]",Oe="[object Map]",Pe="[object Number]",Le="[object Object]",Fe="[object RegExp]",Ne="[object Set]",ze="[object String]",Ue="[object WeakMap]",Be="[object ArrayBuffer]",$e="[object Float32Array]",He="[object Float64Array]",qe="[object Int8Array]",We="[object Int16Array]",je="[object Int32Array]",Ve="[object Uint8Array]",Ke="[object Uint8ClampedArray]",Ge="[object Uint16Array]",Ye="[object Uint32Array]",Xe=/\b__p \+= '';/g,Qe=/\b(__p \+=) '' \+/g,Ze=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Je=/&(?:amp|lt|gt|quot|#39|#96);/g,et=/[&<>"'`]/g,tt=RegExp(Je.source),nt=RegExp(et.source),it=/<%-([\s\S]+?)%>/g,rt=/<%([\s\S]+?)%>/g,at=/<%=([\s\S]+?)%>/g,ot=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,st=/^\w*$/,lt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,ut=/[\\^$.*+?()[\]{}|]/g,ct=RegExp(ut.source),dt=/\\(\\)?/g,ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ft=/\w*$/,pt=/^0[xX]/,gt=/^\[object .+?Constructor\]$/,mt=/^\d+$/,vt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,yt=/($^)/,_t=/['\n\r\u2028\u2029\\]/g,bt="\\ud800-\\udfff",xt="\\u0300-\\u036f\\ufe20-\\ufe23",wt="\\u2700-\\u27bf",kt="a-z\\xdf-\\xf6\\xf8-\\xff",St="\\xac\\xb1\\xd7\\xf7",Et="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Tt="\\u2018\\u2019\\u201c\\u201d",Ct=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Dt="A-Z\\xc0-\\xd6\\xd8-\\xde",Mt="\\ufe0e\\ufe0f",At=St+Et+Tt+Ct,Rt="["+bt+"]",It="["+At+"]",Ot="["+xt+"]",Pt="\\d+",Lt="["+wt+"]",Ft="["+kt+"]",Nt="[^"+bt+At+Pt+wt+kt+Dt+"]",zt="(?:\\ud83c[\\udffb-\\udfff])",Ut="[^"+bt+"]",Bt="(?:\\ud83c[\\udde6-\\uddff]){2}",$t="[\\ud800-\\udbff][\\udc00-\\udfff]",Ht="["+Dt+"]",qt="\\u200d",Wt="(?:"+Ft+"|"+Nt+")",jt="(?:"+Ht+"|"+Nt+")",Vt=zt+"?",Kt="["+Mt+"]?",Gt="(?:"+qt+"(?:"+[Ut,Bt,$t].join("|")+")"+Kt+Vt+")*",Yt=Kt+Vt+Gt,Xt="(?:"+[Lt,Bt,$t].join("|")+")"+Yt,Qt="(?:"+[Ut+Ot+"?",Ot,Bt,$t,Rt].join("|")+")",Zt=RegExp(Ot,"g"),Jt=RegExp(Qt+Yt,"g"),en=RegExp("["+qt+bt+xt+Mt+"]"),tn=/[a-zA-Z0-9]+/g,nn=RegExp([Ht+"?"+Ft+"+(?="+[It,Ht,"$"].join("|")+")",jt+"+(?="+[It,Ht+Wt,"$"].join("|")+")",Ht+"?"+Wt+"+",Pt+"(?:"+Wt+"+)?",Xt].join("|"),"g"),rn=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,an=["Array","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Object","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout"],on=-1,sn={};sn[$e]=sn[He]=sn[qe]=sn[We]=sn[je]=sn[Ve]=sn[Ke]=sn[Ge]=sn[Ye]=!0,sn[Te]=sn[Ce]=sn[Be]=sn[De]=sn[Me]=sn[Ae]=sn[Re]=sn[Oe]=sn[Pe]=sn[Le]=sn[Fe]=sn[Ne]=sn[ze]=sn[Ue]=!1;var ln={};ln[Te]=ln[Ce]=ln[Be]=ln[De]=ln[Me]=ln[$e]=ln[He]=ln[qe]=ln[We]=ln[je]=ln[Oe]=ln[Pe]=ln[Le]=ln[Fe]=ln[Ne]=ln[ze]=ln[Ve]=ln[Ke]=ln[Ge]=ln[Ye]=!0,ln[Ae]=ln[Re]=ln[Ue]=!1;var un={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},cn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},dn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},hn={"function":!0,object:!0},fn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},pn=hn[typeof exports]&&exports&&!exports.nodeType?exports:null,gn=hn[typeof module]&&module&&!module.nodeType?module:null,mn=E(pn&&gn&&"object"==typeof global&&global),vn=E(hn[typeof self]&&self),yn=E(hn[typeof window]&&window),_n=gn&&gn.exports===pn?pn:null,bn=E(hn[typeof this]&&this),xn=mn||yn!==(bn&&bn.window)&&yn||vn||bn||Function("return this")(),wn=Y();(yn||vn||{})._=wn,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return wn}):pn&&gn?_n?(gn.exports=wn)._=wn:pn._=wn:xn._=wn}.call(this),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,i=this;e(this).one("bsTransitionEnd",function(){n=!0});var r=function(){n||e(i).trigger(e.support.transition.end)};return setTimeout(r,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new i(this)),"string"==typeof t&&r[t].call(n)})}var n='[data-dismiss="alert"]',i=function(t){e(t).on("click",n,this.close)};i.VERSION="3.2.0",i.prototype.close=function(t){function n(){a.detach().trigger("closed.bs.alert").remove()}var i=e(this),r=i.attr("data-target");r||(r=i.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var a=e(r);t&&t.preventDefault(),a.length||(a=i.hasClass("alert")?i:i.parent()),a.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(150):n())};var r=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=i,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.button"),a="object"==typeof t&&t;r||i.data("bs.button",r=new n(this,a)),"toggle"==t?r.toggle():t&&r.setState(t)})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.2.0",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",i=this.$element,r=i.is("input")?"val":"html",a=i.data();t+="Text",null==a.resetText&&i.data("resetText",i[r]()),i[r](null==a[t]?this.options[t]:a[t]),setTimeout(e.proxy(function(){"loadingText"==t?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}e&&this.$element.toggleClass("active")};var i=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=i,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=e(n.target);i.hasClass("btn")||(i=i.closest(".btn")),t.call(i,"toggle"),n.preventDefault()})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.carousel"),a=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t),o="string"==typeof t?t:a.slide;r||i.data("bs.carousel",r=new n(this,a)),"number"==typeof t?r.to(t):o?r[o]():a.interval&&r.pause().cycle()})}var n=function(t,n){this.$element=e(t).on("keydown.bs.carousel",e.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.2.0",n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},n.prototype.keydown=function(e){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.to=function(t){var n=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",e(this.$items[t]))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,n){var i=this.$element.find(".item.active"),r=n||i[t](),a=this.interval,o="next"==t?"left":"right",s="next"==t?"first":"last",l=this;if(!r.length){if(!this.options.wrap)return;r=this.$element.find(".item")[s]()}if(r.hasClass("active"))return this.sliding=!1;var u=r[0],c=e.Event("slide.bs.carousel",{relatedTarget:u,direction:o});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=e(this.$indicators.children()[this.getItemIndex(r)]);d&&d.addClass("active")}var h=e.Event("slid.bs.carousel",{relatedTarget:u,direction:o});return e.support.transition&&this.$element.hasClass("slide")?(r.addClass(t),r[0].offsetWidth,i.addClass(o),r.addClass(o),i.one("bsTransitionEnd",function(){r.removeClass([t,o].join(" ")).addClass("active"),i.removeClass(["active",o].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(h)},0)}).emulateTransitionEnd(1e3*i.css("transition-duration").slice(0,-1))):(i.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(h)),a&&this.cycle(),this}};var i=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=i,this},e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(n){var i,r=e(this),a=e(r.attr("data-target")||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(a.hasClass("carousel")){var o=e.extend({},a.data(),r.data()),s=r.attr("data-slide-to");s&&(o.interval=!1),t.call(a,o),s&&a.data("bs.carousel").to(s),n.preventDefault()}}),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.collapse"),a=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);!r&&a.toggle&&"show"==t&&(t=!t),r||i.data("bs.collapse",r=new n(this,a)),"string"==typeof t&&r[t]()})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),
this.options.toggle&&this.toggle()};n.VERSION="3.2.0",n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var n=e.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var i=this.$parent&&this.$parent.find("> .panel > .in");if(i&&i.length){var r=i.data("bs.collapse");if(r&&r.transitioning)return;t.call(i,"hide"),r||i.data("bs.collapse",null)}var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return o.call(this);var s=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(o,this)).emulateTransitionEnd(350)[a](this.$element[0][s])}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(i,this)).emulateTransitionEnd(350):i.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var i=e.fn.collapse;e.fn.collapse=t,e.fn.collapse.Constructor=n,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var i,r=e(this),a=r.attr("data-target")||n.preventDefault()||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),o=e(a),s=o.data("bs.collapse"),l=s?"toggle":r.data(),u=r.attr("data-parent"),c=u&&e(u);s&&s.transitioning||(c&&c.find('[data-toggle="collapse"][data-parent="'+u+'"]').not(r).addClass("collapsed"),r[o.hasClass("in")?"addClass":"removeClass"]("collapsed")),t.call(o,l)})}(jQuery),+function(e){"use strict";function t(t){t&&3===t.which||(e(r).remove(),e(a).each(function(){var i=n(e(this)),r={relatedTarget:this};i.hasClass("open")&&(i.trigger(t=e.Event("hide.bs.dropdown",r)),t.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown",r))}))}function n(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&e(n);return i&&i.length?i:t.parent()}function i(t){return this.each(function(){var n=e(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new o(this)),"string"==typeof t&&i[t].call(n)})}var r=".dropdown-backdrop",a='[data-toggle="dropdown"]',o=function(t){e(t).on("click.bs.dropdown",this.toggle)};o.VERSION="3.2.0",o.prototype.toggle=function(i){var r=e(this);if(!r.is(".disabled, :disabled")){var a=n(r),o=a.hasClass("open");if(t(),!o){"ontouchstart"in document.documentElement&&!a.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var s={relatedTarget:this};if(a.trigger(i=e.Event("show.bs.dropdown",s)),i.isDefaultPrevented())return;r.trigger("focus"),a.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},o.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var i=e(this);if(t.preventDefault(),t.stopPropagation(),!i.is(".disabled, :disabled")){var r=n(i),o=r.hasClass("open");if(!o||o&&27==t.keyCode)return 27==t.which&&r.find(a).trigger("focus"),i.trigger("click");var s=" li:not(.divider):visible a",l=r.find('[role="menu"]'+s+', [role="listbox"]'+s);if(l.length){var u=l.index(l.filter(":focus"));38==t.keyCode&&u>0&&u--,40==t.keyCode&&u<l.length-1&&u++,~u||(u=0),l.eq(u).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=i,e.fn.dropdown.Constructor=o,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",a,o.prototype.toggle).on("keydown.bs.dropdown.data-api",a+', [role="menu"], [role="listbox"]',o.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t,i){return this.each(function(){var r=e(this),a=r.data("bs.modal"),o=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t);a||r.data("bs.modal",a=new n(this,o)),"string"==typeof t?a[t](i):o.show&&a.show(i)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.2.0",n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var n=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var i=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),i&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var r=e.Event("shown.bs.modal",{relatedTarget:t});i?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(r)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var n=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=e.support.transition&&i;if(this.$backdrop=e('<div class="modal-backdrop '+i+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;r?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(150):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(150):a()}else t&&t()},n.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var i=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=e(this),r=i.attr("href"),a=e(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),o=a.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},a.data(),i.data());i.is("a")&&n.preventDefault(),a.one("show.bs.modal",function(e){e.isDefaultPrevented()||a.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),t.call(a,o,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.tooltip"),a="object"==typeof t&&t;(r||"destroy"!=t)&&(r||i.data("bs.tooltip",r=new n(this,a)),"string"==typeof t&&r[t]())})}var n=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};n.VERSION="3.2.0",n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,i){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport);for(var r=this.options.trigger.split(" "),a=r.length;a--;){var o=r[a];if("click"==o)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=o){var s="hover"==o?"mouseenter":"focusin",l="hover"==o?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,i){n[e]!=i&&(t[e]=i)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show()},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var n=e.contains(document.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!n)return;var i=this,r=this.tip(),a=this.getUID(this.type);this.setContent(),r.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&r.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,l=s.test(o);l&&(o=o.replace(s,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(o).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);var u=this.getPosition(),c=r[0].offsetWidth,d=r[0].offsetHeight;if(l){var h=o,f=this.$element.parent(),p=this.getPosition(f);o="bottom"==o&&u.top+u.height+d-p.scroll>p.height?"top":"top"==o&&u.top-p.scroll-d<0?"bottom":"right"==o&&u.right+c>p.width?"left":"left"==o&&u.left-c<p.left?"right":o,r.removeClass(h).addClass(o)}var g=this.getCalculatedOffset(o,u,c,d);this.applyPlacement(g,o);var m=function(){i.$element.trigger("shown.bs."+i.type),i.hoverState=null};e.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",m).emulateTransitionEnd(150):m()}},n.prototype.applyPlacement=function(t,n){var i=this.tip(),r=i[0].offsetWidth,a=i[0].offsetHeight,o=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(s)&&(s=0),t.top=t.top+o,t.left=t.left+s,e.offset.setOffset(i[0],e.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),i.addClass("in");var l=i[0].offsetWidth,u=i[0].offsetHeight;"top"==n&&u!=a&&(t.top=t.top+a-u);var c=this.getViewportAdjustedDelta(n,t,l,u);c.left?t.left+=c.left:t.top+=c.top;var d=c.left?2*c.left-r+l:2*c.top-a+u,h=c.left?"left":"top",f=c.left?"offsetWidth":"offsetHeight";i.offset(t),this.replaceArrow(d,i[0][f],h)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(){function t(){"in"!=n.hoverState&&i.detach(),n.$element.trigger("hidden.bs."+n.type)}var n=this,i=this.tip(),r=e.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(r),r.isDefaultPrevented()?void 0:(i.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",t).emulateTransitionEnd(150):t(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],i="BODY"==n.tagName;return e.extend({},"function"==typeof n.getBoundingClientRect?n.getBoundingClientRect():null,{scroll:i?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop(),width:i?e(window).width():t.outerWidth(),height:i?e(window).height():t.outerHeight()},i?{top:0,left:0}:t.offset())},n.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var a=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-a-o.scroll,l=t.top+a-o.scroll+i;s<o.top?r.top=o.top-s:l>o.top+o.height&&(r.top=o.top+o.height-l)}else{var u=t.left-a,c=t.left+a+n;u<o.left?r.left=o.left-u:c>o.width&&(r.left=o.left+o.width-c)}return r},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=i,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.popover"),a="object"==typeof t&&t;(r||"destroy"!=t)&&(r||i.data("bs.popover",r=new n(this,a)),"string"==typeof t&&r[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.2.0",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").empty()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var i=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=i,this}}(jQuery),+function(e){"use strict";function t(n,i){var r=e.proxy(this.process,this);this.$body=e("body"),this.$scrollElement=e(e(n).is("body")?window:n),this.options=e.extend({},t.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",r),this.refresh(),this.process()}function n(n){return this.each(function(){var i=e(this),r=i.data("bs.scrollspy"),a="object"==typeof n&&n;r||i.data("bs.scrollspy",r=new t(this,a)),"string"==typeof n&&r[n]()})}t.VERSION="3.2.0",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t="offset",n=0;e.isWindow(this.$scrollElement[0])||(t="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var i=this;this.$body.find(this.selector).map(function(){var i=e(this),r=i.data("target")||i.attr("href"),a=/^#./.test(r)&&e(r);return a&&a.length&&a.is(":visible")&&[[a[t]().top+n,r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,a=this.targets,o=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=i)return o!=(e=a[a.length-1])&&this.activate(e);if(o&&t<=r[0])return o!=(e=a[0])&&this.activate(e);for(e=r.length;e--;)o!=a[e]&&t>=r[e]&&(!r[e+1]||t<=r[e+1])&&this.activate(a[e])},t.prototype.activate=function(t){this.activeTarget=t,e(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=e(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")};var i=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=i,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new n(this)),"string"==typeof t&&r[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.2.0",n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=n.find(".active:last a")[0],a=e.Event("show.bs.tab",{relatedTarget:r});if(t.trigger(a),!a.isDefaultPrevented()){var o=e(i);this.activate(t.closest("li"),n),this.activate(o,o.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:r})})}}},n.prototype.activate=function(t,n,i){function r(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),o?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),i&&i()}var a=n.find("> .active"),o=i&&e.support.transition&&a.hasClass("fade");o?a.one("bsTransitionEnd",r).emulateTransitionEnd(150):r(),a.removeClass("in")};var i=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=i,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(n){n.preventDefault(),t.call(e(this),"show")})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.affix"),a="object"==typeof t&&t;r||i.data("bs.affix",r=new n(this,a)),"string"==typeof t&&r[t]()})}var n=function(t,i){this.options=e.extend({},n.DEFAULTS,i),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.2.0",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=e(document).height(),i=this.$target.scrollTop(),r=this.$element.offset(),a=this.options.offset,o=a.top,s=a.bottom;"object"!=typeof a&&(s=o=a),"function"==typeof o&&(o=a.top(this.$element)),"function"==typeof s&&(s=a.bottom(this.$element));var l=!(null!=this.unpin&&i+this.unpin<=r.top)&&(null!=s&&r.top+this.$element.height()>=t-s?"bottom":null!=o&&o>=i&&"top");if(this.affixed!==l){null!=this.unpin&&this.$element.css("top","");var u="affix"+(l?"-"+l:""),c=e.Event(u+".bs.affix");this.$element.trigger(c),c.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(u).trigger(e.Event(u.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:t-this.$element.height()-s}))}}};var i=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),i=n.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),t.call(n,i)})})}(jQuery),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(e,t,n){function i(e){for(var t in e)if(void 0!==a.style[t])return e[t]}var r=function(i,a,o){o=o||{};var s=e.defer(),l=r[o.animation?"animationEndEventName":"transitionEndEventName"],u=function(e){n.$apply(function(){i.unbind(l,u),s.resolve(i)})};return l&&i.bind(l,u),t(function(){angular.isString(a)?i.addClass(a):angular.isFunction(a)?a(i):angular.isObject(a)&&i.css(a),l||s.resolve(i)}),s.promise.cancel=function(){l&&i.unbind(l,u),s.reject("Transition cancelled")},s.promise},a=document.createElement("trans"),o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},s={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return r.transitionEndEventName=i(o),r.animationEndEventName=i(s),r}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(e){return{link:function(t,n,i){function r(t){function i(){u===r&&(u=void 0)}var r=e(n,t);return u&&u.cancel(),u=r,r.then(i,i),r}function a(){c?(c=!1,o()):(n.removeClass("collapse").addClass("collapsing"),r({height:n[0].scrollHeight+"px"}).then(o))}function o(){n.removeClass("collapsing"),n.addClass("collapse in"),n.css({height:"auto"})}function s(){if(c)c=!1,l(),n.css({height:0});else{n.css({height:n[0].scrollHeight+"px"});n[0].offsetWidth;n.removeClass("collapse in").addClass("collapsing"),r({height:0}).then(l)}}function l(){n.removeClass("collapsing"),n.addClass("collapse")}var u,c=!0;t.$watch(i.collapse,function(e){e?s():a()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(i){var r=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;r&&angular.forEach(this.groups,function(e){e!==i&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(n){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);t!==-1&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,i){i.addGroup(e),e.$watch("isOpen",function(t){t&&i.closeOthers(e)}),e.toggleOpen=function(){e.isDisabled||(e.isOpen=!e.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,t,n,i,r){i.setHeading(r(e,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,i){e.$watch(function(){return i[n.accordionTransclude]},function(e){e&&(t.html(""),t.append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable="close"in t,this.close=e.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(e){return{require:"alert",link:function(t,n,i,r){e(function(){r.close()},parseInt(i.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),e.$watch(n.bindHtmlUnsafe,function(e){t.html(e||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(e,t,n,i){var r=i[0],a=i[1];a.$render=function(){t.toggleClass(r.activeClass,angular.equals(a.$modelValue,e.$eval(n.btnRadio)))},t.bind(r.toggleEvent,function(){var i=t.hasClass(r.activeClass);i&&!angular.isDefined(n.uncheckable)||e.$apply(function(){a.$setViewValue(i?null:e.$eval(n.btnRadio)),a.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(e,t,n,i){function r(){return o(n.btnCheckboxTrue,!0)}function a(){return o(n.btnCheckboxFalse,!1)}function o(t,n){var i=e.$eval(t);return angular.isDefined(i)?i:n}var s=i[0],l=i[1];l.$render=function(){t.toggleClass(s.activeClass,angular.equals(l.$modelValue,r()))},t.bind(s.toggleEvent,function(){e.$apply(function(){l.$setViewValue(t.hasClass(s.activeClass)?a():r()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$interval","$transition",function(e,t,n,i){function r(){a();var t=+e.interval;!isNaN(t)&&t>0&&(s=n(o,t))}function a(){s&&(n.cancel(s),s=null)}function o(){var t=+e.interval;l&&!isNaN(t)&&t>0?e.next():e.pause()}var s,l,u=this,c=u.slides=e.slides=[],d=-1;u.currentSlide=null;var h=!1;u.select=e.select=function(n,a){function o(){if(!h){if(u.currentSlide&&angular.isString(a)&&!e.noTransition&&n.$element){n.$element.addClass(a);n.$element[0].offsetWidth;angular.forEach(c,function(e){angular.extend(e,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(n,{direction:a,active:!0,entering:!0}),angular.extend(u.currentSlide||{},{direction:a,leaving:!0}),e.$currentTransition=i(n.$element,{}),function(t,n){e.$currentTransition.then(function(){s(t,n)},function(){s(t,n)})}(n,u.currentSlide)}else s(n,u.currentSlide);u.currentSlide=n,d=l,r()}}function s(t,n){
angular.extend(t,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(n||{},{direction:"",active:!1,leaving:!1,entering:!1}),e.$currentTransition=null}var l=c.indexOf(n);void 0===a&&(a=l>d?"next":"prev"),n&&n!==u.currentSlide&&(e.$currentTransition?(e.$currentTransition.cancel(),t(o)):o())},e.$on("$destroy",function(){h=!0}),u.indexOfSlide=function(e){return c.indexOf(e)},e.next=function(){var t=(d+1)%c.length;if(!e.$currentTransition)return u.select(c[t],"next")},e.prev=function(){var t=d-1<0?c.length-1:d-1;if(!e.$currentTransition)return u.select(c[t],"prev")},e.isActive=function(e){return u.currentSlide===e},e.$watch("interval",r),e.$on("$destroy",a),e.play=function(){l||(l=!0,r())},e.pause=function(){e.noPause||(l=!1,a())},u.addSlide=function(t,n){t.$element=n,c.push(t),1===c.length||t.active?(u.select(c[c.length-1]),1==c.length&&e.play()):t.active=!1},u.removeSlide=function(e){var t=c.indexOf(e);c.splice(t,1),c.length>0&&e.active?t>=c.length?u.select(c[t-1]):u.select(c[t]):d>t&&d--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(e,t,n,i){i.addSlide(e,t),e.$on("$destroy",function(){i.removeSlide(e)}),e.$watch("active",function(t){t&&i.select(e)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(e,t){function n(e){var n=[],i=e.split("");return angular.forEach(r,function(t,r){var a=e.indexOf(r);if(a>-1){e=e.split(""),i[a]="("+t.regex+")",e[a]="$";for(var o=a+1,s=a+r.length;o<s;o++)i[o]="",e[o]="$";e=e.join(""),n.push({index:a,apply:t.apply})}}),{regex:new RegExp("^"+i.join("")+"$"),map:t(n,"index")}}function i(e,t,n){return 1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3!==t&&5!==t&&8!==t&&10!==t||n<31}this.parsers={};var r={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:e.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.MONTH.indexOf(t)}},MMM:{regex:e.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.SHORTMONTH.indexOf(t)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:e.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:e.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(t,r){if(!angular.isString(t)||!r)return t;r=e.DATETIME_FORMATS[r]||r,this.parsers[r]||(this.parsers[r]=n(r));var a=this.parsers[r],o=a.regex,s=a.map,l=t.match(o);if(l&&l.length){for(var u,c={year:1900,month:0,date:1,hours:0},d=1,h=l.length;d<h;d++){var f=s[d-1];f.apply&&f.apply.call(c,l[d])}return i(c.year,c.month,c.date)&&(u=new Date(c.year,c.month,c.date,c.hours)),u}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function i(e){return"static"===(n(e,"position")||"static")}var r=function(t){for(var n=e[0],r=t.offsetParent||n;r&&r!==n&&i(r);)r=r.offsetParent;return r||n};return{position:function(t){var n=this.offset(t),i={top:0,left:0},a=r(t[0]);a!=e[0]&&(i=this.offset(angular.element(a)),i.top+=a.clientTop-a.scrollTop,i.left+=a.clientLeft-a.scrollLeft);var o=t[0].getBoundingClientRect();return{width:o.width||t.prop("offsetWidth"),height:o.height||t.prop("offsetHeight"),top:n.top-i.top,left:n.left-i.left}},offset:function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,i){var r,a,o,s,l=n.split("-"),u=l[0],c=l[1]||"center";r=i?this.offset(e):this.position(e),a=t.prop("offsetWidth"),o=t.prop("offsetHeight");var d={center:function(){return r.left+r.width/2-a/2},left:function(){return r.left},right:function(){return r.left+r.width}},h={center:function(){return r.top+r.height/2-o/2},top:function(){return r.top},bottom:function(){return r.top+r.height}};switch(u){case"right":s={top:h[c](),left:d[u]()};break;case"left":s={top:h[c](),left:r.left-a};break;case"bottom":s={top:h[u](),left:d[c]()};break;default:s={top:r.top-o,left:d[c]()}}return s}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(e,t,n,i,r,a,o,s){var l=this,u={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(n,r){l[n]=angular.isDefined(t[n])?r<8?i(t[n])(e.$parent):e.$parent.$eval(t[n]):s[n]}),angular.forEach(["minDate","maxDate"],function(i){t[i]?e.$parent.$watch(n(t[i]),function(e){l[i]=e?new Date(e):null,l.refreshView()}):l[i]=s[i]?new Date(s[i]):null}),e.datepickerMode=e.datepickerMode||s.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(t.initDate)?e.$parent.$eval(t.initDate):new Date,e.isActive=function(t){return 0===l.compare(t.date,l.activeDate)&&(e.activeDateId=t.uid,!0)},this.init=function(e){u=e,u.$render=function(){l.render()}},this.render=function(){if(u.$modelValue){var e=new Date(u.$modelValue),t=!isNaN(e);t?this.activeDate=e:a.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),u.$setValidity("date",t)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=u.$modelValue?new Date(u.$modelValue):null;u.$setValidity("date-disabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=u.$modelValue?new Date(u.$modelValue):null;return{date:e,label:o(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===l.minMode){var n=u.$modelValue?new Date(u.$modelValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),u.$setViewValue(n),u.$render()}else l.activeDate=t,e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=l.activeDate.getFullYear()+e*(l.step.years||0),n=l.activeDate.getMonth()+e*(l.step.months||0);l.activeDate.setFullYear(t,n,1),l.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===l.maxMode&&1===t||e.datepickerMode===l.minMode&&t===-1||(e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var c=function(){r(function(){l.element[0].focus()},0,!1)};e.$on("datepicker.focus",c),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),t.stopPropagation(),"enter"===n||"space"===n){if(l.isDisabled(l.activeDate))return;e.select(l.activeDate),c()}else!t.ctrlKey||"up"!==n&&"down"!==n?(l.handleKeyDown(n,t),l.refreshView()):(e.toggleMode("up"===n?1:-1),c())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,t,n,i){var r=i[0],a=i[1];a&&r.init(a)}}}).directive("daypicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,n,i,r){function a(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?l[t]:29}function o(e,t){var n=new Array(t),i=new Date(e),r=0;for(i.setHours(12);r<t;)n[r++]=new Date(i),i.setDate(i.getDate()+1);return n}function s(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}t.showWeeks=r.showWeeks,r.step={months:1},r.element=n;var l=[31,28,31,30,31,30,31,31,30,31,30,31];r._refreshView=function(){var n=r.activeDate.getFullYear(),i=r.activeDate.getMonth(),a=new Date(n,i,1),l=r.startingDay-a.getDay(),u=l>0?7-l:-l,c=new Date(a);u>0&&c.setDate(-u+1);for(var d=o(c,42),h=0;h<42;h++)d[h]=angular.extend(r.createDateObject(d[h],r.formatDay),{secondary:d[h].getMonth()!==i,uid:t.uniqueId+"-"+h});t.labels=new Array(7);for(var f=0;f<7;f++)t.labels[f]={abbr:e(d[f].date,r.formatDayHeader),full:e(d[f].date,"EEEE")};if(t.title=e(r.activeDate,r.formatDayTitle),t.rows=r.split(d,7),t.showWeeks){t.weekNumbers=[];for(var p=s(t.rows[0][0].date),g=t.rows.length;t.weekNumbers.push(p++)<g;);}},r.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},r.handleKeyDown=function(e,t){var n=r.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var i=r.activeDate.getMonth()+("pageup"===e?-1:1);r.activeDate.setMonth(i,1),n=Math.min(a(r.activeDate.getFullYear(),r.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=a(r.activeDate.getFullYear(),r.activeDate.getMonth()));r.activeDate.setDate(n)},r.refreshView()}}}]).directive("monthpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,n,i,r){r.step={years:1},r.element=n,r._refreshView=function(){for(var n=new Array(12),i=r.activeDate.getFullYear(),a=0;a<12;a++)n[a]=angular.extend(r.createDateObject(new Date(i,a,1),r.formatMonth),{uid:t.uniqueId+"-"+a});t.title=e(r.activeDate,r.formatMonthTitle),t.rows=r.split(n,3)},r.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},r.handleKeyDown=function(e,t){var n=r.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=3;else if("right"===e)n+=1;else if("down"===e)n+=3;else if("pageup"===e||"pagedown"===e){var i=r.activeDate.getFullYear()+("pageup"===e?-1:1);r.activeDate.setFullYear(i)}else"home"===e?n=0:"end"===e&&(n=11);r.activeDate.setMonth(n)},r.refreshView()}}}]).directive("yearpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(e,t,n,i){function r(e){return parseInt((e-1)/a,10)*a+1}var a=i.yearRange;i.step={years:a},i.element=t,i._refreshView=function(){for(var t=new Array(a),n=0,o=r(i.activeDate.getFullYear());n<a;n++)t[n]=angular.extend(i.createDateObject(new Date(o+n,0,1),i.formatYear),{uid:e.uniqueId+"-"+n});e.title=[t[0].label,t[a-1].label].join(" - "),e.rows=i.split(t,5)},i.compare=function(e,t){return e.getFullYear()-t.getFullYear()},i.handleKeyDown=function(e,t){var n=i.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=5:"right"===e?n+=1:"down"===e?n+=5:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*i.step.years:"home"===e?n=r(i.activeDate.getFullYear()):"end"===e&&(n=r(i.activeDate.getFullYear())+a-1),i.activeDate.setFullYear(n)},i.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(e,t,n,i,r,a,o){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(s,l,u,c){function d(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function h(e){if(e){if(angular.isDate(e)&&!isNaN(e))return c.$setValidity("date",!0),e;if(angular.isString(e)){var t=a.parse(e,f)||new Date(e);return isNaN(t)?void c.$setValidity("date",!1):(c.$setValidity("date",!0),t)}return void c.$setValidity("date",!1)}return c.$setValidity("date",!0),null}var f,p=angular.isDefined(u.closeOnDateSelection)?s.$parent.$eval(u.closeOnDateSelection):o.closeOnDateSelection,g=angular.isDefined(u.datepickerAppendToBody)?s.$parent.$eval(u.datepickerAppendToBody):o.appendToBody;s.showButtonBar=angular.isDefined(u.showButtonBar)?s.$parent.$eval(u.showButtonBar):o.showButtonBar,s.getText=function(e){return s[e+"Text"]||o[e+"Text"]},u.$observe("datepickerPopup",function(e){f=e||o.datepickerPopup,c.$render()});var m=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");m.attr({"ng-model":"date","ng-change":"dateSelection()"});var v=angular.element(m.children()[0]);u.datepickerOptions&&angular.forEach(s.$parent.$eval(u.datepickerOptions),function(e,t){v.attr(d(t),e)}),s.watchData={},angular.forEach(["minDate","maxDate","datepickerMode"],function(e){if(u[e]){var n=t(u[e]);if(s.$parent.$watch(n,function(t){s.watchData[e]=t}),v.attr(d(e),"watchData."+e),"datepickerMode"===e){var i=n.assign;s.$watch("watchData."+e,function(e,t){e!==t&&i(s.$parent,e)})}}}),u.dateDisabled&&v.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),c.$parsers.unshift(h),s.dateSelection=function(e){angular.isDefined(e)&&(s.date=e),c.$setViewValue(s.date),c.$render(),p&&(s.isOpen=!1,l[0].focus())},l.bind("input change keyup",function(){s.$apply(function(){s.date=c.$modelValue})}),c.$render=function(){var e=c.$viewValue?r(c.$viewValue,f):"";l.val(e),s.date=h(c.$modelValue)};var y=function(e){s.isOpen&&e.target!==l[0]&&s.$apply(function(){s.isOpen=!1})},_=function(e,t){s.keydown(e)};l.bind("keydown",_),s.keydown=function(e){27===e.which?(e.preventDefault(),e.stopPropagation(),s.close()):40!==e.which||s.isOpen||(s.isOpen=!0)},s.$watch("isOpen",function(e){e?(s.$broadcast("datepicker.focus"),s.position=g?i.offset(l):i.position(l),s.position.top=s.position.top+l.prop("offsetHeight"),n.bind("click",y)):n.unbind("click",y)}),s.select=function(e){if("today"===e){var t=new Date;angular.isDate(c.$modelValue)?(e=new Date(c.$modelValue),e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):e=new Date(t.setHours(0,0,0,0))}s.dateSelection(e)},s.close=function(){s.isOpen=!1,l[0].focus()};var b=e(m)(s);m.remove(),g?n.find("body").append(b):l.after(b),s.$on("$destroy",function(){b.remove(),l.unbind("keydown",_),n.unbind("click",y)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(e,t,n){t.bind("click",function(e){e.preventDefault(),e.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(e){var t=null;this.open=function(r){t||(e.bind("click",n),e.bind("keydown",i)),t&&t!==r&&(t.isOpen=!1),t=r},this.close=function(r){t===r&&(t=null,e.unbind("click",n),e.unbind("keydown",i))};var n=function(e){if(t){var n=t.getToggleElement();e&&n&&n[0].contains(e.target)||t.$apply(function(){t.isOpen=!1})}},i=function(e){27===e.which&&(t.focusToggleElement(),n())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(e,t,n,i,r,a){var o,s=this,l=e.$new(),u=i.openClass,c=angular.noop,d=t.onToggle?n(t.onToggle):angular.noop;this.init=function(i){s.$element=i,t.isOpen&&(o=n(t.isOpen),c=o.assign,e.$watch(o,function(e){l.isOpen=!!e}))},this.toggle=function(e){return l.isOpen=arguments.length?!!e:!l.isOpen},this.isOpen=function(){return l.isOpen},l.getToggleElement=function(){return s.toggleElement},l.focusToggleElement=function(){s.toggleElement&&s.toggleElement[0].focus()},l.$watch("isOpen",function(t,n){a[t?"addClass":"removeClass"](s.$element,u),t?(l.focusToggleElement(),r.open(l)):r.close(l),c(e,t),angular.isDefined(t)&&t!==n&&d(e,{open:!!t})}),e.$on("$locationChangeSuccess",function(){l.isOpen=!1}),e.$on("$destroy",function(){l.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(e,t,n,i){i.init(t)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(e,t,n,i){if(i){i.toggleElement=t;var r=function(r){r.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){i.toggle()})};t.bind("click",r),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(i.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",r)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,i=0;i<e.length;i++)if(t==e[i].key){n=i;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$timeout",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(t,n,i){t.backdropClass=i.backdropClass||"",t.animate=!1,e(function(){t.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(e,t){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(n,i,r){i.addClass(r.windowClass||""),n.size=r.size,t(function(){n.animate=!0,i[0].querySelectorAll("[autofocus]").length||i[0].focus()}),n.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function(e,t,n,i,r){r(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(e,t,n,i,r,a){function o(){for(var e=-1,t=f.keys(),n=0;n<t.length;n++)f.get(t[n]).value.backdrop&&(e=n);return e}function s(e){var t=n.find("body").eq(0),i=f.get(e).value;f.remove(e),u(i.modalDomEl,i.modalScope,300,function(){i.modalScope.$destroy(),t.toggleClass(h,f.length()>0),l()})}function l(){if(c&&o()==-1){var e=d;u(c,d,150,function(){e.$destroy(),e=null}),c=void 0,d=void 0}}function u(n,i,r,a){function o(){o.done||(o.done=!0,n.remove(),a&&a())}i.animate=!1;var s=e.transitionEndEventName;if(s){var l=t(o,r);n.bind(s,function(){t.cancel(l),o(),i.$apply()})}else t(o)}var c,d,h="modal-open",f=a.createNew(),p={};return r.$watch(o,function(e){d&&(d.index=e)}),n.bind("keydown",function(e){var t;27===e.which&&(t=f.top(),t&&t.value.keyboard&&(e.preventDefault(),r.$apply(function(){p.dismiss(t.key,"escape key press")})))}),p.open=function(e,t){f.add(e,{deferred:t.deferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard});var a=n.find("body").eq(0),s=o();if(s>=0&&!c){d=r.$new(!0),d.index=s;var l=angular.element("<div modal-backdrop></div>");l.attr("backdrop-class",t.backdropClass),c=i(l)(d),a.append(c)}var u=angular.element("<div modal-window></div>");u.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:f.length()-1,animate:"animate"}).html(t.content);var p=i(u)(t.scope);f.top().value.modalDomEl=p,a.append(p),a.addClass(h)},p.close=function(e,t){var n=f.get(e);n&&(n.value.deferred.resolve(t),s(e))},p.dismiss=function(e,t){var n=f.get(e);n&&(n.value.deferred.reject(t),s(e))},p.dismissAll=function(e){for(var t=this.getTop();t;)this.dismiss(t.key,e),t=this.getTop()},p.getTop=function(){return f.top()},p}]).provider("$modal",function(){var e={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(t,n,i,r,a,o,s){function l(e){return e.template?i.when(e.template):r.get(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl,{cache:a}).then(function(e){return e.data})}function u(e){var n=[];return angular.forEach(e,function(e){(angular.isFunction(e)||angular.isArray(e))&&n.push(i.when(t.invoke(e)))}),n}var c={};return c.open=function(t){var r=i.defer(),a=i.defer(),c={result:r.promise,opened:a.promise,close:function(e){s.close(c,e)},dismiss:function(e){s.dismiss(c,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var d=i.all([l(t)].concat(u(t.resolve)));return d.then(function(e){var i=(t.scope||n).$new();i.$close=c.close,i.$dismiss=c.dismiss;var a,l={},u=1;t.controller&&(l.$scope=i,l.$modalInstance=c,angular.forEach(t.resolve,function(t,n){l[n]=e[u++]}),a=o(t.controller,l),t.controllerAs&&(i[t.controllerAs]=a)),s.open(c,{scope:i,deferred:r,content:e[0],backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size})},function(e){r.reject(e)}),d.then(function(){a.resolve(!0)},function(){a.reject(!1)}),c},c}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(e,t,n){var i=this,r={$setViewValue:angular.noop},a=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(a,o){r=a,this.config=o,r.$render=function(){i.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){i.itemsPerPage=parseInt(t,10),e.totalPages=i.calculateTotalPages()}):this.itemsPerPage=o.itemsPerPage},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(r.$viewValue,10)||1},e.selectPage=function(t){e.page!==t&&t>0&&t<=e.totalPages&&(r.$setViewValue(t),r.$render())},e.getText=function(t){return e[t+"Text"]||i.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages},e.$watch("totalItems",function(){e.totalPages=i.calculateTotalPages()}),e.$watch("totalPages",function(t){a(e.$parent,t),e.page>t?e.selectPage(t):r.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,i,r,a){function o(e,t,n){return{number:e,text:t,active:n}}function s(e,t){var n=[],i=1,r=t,a=angular.isDefined(c)&&c<t;a&&(d?(i=Math.max(e-Math.floor(c/2),1),r=i+c-1,r>t&&(r=t,i=r-c+1)):(i=(Math.ceil(e/c)-1)*c+1,r=Math.min(i+c-1,t)));for(var s=i;s<=r;s++){var l=o(s,s,s===e);n.push(l)}if(a&&!d){if(i>1){var u=o(i-1,"...",!1);n.unshift(u)}if(r<t){var h=o(r+1,"...",!1);n.push(h)}}return n}var l=a[0],u=a[1];if(u){var c=angular.isDefined(r.maxSize)?n.$parent.$eval(r.maxSize):t.maxSize,d=angular.isDefined(r.rotate)?n.$parent.$eval(r.rotate):t.rotate;n.boundaryLinks=angular.isDefined(r.boundaryLinks)?n.$parent.$eval(r.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(r.directionLinks)?n.$parent.$eval(r.directionLinks):t.directionLinks,l.init(u,t),r.maxSize&&n.$parent.$watch(e(r.maxSize),function(e){c=parseInt(e,10),l.render()});var h=l.render;l.render=function(){h(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(t,n,i,r){var a=r[0],o=r[1];o&&(t.align=angular.isDefined(i.align)?t.$parent.$eval(i.align):e.align,a.init(o,e))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0},n={mouseenter:"mouseleave",click:"click",focus:"blur"},i={};this.options=function(e){angular.extend(i,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(r,a,o,s,l,u){return function(r,c,d){function h(e){var t=e||f.trigger||d,i=n[t]||t;return{show:t,hide:i}}var f=angular.extend({},t,i),p=e(r),g=u.startSymbol(),m=u.endSymbol(),v="<div "+p+'-popup title="'+g+"title"+m+'" content="'+g+"content"+m+'" placement="'+g+"placement"+m+'" animation="animation" is-open="isOpen"></div>';return{restrict:"EA",compile:function(e,t){var n=a(v);return function(e,t,i){function a(){M.isOpen?d():u()}function u(){D&&!e.$eval(i[c+"Enable"])||(y(),M.popupDelay?E||(E=o(p,M.popupDelay,!1),E.then(function(e){e()})):p()())}function d(){e.$apply(function(){g()})}function p(){return E=null,S&&(o.cancel(S),S=null),M.content?(m(),w.css({top:0,left:0,display:"block"}),M.$digest(),A(),M.isOpen=!0,M.$digest(),A):angular.noop}function g(){M.isOpen=!1,o.cancel(E),E=null,M.animation?S||(S=o(v,500)):v()}function m(){w&&v(),k=M.$new(),w=n(k,function(e){T?s.find("body").append(e):t.after(e)})}function v(){S=null,w&&(w.remove(),w=null),k&&(k.$destroy(),k=null)}function y(){_(),b()}function _(){var e=i[c+"Placement"];M.placement=angular.isDefined(e)?e:f.placement}function b(){var e=i[c+"PopupDelay"],t=parseInt(e,10);M.popupDelay=isNaN(t)?f.popupDelay:t}function x(){var e=i[c+"Trigger"];R(),C=h(e),C.show===C.hide?t.bind(C.show,a):(t.bind(C.show,u),t.bind(C.hide,d))}var w,k,S,E,T=!!angular.isDefined(f.appendToBody)&&f.appendToBody,C=h(void 0),D=angular.isDefined(i[c+"Enable"]),M=e.$new(!0),A=function(){var e=l.positionElements(t,w,M.placement,T);e.top+="px",e.left+="px",w.css(e)};M.isOpen=!1,i.$observe(r,function(e){M.content=e,!e&&M.isOpen&&g()}),i.$observe(c+"Title",function(e){M.title=e});var R=function(){t.unbind(C.show,u),t.unbind(C.hide,d)};x();var I=e.$eval(i[c+"Animation"]);M.animation=angular.isDefined(I)?!!I:f.animation;var O=e.$eval(i[c+"AppendToBody"]);T=angular.isDefined(O)?O:T,T&&e.$on("$locationChangeSuccess",function(){M.isOpen&&g()}),e.$on("$destroy",function(){o.cancel(S),o.cancel(E),R(),v(),M=null})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(e){return e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(e,t,n){var i=this,r=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max,this.addBar=function(t,n){r||n.css({transition:"none"}),this.bars.push(t),t.$watch("value",function(n){t.percent=+(100*n/e.max).toFixed(2)}),t.$on("$destroy",function(){n=null,i.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,i){i.addBar(e,t)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,i){i.addBar(e,angular.element(t.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(e,t,n){var i={$setViewValue:angular.noop};this.init=function(r){i=r,i.$render=this.render,this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var a=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(a)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;t<n;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff},e[t]);return e},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(i.$setViewValue(t),i.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=i.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=i.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,i){var r=i[0],a=i[1];a&&r.init(a)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect())}),e.active=!0,e.onSelect()},t.addTab=function(e){n.push(e),1===n.length?e.active=!0:e.active&&t.select(e)},t.removeTab=function(e){var r=n.indexOf(e);if(e.active&&n.length>1&&!i){var a=r==n.length-1?r-1:r+1;t.select(n[a])}n.splice(r,1)};var i;e.$on("$destroy",function(){i=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),
e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}}).directive("tab",["$parse",function(e){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(t,n,i){return function(t,n,r,a){t.$watch("active",function(e){e&&a.select(t)}),t.disabled=!1,r.disabled&&t.$parent.$watch(e(r.disabled),function(e){t.disabled=!!e}),t.select=function(){t.disabled||(t.active=!0)},a.addTab(t),t.$on("$destroy",function(){a.removeTab(t)}),t.$transcludeFn=i}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(e,t,n,i){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}]).directive("tabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(t,n,i){var r=t.$eval(i.tabContentTransclude);r.$transcludeFn(r.$parent,function(t){angular.forEach(t,function(t){e(t)?r.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(e,t,n,i,r,a){function o(){var t=parseInt(e.hours,10),n=e.showMeridian?t>0&&t<13:t>=0&&t<24;if(n)return e.showMeridian&&(12===t&&(t=0),e.meridian===g[1]&&(t+=12)),t}function s(){var t=parseInt(e.minutes,10);return t>=0&&t<60?t:void 0}function l(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e}function u(e){c(),p.$setViewValue(new Date(f)),d(e)}function c(){p.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function d(t){var n=f.getHours(),i=f.getMinutes();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:l(n),e.minutes="m"===t?i:l(i),e.meridian=f.getHours()<12?g[0]:g[1]}function h(e){var t=new Date(f.getTime()+6e4*e);f.setHours(t.getHours(),t.getMinutes()),u()}var f=new Date,p={$setViewValue:angular.noop},g=angular.isDefined(t.meridians)?e.$parent.$eval(t.meridians):a.meridians||r.DATETIME_FORMATS.AMPMS;this.init=function(n,i){p=n,p.$render=this.render;var r=i.eq(0),o=i.eq(1),s=angular.isDefined(t.mousewheel)?e.$parent.$eval(t.mousewheel):a.mousewheel;s&&this.setupMousewheelEvents(r,o),e.readonlyInput=angular.isDefined(t.readonlyInput)?e.$parent.$eval(t.readonlyInput):a.readonlyInput,this.setupInputEvents(r,o)};var m=a.hourStep;t.hourStep&&e.$parent.$watch(n(t.hourStep),function(e){m=parseInt(e,10)});var v=a.minuteStep;t.minuteStep&&e.$parent.$watch(n(t.minuteStep),function(e){v=parseInt(e,10)}),e.showMeridian=a.showMeridian,t.showMeridian&&e.$parent.$watch(n(t.showMeridian),function(t){if(e.showMeridian=!!t,p.$error.time){var n=o(),i=s();angular.isDefined(n)&&angular.isDefined(i)&&(f.setHours(n),u())}else d()}),this.setupMousewheelEvents=function(t,n){var i=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(i(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){e.$apply(i(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})},this.setupInputEvents=function(t,n){if(e.readonlyInput)return e.updateHours=angular.noop,void(e.updateMinutes=angular.noop);var i=function(t,n){p.$setViewValue(null),p.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=o();angular.isDefined(e)?(f.setHours(e),u("h")):i(!0)},t.bind("blur",function(t){!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=l(e.hours)})}),e.updateMinutes=function(){var e=s();angular.isDefined(e)?(f.setMinutes(e),u("m")):i(void 0,!0)},n.bind("blur",function(t){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=l(e.minutes)})})},this.render=function(){var e=p.$modelValue?new Date(p.$modelValue):null;isNaN(e)?(p.$setValidity("time",!1),i.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(f=e),c(),d())},e.incrementHours=function(){h(60*m)},e.decrementHours=function(){h(60*-m)},e.incrementMinutes=function(){h(v)},e.decrementMinutes=function(){h(-v)},e.toggleMeridian=function(){h(720*(f.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(e,t,n,i){var r=i[0],a=i[1];a&&r.init(a,t.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var i=n.match(t);if(!i)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:i[3],source:e(i[4]),viewMapper:e(i[2]||i[1]),modelMapper:e(i[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(e,t,n,i,r,a,o){var s=[9,13,27,38,40];return{require:"ngModel",link:function(l,u,c,d){var h,f=l.$eval(c.typeaheadMinLength)||1,p=l.$eval(c.typeaheadWaitMs)||0,g=l.$eval(c.typeaheadEditable)!==!1,m=t(c.typeaheadLoading).assign||angular.noop,v=t(c.typeaheadOnSelect),y=c.typeaheadInputFormatter?t(c.typeaheadInputFormatter):void 0,_=!!c.typeaheadAppendToBody&&l.$eval(c.typeaheadAppendToBody),b=l.$eval(c.typeaheadFocusFirst)!==!1,x=t(c.ngModel).assign,w=o.parse(c.typeahead),k=l.$new();l.$on("$destroy",function(){k.$destroy()});var S="typeahead-"+k.$id+"-"+Math.floor(1e4*Math.random());u.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":S});var E=angular.element("<div typeahead-popup></div>");E.attr({id:S,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(c.typeaheadTemplateUrl)&&E.attr("template-url",c.typeaheadTemplateUrl);var T=function(){k.matches=[],k.activeIdx=-1,u.attr("aria-expanded",!1)},C=function(e){return S+"-option-"+e};k.$watch("activeIdx",function(e){e<0?u.removeAttr("aria-activedescendant"):u.attr("aria-activedescendant",C(e))});var D=function(e){var t={$viewValue:e};m(l,!0),n.when(w.source(l,t)).then(function(n){var i=e===d.$viewValue;if(i&&h)if(n.length>0){k.activeIdx=b?0:-1,k.matches.length=0;for(var r=0;r<n.length;r++)t[w.itemName]=n[r],k.matches.push({id:C(r),label:w.viewMapper(k,t),model:n[r]});k.query=e,k.position=_?a.offset(u):a.position(u),k.position.top=k.position.top+u.prop("offsetHeight"),u.attr("aria-expanded",!0)}else T();i&&m(l,!1)},function(){T(),m(l,!1)})};T(),k.query=void 0;var M,A=function(e){M=i(function(){D(e)},p)},R=function(){M&&i.cancel(M)};d.$parsers.unshift(function(e){return h=!0,e&&e.length>=f?p>0?(R(),A(e)):D(e):(m(l,!1),R(),T()),g?e:e?void d.$setValidity("editable",!1):(d.$setValidity("editable",!0),e)}),d.$formatters.push(function(e){var t,n,i={};return y?(i.$model=e,y(l,i)):(i[w.itemName]=e,t=w.viewMapper(l,i),i[w.itemName]=void 0,n=w.viewMapper(l,i),t!==n?t:e)}),k.select=function(e){var t,n,r={};r[w.itemName]=n=k.matches[e].model,t=w.modelMapper(l,r),x(l,t),d.$setValidity("editable",!0),v(l,{$item:n,$model:t,$label:w.viewMapper(l,r)}),T(),i(function(){u[0].focus()},0,!1)},u.bind("keydown",function(e){0!==k.matches.length&&s.indexOf(e.which)!==-1&&(k.activeIdx!=-1||13!==e.which&&9!==e.which)&&(e.preventDefault(),40===e.which?(k.activeIdx=(k.activeIdx+1)%k.matches.length,k.$digest()):38===e.which?(k.activeIdx=(k.activeIdx>0?k.activeIdx:k.matches.length)-1,k.$digest()):13===e.which||9===e.which?k.$apply(function(){k.select(k.activeIdx)}):27===e.which&&(e.stopPropagation(),T(),k.$digest()))}),u.bind("blur",function(e){h=!1});var I=function(e){u[0]!==e.target&&(T(),k.$digest())};r.bind("click",I),l.$on("$destroy",function(){r.unbind("click",I),_&&O.remove()});var O=e(E)(k);_?r.find("body").append(O):u.after(O)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(e,t,n,i){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(r,a,o){var s=i(o.templateUrl)(r.$parent)||"template/typeahead/typeahead-match.html";e.get(s,{cache:t}).success(function(e){a.replaceWith(n(e.trim())(r))})}}}]).filter("typeaheadHighlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n?(""+t).replace(new RegExp(e(n),"gi"),"<strong>$&</strong>"):t}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n\t  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n\t<li ng-transclude></li>\n\t<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n\t\t<span class="btn-group pull-left">\n\t\t\t<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n\t\t\t<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n\t\t</span>\n\t\t<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n\t</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop fade {{ backdropClass }}"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div tabindex="-1" role="dialog" class="nsw modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog nsw" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" modal-transclude></div></div>\n</div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabOptions.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n\t<tbody>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n\t\t\t<td>&nbsp;</td>\n\t\t\t<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n\t\t\t<td ng-show="showMeridian"></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n\t\t\t\t<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t</td>\n\t\t\t<td>:</td>\n\t\t\t<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n\t\t\t\t<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t</td>\n\t\t\t<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n\t\t</tr>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n\t\t\t<td>&nbsp;</td>\n\t\t\t<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n\t\t\t<td ng-show="showMeridian"></td>\n\t\t</tr>\n\t</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.pagination",[]).controller("UibPaginationController",["$scope","$attrs","$parse",function(e,t,n){var i=this,r={$setViewValue:angular.noop},a=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(o,s){r=o,this.config=s,r.$render=function(){i.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){i.itemsPerPage=parseInt(t,10),e.totalPages=i.calculateTotalPages()}):this.itemsPerPage=s.itemsPerPage,e.$watch("totalItems",function(){e.totalPages=i.calculateTotalPages()}),e.$watch("totalPages",function(t){a(e.$parent,t),e.page>t?e.selectPage(t):r.$render()})},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(r.$viewValue,10)||1},e.selectPage=function(t,n){n&&n.preventDefault();var i=!e.ngDisabled||!n;i&&e.page!==t&&t>0&&t<=e.totalPages&&(n&&n.target&&n.target.blur(),r.$setViewValue(t),r.$render())},e.getText=function(t){return e[t+"Text"]||i.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("uibPagination",["$parse","uibPaginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(n,i,r,a){function o(e,t,n){return{number:e,text:t,active:n}}function s(e,t){var n=[],i=1,r=t,a=angular.isDefined(c)&&c<t;a&&(d?(i=Math.max(e-Math.floor(c/2),1),r=i+c-1,r>t&&(r=t,i=r-c+1)):(i=(Math.ceil(e/c)-1)*c+1,r=Math.min(i+c-1,t)));for(var s=i;s<=r;s++){var l=o(s,s,s===e);n.push(l)}if(a&&!d){if(i>1){var u=o(i-1,"...",!1);n.unshift(u)}if(r<t){var h=o(r+1,"...",!1);n.push(h)}}return n}var l=a[0],u=a[1];if(u){var c=angular.isDefined(r.maxSize)?n.$parent.$eval(r.maxSize):t.maxSize,d=angular.isDefined(r.rotate)?n.$parent.$eval(r.rotate):t.rotate;n.boundaryLinks=angular.isDefined(r.boundaryLinks)?n.$parent.$eval(r.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(r.directionLinks)?n.$parent.$eval(r.directionLinks):t.directionLinks,l.init(u,t),r.maxSize&&n.$parent.$watch(e(r.maxSize),function(e){c=parseInt(e,10),l.render()});var h=l.render;l.render=function(){h(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))}}}}}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("uibPager",["uibPagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(t,n,i,r){var a=r[0],o=r[1];o&&(t.align=angular.isDefined(i.align)?t.$parent.$eval(i.align):e.align,a.init(o,e))}}}]),function(e,t){"use strict";"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return oi.apply(null,arguments)}function t(e){oi=e}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function r(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function o(e,t){for(var n in t)a(t,n)&&(e[n]=t[n]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),e}function s(e,t,n,i){return Le(e,t,n,i,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function u(e){return null==e._pf&&(e._pf=l()),e._pf}function c(e){if(null==e._isValid){var t=u(e),n=si.call(t.parsedDateParts,function(e){return null!=e});e._isValid=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function d(e){var t=s(NaN);return null!=e?o(u(t),e):u(t).userInvalidated=!0,t}function h(e){return void 0===e}function f(e,t){var n,i,r;if(h(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),h(t._i)||(e._i=t._i),h(t._f)||(e._f=t._f),h(t._l)||(e._l=t._l),h(t._strict)||(e._strict=t._strict),h(t._tzm)||(e._tzm=t._tzm),h(t._isUTC)||(e._isUTC=t._isUTC),h(t._offset)||(e._offset=t._offset),h(t._pf)||(e._pf=u(t)),h(t._locale)||(e._locale=t._locale),li.length>0)for(n in li)i=li[n],r=t[i],h(r)||(e[i]=r);return e}function p(t){f(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),ui===!1&&(ui=!0,e.updateOffset(this),ui=!1)}function g(e){return e instanceof p||null!=e&&null!=e._isAMomentObject}function m(e){return e<0?Math.ceil(e):Math.floor(e)}function v(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=m(t)),n}function y(e,t,n){var i,r=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(i=0;i<r;i++)(n&&e[i]!==t[i]||!n&&v(e[i])!==v(t[i]))&&o++;return o+a}function _(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function b(t,n){var i=!0;return o(function(){return null!=e.deprecationHandler&&e.deprecationHandler(null,t),i&&(_(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),i=!1),n.apply(this,arguments)},n)}function x(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),ci[t]||(_(n),ci[t]=!0)}function w(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function k(e){return"[object Object]"===Object.prototype.toString.call(e)}function S(e){var t,n;for(n in e)t=e[n],w(t)?this[n]=t:this["_"+n]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function E(e,t){var n,i=o({},e);
for(n in t)a(t,n)&&(k(e[n])&&k(t[n])?(i[n]={},o(i[n],e[n]),o(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);return i}function T(e){null!=e&&this.set(e)}function C(e){return e?e.toLowerCase().replace("_","-"):e}function D(e){for(var t,n,i,r,a=0;a<e.length;){for(r=C(e[a]).split("-"),t=r.length,n=C(e[a+1]),n=n?n.split("-"):null;t>0;){if(i=M(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&y(r,n,!0)>=t-1)break;t--}a++}return null}function M(e){var t=null;if(!pi[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=hi._abbr,require("./locale/"+e),A(t)}catch(n){}return pi[e]}function A(e,t){var n;return e&&(n=h(t)?O(e):R(e,t),n&&(hi=n)),hi._abbr}function R(e,t){return null!==t?(t.abbr=e,null!=pi[e]?(x("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale"),t=E(pi[e]._config,t)):null!=t.parentLocale&&(null!=pi[t.parentLocale]?t=E(pi[t.parentLocale]._config,t):x("parentLocaleUndefined","specified parentLocale is not defined yet")),pi[e]=new T(t),A(e),pi[e]):(delete pi[e],null)}function I(e,t){if(null!=t){var n;null!=pi[e]&&(t=E(pi[e]._config,t)),n=new T(t),n.parentLocale=pi[e],pi[e]=n,A(e)}else null!=pi[e]&&(null!=pi[e].parentLocale?pi[e]=pi[e].parentLocale:null!=pi[e]&&delete pi[e]);return pi[e]}function O(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return hi;if(!n(e)){if(t=M(e))return t;e=[e]}return D(e)}function P(){return di(pi)}function L(e,t){var n=e.toLowerCase();gi[n]=gi[n+"s"]=gi[t]=e}function F(e){return"string"==typeof e?gi[e]||gi[e.toLowerCase()]:void 0}function N(e){var t,n,i={};for(n in e)a(e,n)&&(t=F(n),t&&(i[t]=e[n]));return i}function z(t,n){return function(i){return null!=i?(B(this,t,i),e.updateOffset(this,n),this):U(this,t)}}function U(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function B(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function $(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=F(e),w(this[e]))return this[e](t);return this}function H(e,t,n){var i=""+Math.abs(e),r=t-i.length,a=e>=0;return(a?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function q(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(_i[e]=r),t&&(_i[t[0]]=function(){return H(r.apply(this,arguments),t[1],t[2])}),n&&(_i[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function W(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function j(e){var t,n,i=e.match(mi);for(t=0,n=i.length;t<n;t++)_i[i[t]]?i[t]=_i[i[t]]:i[t]=W(i[t]);return function(t){var r,a="";for(r=0;r<n;r++)a+=i[r]instanceof Function?i[r].call(t,e):i[r];return a}}function V(e,t){return e.isValid()?(t=K(t,e.localeData()),yi[t]=yi[t]||j(t),yi[t](e)):e.localeData().invalidDate()}function K(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(vi.lastIndex=0;i>=0&&vi.test(e);)e=e.replace(vi,n),vi.lastIndex=0,i-=1;return e}function G(e,t,n){Ni[e]=w(t)?t:function(e,i){return e&&n?n:t}}function Y(e,t){return a(Ni,e)?Ni[e](t._strict,t._locale):new RegExp(X(e))}function X(e){return Q(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r}))}function Q(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Z(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(i=function(e,n){n[t]=v(e)}),n=0;n<e.length;n++)zi[e[n]]=i}function J(e,t){Z(e,function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)})}function ee(e,t,n){null!=t&&a(zi,e)&&zi[e](t,n._a,n,e)}function te(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function ne(e,t){return n(this._months)?this._months[e.month()]:this._months[Gi.test(t)?"format":"standalone"][e.month()]}function ie(e,t){return n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Gi.test(t)?"format":"standalone"][e.month()]}function re(e,t,n){var i,r,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)a=s([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?(r=fi.call(this._shortMonthsParse,o),r!==-1?r:null):(r=fi.call(this._longMonthsParse,o),r!==-1?r:null):"MMM"===t?(r=fi.call(this._shortMonthsParse,o),r!==-1?r:(r=fi.call(this._longMonthsParse,o),r!==-1?r:null)):(r=fi.call(this._longMonthsParse,o),r!==-1?r:(r=fi.call(this._shortMonthsParse,o),r!==-1?r:null))}function ae(e,t,n){var i,r,a;if(this._monthsParseExact)return re.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=s([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(a="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function oe(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=v(t);else if(t=e.localeData().monthsParse(t),"number"!=typeof t)return e;return n=Math.min(e.date(),te(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function se(t){return null!=t?(oe(this,t),e.updateOffset(this,!0),this):U(this,"Month")}function le(){return te(this.year(),this.month())}function ue(e){return this._monthsParseExact?(a(this,"_monthsRegex")||de.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex}function ce(e){return this._monthsParseExact?(a(this,"_monthsRegex")||de.call(this),e?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex}function de(){function e(e,t){return t.length-e.length}var t,n,i=[],r=[],a=[];for(t=0;t<12;t++)n=s([2e3,t]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(i.sort(e),r.sort(e),a.sort(e),t=0;t<12;t++)i[t]=Q(i[t]),r[t]=Q(r[t]),a[t]=Q(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function he(e){var t,n=e._a;return n&&u(e).overflow===-2&&(t=n[Bi]<0||n[Bi]>11?Bi:n[$i]<1||n[$i]>te(n[Ui],n[Bi])?$i:n[Hi]<0||n[Hi]>24||24===n[Hi]&&(0!==n[qi]||0!==n[Wi]||0!==n[ji])?Hi:n[qi]<0||n[qi]>59?qi:n[Wi]<0||n[Wi]>59?Wi:n[ji]<0||n[ji]>999?ji:-1,u(e)._overflowDayOfYear&&(t<Ui||t>$i)&&(t=$i),u(e)._overflowWeeks&&t===-1&&(t=Vi),u(e)._overflowWeekday&&t===-1&&(t=Ki),u(e).overflow=t),e}function fe(e){var t,n,i,r,a,o,s=e._i,l=Ji.exec(s)||er.exec(s);if(l){for(u(e).iso=!0,t=0,n=nr.length;t<n;t++)if(nr[t][1].exec(l[1])){r=nr[t][0],i=nr[t][2]!==!1;break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=ir.length;t<n;t++)if(ir[t][1].exec(l[3])){a=(l[2]||" ")+ir[t][0];break}if(null==a)return void(e._isValid=!1)}if(!i&&null!=a)return void(e._isValid=!1);if(l[4]){if(!tr.exec(l[4]))return void(e._isValid=!1);o="Z"}e._f=r+(a||"")+(o||""),De(e)}else e._isValid=!1}function pe(t){var n=rr.exec(t._i);return null!==n?void(t._d=new Date((+n[1]))):(fe(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function ge(e,t,n,i,r,a,o){var s=new Date(e,t,n,i,r,a,o);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function me(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function ve(e){return ye(e)?366:365}function ye(e){return e%4===0&&e%100!==0||e%400===0}function _e(){return ye(this.year())}function be(e,t,n){var i=7+t-n,r=(7+me(e,0,i).getUTCDay()-t)%7;return-r+i-1}function xe(e,t,n,i,r){var a,o,s=(7+n-i)%7,l=be(e,i,r),u=1+7*(t-1)+s+l;return u<=0?(a=e-1,o=ve(a)+u):u>ve(e)?(a=e+1,o=u-ve(e)):(a=e,o=u),{year:a,dayOfYear:o}}function we(e,t,n){var i,r,a=be(e.year(),t,n),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?(r=e.year()-1,i=o+ke(r,t,n)):o>ke(e.year(),t,n)?(i=o-ke(e.year(),t,n),r=e.year()+1):(r=e.year(),i=o),{week:i,year:r}}function ke(e,t,n){var i=be(e,t,n),r=be(e+1,t,n);return(ve(e)-i+r)/7}function Se(e,t,n){return null!=e?e:null!=t?t:n}function Ee(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function Te(e){var t,n,i,r,a=[];if(!e._d){for(i=Ee(e),e._w&&null==e._a[$i]&&null==e._a[Bi]&&Ce(e),e._dayOfYear&&(r=Se(e._a[Ui],i[Ui]),e._dayOfYear>ve(r)&&(u(e)._overflowDayOfYear=!0),n=me(r,0,e._dayOfYear),e._a[Bi]=n.getUTCMonth(),e._a[$i]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=i[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Hi]&&0===e._a[qi]&&0===e._a[Wi]&&0===e._a[ji]&&(e._nextDay=!0,e._a[Hi]=0),e._d=(e._useUTC?me:ge).apply(null,a),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Hi]=24)}}function Ce(e){var t,n,i,r,a,o,s,l;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(a=1,o=4,n=Se(t.GG,e._a[Ui],we(Fe(),1,4).year),i=Se(t.W,1),r=Se(t.E,1),(r<1||r>7)&&(l=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,n=Se(t.gg,e._a[Ui],we(Fe(),a,o).year),i=Se(t.w,1),null!=t.d?(r=t.d,(r<0||r>6)&&(l=!0)):null!=t.e?(r=t.e+a,(t.e<0||t.e>6)&&(l=!0)):r=a),i<1||i>ke(n,a,o)?u(e)._overflowWeeks=!0:null!=l?u(e)._overflowWeekday=!0:(s=xe(n,i,r,a,o),e._a[Ui]=s.year,e._dayOfYear=s.dayOfYear)}function De(t){if(t._f===e.ISO_8601)return void fe(t);t._a=[],u(t).empty=!0;var n,i,r,a,o,s=""+t._i,l=s.length,c=0;for(r=K(t._f,t._locale).match(mi)||[],n=0;n<r.length;n++)a=r[n],i=(s.match(Y(a,t))||[])[0],i&&(o=s.substr(0,s.indexOf(i)),o.length>0&&u(t).unusedInput.push(o),s=s.slice(s.indexOf(i)+i.length),c+=i.length),_i[a]?(i?u(t).empty=!1:u(t).unusedTokens.push(a),ee(a,i,t)):t._strict&&!i&&u(t).unusedTokens.push(a);u(t).charsLeftOver=l-c,s.length>0&&u(t).unusedInput.push(s),u(t).bigHour===!0&&t._a[Hi]<=12&&t._a[Hi]>0&&(u(t).bigHour=void 0),u(t).parsedDateParts=t._a.slice(0),u(t).meridiem=t._meridiem,t._a[Hi]=Me(t._locale,t._a[Hi],t._meridiem),Te(t),he(t)}function Me(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&t<12&&(t+=12),i||12!==t||(t=0),t):t}function Ae(e){var t,n,i,r,a;if(0===e._f.length)return u(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)a=0,t=f({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],De(t),c(t)&&(a+=u(t).charsLeftOver,a+=10*u(t).unusedTokens.length,u(t).score=a,(null==i||a<i)&&(i=a,n=t));o(e,n||t)}function Re(e){if(!e._d){var t=N(e._i);e._a=r([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),Te(e)}}function Ie(e){var t=new p(he(Oe(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Oe(e){var t=e._i,r=e._f;return e._locale=e._locale||O(e._l),null===t||void 0===r&&""===t?d({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),g(t)?new p(he(t)):(n(r)?Ae(e):r?De(e):i(t)?e._d=t:Pe(e),c(e)||(e._d=null),e))}function Pe(t){var a=t._i;void 0===a?t._d=new Date(e.now()):i(a)?t._d=new Date(a.valueOf()):"string"==typeof a?pe(t):n(a)?(t._a=r(a.slice(0),function(e){return parseInt(e,10)}),Te(t)):"object"==typeof a?Re(t):"number"==typeof a?t._d=new Date(a):e.createFromInputFallback(t)}function Le(e,t,n,i,r){var a={};return"boolean"==typeof n&&(i=n,n=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=r,a._l=n,a._i=e,a._f=t,a._strict=i,Ie(a)}function Fe(e,t,n,i){return Le(e,t,n,i,!1)}function Ne(e,t){var i,r;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return Fe();for(i=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](i)||(i=t[r]);return i}function ze(){var e=[].slice.call(arguments,0);return Ne("isBefore",e)}function Ue(){var e=[].slice.call(arguments,0);return Ne("isAfter",e)}function Be(e){var t=N(e),n=t.year||0,i=t.quarter||0,r=t.month||0,a=t.week||0,o=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+o+7*a,this._months=+r+3*i+12*n,this._data={},this._locale=O(),this._bubble()}function $e(e){return e instanceof Be}function He(e,t){q(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+H(~~(e/60),2)+t+H(~~e%60,2)})}function qe(e,t){var n=(t||"").match(e)||[],i=n[n.length-1]||[],r=(i+"").match(ur)||["-",0,0],a=+(60*r[1])+v(r[2]);return"+"===r[0]?a:-a}function We(t,n){var r,a;return n._isUTC?(r=n.clone(),a=(g(t)||i(t)?t.valueOf():Fe(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+a),e.updateOffset(r,!1),r):Fe(t).local()}function je(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ve(t,n){var i,r=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=qe(Pi,t):Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(i=je(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!n||this._changeInProgress?ut(this,it(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:je(this):null!=t?this:NaN}function Ke(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Ge(e){return this.utcOffset(0,e)}function Ye(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(je(this),"m")),this}function Xe(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(qe(Oi,this._i)),this}function Qe(e){return!!this.isValid()&&(e=e?Fe(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function Ze(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Je(){if(!h(this._isDSTShifted))return this._isDSTShifted;var e={};if(f(e,this),e=Oe(e),e._a){var t=e._isUTC?s(e._a):Fe(e._a);this._isDSTShifted=this.isValid()&&y(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function et(){return!!this.isValid()&&!this._isUTC}function tt(){return!!this.isValid()&&this._isUTC}function nt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function it(e,t){var n,i,r,o=e,s=null;return $e(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(s=cr.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:v(s[$i])*n,h:v(s[Hi])*n,m:v(s[qi])*n,s:v(s[Wi])*n,ms:v(s[ji])*n}):(s=dr.exec(e))?(n="-"===s[1]?-1:1,o={y:rt(s[2],n),M:rt(s[3],n),w:rt(s[4],n),d:rt(s[5],n),h:rt(s[6],n),m:rt(s[7],n),s:rt(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=ot(Fe(o.from),Fe(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),i=new Be(o),$e(e)&&a(e,"_locale")&&(i._locale=e._locale),i}function rt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function at(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function ot(e,t){var n;return e.isValid()&&t.isValid()?(t=We(t,e),e.isBefore(t)?n=at(e,t):(n=at(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function st(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function lt(e,t){return function(n,i){var r,a;return null===i||isNaN(+i)||(x(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),a=n,n=i,i=a),n="string"==typeof n?+n:n,r=it(n,i),ut(this,r,e),this}}function ut(t,n,i,r){var a=n._milliseconds,o=st(n._days),s=st(n._months);t.isValid()&&(r=null==r||r,a&&t._d.setTime(t._d.valueOf()+a*i),o&&B(t,"Date",U(t,"Date")+o*i),s&&oe(t,U(t,"Month")+s*i),r&&e.updateOffset(t,o||s))}function ct(e,t){var n=e||Fe(),i=We(n,this).startOf("day"),r=this.diff(i,"days",!0),a=r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse",o=t&&(w(t[a])?t[a]():t[a]);return this.format(o||this.localeData().calendar(a,this,Fe(n)))}function dt(){return new p(this)}function ht(e,t){var n=g(e)?e:Fe(e);return!(!this.isValid()||!n.isValid())&&(t=F(h(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function ft(e,t){var n=g(e)?e:Fe(e);return!(!this.isValid()||!n.isValid())&&(t=F(h(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function pt(e,t,n,i){return i=i||"()",("("===i[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===i[1]?this.isBefore(t,n):!this.isAfter(t,n))}function gt(e,t){var n,i=g(e)?e:Fe(e);return!(!this.isValid()||!i.isValid())&&(t=F(t||"millisecond"),"millisecond"===t?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function mt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function vt(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function yt(e,t,n){var i,r,a,o;return this.isValid()?(i=We(e,this),i.isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),t=F(t),"year"===t||"month"===t||"quarter"===t?(o=_t(this,i),"quarter"===t?o/=3:"year"===t&&(o/=12)):(a=this-i,o="second"===t?a/1e3:"minute"===t?a/6e4:"hour"===t?a/36e5:"day"===t?(a-r)/864e5:"week"===t?(a-r)/6048e5:a),n?o:m(o)):NaN):NaN}function _t(e,t){var n,i,r=12*(t.year()-e.year())+(t.month()-e.month()),a=e.clone().add(r,"months");return t-a<0?(n=e.clone().add(r-1,"months"),i=(t-a)/(a-n)):(n=e.clone().add(r+1,"months"),i=(t-a)/(n-a)),-(r+i)||0}function bt(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function xt(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?w(Date.prototype.toISOString)?this.toDate().toISOString():V(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):V(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function wt(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=V(this,t);return this.localeData().postformat(n)}function kt(e,t){return this.isValid()&&(g(e)&&e.isValid()||Fe(e).isValid())?it({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function St(e){return this.from(Fe(),e)}function Et(e,t){return this.isValid()&&(g(e)&&e.isValid()||Fe(e).isValid())?it({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Tt(e){return this.to(Fe(),e)}function Ct(e){var t;return void 0===e?this._locale._abbr:(t=O(e),null!=t&&(this._locale=t),this)}function Dt(){return this._locale}function Mt(e){switch(e=F(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function At(e){return e=F(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function Rt(){return this._d.valueOf()-6e4*(this._offset||0)}function It(){return Math.floor(this.valueOf()/1e3)}function Ot(){return this._offset?new Date(this.valueOf()):this._d}function Pt(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Lt(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Ft(){return this.isValid()?this.toISOString():null}function Nt(){return c(this)}function zt(){return o({},u(this))}function Ut(){return u(this).overflow}function Bt(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function $t(e,t){q(0,[e,e.length],0,t)}function Ht(e){return Vt.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function qt(e){return Vt.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Wt(){return ke(this.year(),1,4)}function jt(){var e=this.localeData()._week;return ke(this.year(),e.dow,e.doy)}function Vt(e,t,n,i,r){var a;return null==e?we(this,i,r).year:(a=ke(e,i,r),t>a&&(t=a),Kt.call(this,e,t,n,i,r))}function Kt(e,t,n,i,r){var a=xe(e,t,n,i,r),o=me(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Gt(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Yt(e){return we(e,this._week.dow,this._week.doy).week}function Xt(){return this._week.dow}function Qt(){return this._week.doy}function Zt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Jt(e){var t=we(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function en(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function tn(e,t){return n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]}function nn(e){return this._weekdaysShort[e.day()]}function rn(e){return this._weekdaysMin[e.day()]}function an(e,t,n){var i,r,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)a=s([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?(r=fi.call(this._weekdaysParse,o),r!==-1?r:null):"ddd"===t?(r=fi.call(this._shortWeekdaysParse,o),r!==-1?r:null):(r=fi.call(this._minWeekdaysParse,o),r!==-1?r:null):"dddd"===t?(r=fi.call(this._weekdaysParse,o),r!==-1?r:(r=fi.call(this._shortWeekdaysParse,o),r!==-1?r:(r=fi.call(this._minWeekdaysParse,o),r!==-1?r:null))):"ddd"===t?(r=fi.call(this._shortWeekdaysParse,o),r!==-1?r:(r=fi.call(this._weekdaysParse,o),r!==-1?r:(r=fi.call(this._minWeekdaysParse,o),r!==-1?r:null))):(r=fi.call(this._minWeekdaysParse,o),r!==-1?r:(r=fi.call(this._weekdaysParse,o),r!==-1?r:(r=fi.call(this._shortWeekdaysParse,o),r!==-1?r:null)))}function on(e,t,n){var i,r,a;if(this._weekdaysParseExact)return an.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=s([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(a="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}function sn(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=en(e,this.localeData()),this.add(e-t,"d")):t}function ln(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function un(e){return this.isValid()?null==e?this.day()||7:this.day(this.day()%7?e:e-7):null!=e?this:NaN}function cn(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||fn.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex}function dn(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||fn.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}function hn(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||fn.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}function fn(){function e(e,t){return t.length-e.length}var t,n,i,r,a,o=[],l=[],u=[],c=[];for(t=0;t<7;t++)n=s([2e3,1]).day(t),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),a=this.weekdays(n,""),o.push(i),l.push(r),u.push(a),c.push(i),c.push(r),c.push(a);for(o.sort(e),l.sort(e),u.sort(e),c.sort(e),t=0;t<7;t++)l[t]=Q(l[t]),u[t]=Q(u[t]),c[t]=Q(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function pn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function gn(){return this.hours()%12||12}function mn(){return this.hours()||24}function vn(e,t){q(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function yn(e,t){return t._meridiemParse}function _n(e){return"p"===(e+"").toLowerCase().charAt(0)}function bn(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function xn(e,t){t[ji]=v(1e3*("0."+e))}function wn(){return this._isUTC?"UTC":""}function kn(){return this._isUTC?"Coordinated Universal Time":""}function Sn(e){return Fe(1e3*e)}function En(){return Fe.apply(null,arguments).parseZone()}function Tn(e,t,n){var i=this._calendar[e];return w(i)?i.call(t,n):i}function Cn(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function Dn(){return this._invalidDate}function Mn(e){return this._ordinal.replace("%d",e)}function An(e){return e}function Rn(e,t,n,i){var r=this._relativeTime[n];return w(r)?r(e,t,n,i):r.replace(/%d/i,e)}function In(e,t){var n=this._relativeTime[e>0?"future":"past"];return w(n)?n(t):n.replace(/%s/i,t)}function On(e,t,n,i){var r=O(),a=s().set(i,t);return r[n](a,e)}function Pn(e,t,n){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return On(e,t,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=On(e,i,n,"month");return r}function Ln(e,t,n,i){"boolean"==typeof e?("number"==typeof t&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,"number"==typeof t&&(n=t,t=void 0),t=t||"");var r=O(),a=e?r._week.dow:0;if(null!=n)return On(t,(n+a)%7,i,"day");var o,s=[];for(o=0;o<7;o++)s[o]=On(t,(o+a)%7,i,"day");return s}function Fn(e,t){return Pn(e,t,"months")}function Nn(e,t){return Pn(e,t,"monthsShort")}function zn(e,t,n){return Ln(e,t,n,"weekdays")}function Un(e,t,n){return Ln(e,t,n,"weekdaysShort")}function Bn(e,t,n){return Ln(e,t,n,"weekdaysMin")}function $n(){var e=this._data;return this._milliseconds=zr(this._milliseconds),this._days=zr(this._days),this._months=zr(this._months),e.milliseconds=zr(e.milliseconds),e.seconds=zr(e.seconds),e.minutes=zr(e.minutes),e.hours=zr(e.hours),e.months=zr(e.months),e.years=zr(e.years),this}function Hn(e,t,n,i){var r=it(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function qn(e,t){return Hn(this,e,t,1)}function Wn(e,t){return Hn(this,e,t,-1)}function jn(e){return e<0?Math.floor(e):Math.ceil(e)}function Vn(){var e,t,n,i,r,a=this._milliseconds,o=this._days,s=this._months,l=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*jn(Gn(s)+o),o=0,s=0),l.milliseconds=a%1e3,e=m(a/1e3),l.seconds=e%60,t=m(e/60),l.minutes=t%60,n=m(t/60),l.hours=n%24,o+=m(n/24),r=m(Kn(o)),s+=r,o-=jn(Gn(r)),i=m(s/12),s%=12,l.days=o,l.months=s,l.years=i,this}function Kn(e){return 4800*e/146097}function Gn(e){return 146097*e/4800}function Yn(e){var t,n,i=this._milliseconds;if(e=F(e),"month"===e||"year"===e)return t=this._days+i/864e5,n=this._months+Kn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(Gn(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function Xn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)}function Qn(e){return function(){return this.as(e)}}function Zn(e){return e=F(e),this[e+"s"]()}function Jn(e){return function(){return this._data[e]}}function ei(){return m(this.days()/7)}function ti(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function ni(e,t,n){var i=it(e).abs(),r=ea(i.as("s")),a=ea(i.as("m")),o=ea(i.as("h")),s=ea(i.as("d")),l=ea(i.as("M")),u=ea(i.as("y")),c=r<ta.s&&["s",r]||a<=1&&["m"]||a<ta.m&&["mm",a]||o<=1&&["h"]||o<ta.h&&["hh",o]||s<=1&&["d"]||s<ta.d&&["dd",s]||l<=1&&["M"]||l<ta.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,ti.apply(null,c)}function ii(e,t){return void 0!==ta[e]&&(void 0===t?ta[e]:(ta[e]=t,!0))}function ri(e){var t=this.localeData(),n=ni(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function ai(){var e,t,n,i=na(this._milliseconds)/1e3,r=na(this._days),a=na(this._months);e=m(i/60),t=m(e/60),i%=60,e%=60,n=m(a/12),a%=12;var o=n,s=a,l=r,u=t,c=e,d=i,h=this.asSeconds();return h?(h<0?"-":"")+"P"+(o?o+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(u||c||d?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var oi,si;si=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var li=e.momentProperties=[],ui=!1,ci={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var di;di=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)a(e,t)&&n.push(t);return n};var hi,fi,pi={},gi={},mi=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,vi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,yi={},_i={},bi=/\d/,xi=/\d\d/,wi=/\d{3}/,ki=/\d{4}/,Si=/[+-]?\d{6}/,Ei=/\d\d?/,Ti=/\d\d\d\d?/,Ci=/\d\d\d\d\d\d?/,Di=/\d{1,3}/,Mi=/\d{1,4}/,Ai=/[+-]?\d{1,6}/,Ri=/\d+/,Ii=/[+-]?\d+/,Oi=/Z|[+-]\d\d:?\d\d/gi,Pi=/Z|[+-]\d\d(?::?\d\d)?/gi,Li=/[+-]?\d+(\.\d{1,3})?/,Fi=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ni={},zi={},Ui=0,Bi=1,$i=2,Hi=3,qi=4,Wi=5,ji=6,Vi=7,Ki=8;fi=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},q("M",["MM",2],"Mo",function(){return this.month()+1}),q("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),q("MMMM",0,0,function(e){return this.localeData().months(this,e)}),L("month","M"),G("M",Ei),G("MM",Ei,xi),G("MMM",function(e,t){return t.monthsShortRegex(e)}),G("MMMM",function(e,t){return t.monthsRegex(e)}),Z(["M","MM"],function(e,t){t[Bi]=v(e)-1}),Z(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[Bi]=r:u(n).invalidMonth=e});var Gi=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Yi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Xi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Qi=Fi,Zi=Fi,Ji=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,er=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,tr=/Z|[+-]\d\d(?::?\d\d)?/,nr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ir=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],rr=/^\/?Date\((\-?\d+)/i;
e.createFromInputFallback=b("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),q("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),q(0,["YY",2],0,function(){return this.year()%100}),q(0,["YYYY",4],0,"year"),q(0,["YYYYY",5],0,"year"),q(0,["YYYYYY",6,!0],0,"year"),L("year","y"),G("Y",Ii),G("YY",Ei,xi),G("YYYY",Mi,ki),G("YYYYY",Ai,Si),G("YYYYYY",Ai,Si),Z(["YYYYY","YYYYYY"],Ui),Z("YYYY",function(t,n){n[Ui]=2===t.length?e.parseTwoDigitYear(t):v(t)}),Z("YY",function(t,n){n[Ui]=e.parseTwoDigitYear(t)}),Z("Y",function(e,t){t[Ui]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return v(e)+(v(e)>68?1900:2e3)};var ar=z("FullYear",!0);e.ISO_8601=function(){};var or=b("moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Fe.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:d()}),sr=b("moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Fe.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:d()}),lr=function(){return Date.now?Date.now():+new Date};He("Z",":"),He("ZZ",""),G("Z",Pi),G("ZZ",Pi),Z(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=qe(Pi,e)});var ur=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var cr=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,dr=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;it.fn=Be.prototype;var hr=lt(1,"add"),fr=lt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var pr=b("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});q(0,["gg",2],0,function(){return this.weekYear()%100}),q(0,["GG",2],0,function(){return this.isoWeekYear()%100}),$t("gggg","weekYear"),$t("ggggg","weekYear"),$t("GGGG","isoWeekYear"),$t("GGGGG","isoWeekYear"),L("weekYear","gg"),L("isoWeekYear","GG"),G("G",Ii),G("g",Ii),G("GG",Ei,xi),G("gg",Ei,xi),G("GGGG",Mi,ki),G("gggg",Mi,ki),G("GGGGG",Ai,Si),G("ggggg",Ai,Si),J(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=v(e)}),J(["gg","GG"],function(t,n,i,r){n[r]=e.parseTwoDigitYear(t)}),q("Q",0,"Qo","quarter"),L("quarter","Q"),G("Q",bi),Z("Q",function(e,t){t[Bi]=3*(v(e)-1)}),q("w",["ww",2],"wo","week"),q("W",["WW",2],"Wo","isoWeek"),L("week","w"),L("isoWeek","W"),G("w",Ei),G("ww",Ei,xi),G("W",Ei),G("WW",Ei,xi),J(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=v(e)});var gr={dow:0,doy:6};q("D",["DD",2],"Do","date"),L("date","D"),G("D",Ei),G("DD",Ei,xi),G("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),Z(["D","DD"],$i),Z("Do",function(e,t){t[$i]=v(e.match(Ei)[0],10)});var mr=z("Date",!0);q("d",0,"do","day"),q("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),q("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),q("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),q("e",0,0,"weekday"),q("E",0,0,"isoWeekday"),L("day","d"),L("weekday","e"),L("isoWeekday","E"),G("d",Ei),G("e",Ei),G("E",Ei),G("dd",function(e,t){return t.weekdaysMinRegex(e)}),G("ddd",function(e,t){return t.weekdaysShortRegex(e)}),G("dddd",function(e,t){return t.weekdaysRegex(e)}),J(["dd","ddd","dddd"],function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:u(n).invalidWeekday=e}),J(["d","e","E"],function(e,t,n,i){t[i]=v(e)});var vr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),yr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),_r="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),br=Fi,xr=Fi,wr=Fi;q("DDD",["DDDD",3],"DDDo","dayOfYear"),L("dayOfYear","DDD"),G("DDD",Di),G("DDDD",wi),Z(["DDD","DDDD"],function(e,t,n){n._dayOfYear=v(e)}),q("H",["HH",2],0,"hour"),q("h",["hh",2],0,gn),q("k",["kk",2],0,mn),q("hmm",0,0,function(){return""+gn.apply(this)+H(this.minutes(),2)}),q("hmmss",0,0,function(){return""+gn.apply(this)+H(this.minutes(),2)+H(this.seconds(),2)}),q("Hmm",0,0,function(){return""+this.hours()+H(this.minutes(),2)}),q("Hmmss",0,0,function(){return""+this.hours()+H(this.minutes(),2)+H(this.seconds(),2)}),vn("a",!0),vn("A",!1),L("hour","h"),G("a",yn),G("A",yn),G("H",Ei),G("h",Ei),G("HH",Ei,xi),G("hh",Ei,xi),G("hmm",Ti),G("hmmss",Ci),G("Hmm",Ti),G("Hmmss",Ci),Z(["H","HH"],Hi),Z(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),Z(["h","hh"],function(e,t,n){t[Hi]=v(e),u(n).bigHour=!0}),Z("hmm",function(e,t,n){var i=e.length-2;t[Hi]=v(e.substr(0,i)),t[qi]=v(e.substr(i)),u(n).bigHour=!0}),Z("hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[Hi]=v(e.substr(0,i)),t[qi]=v(e.substr(i,2)),t[Wi]=v(e.substr(r)),u(n).bigHour=!0}),Z("Hmm",function(e,t,n){var i=e.length-2;t[Hi]=v(e.substr(0,i)),t[qi]=v(e.substr(i))}),Z("Hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[Hi]=v(e.substr(0,i)),t[qi]=v(e.substr(i,2)),t[Wi]=v(e.substr(r))});var kr=/[ap]\.?m?\.?/i,Sr=z("Hours",!0);q("m",["mm",2],0,"minute"),L("minute","m"),G("m",Ei),G("mm",Ei,xi),Z(["m","mm"],qi);var Er=z("Minutes",!1);q("s",["ss",2],0,"second"),L("second","s"),G("s",Ei),G("ss",Ei,xi),Z(["s","ss"],Wi);var Tr=z("Seconds",!1);q("S",0,0,function(){return~~(this.millisecond()/100)}),q(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),q(0,["SSS",3],0,"millisecond"),q(0,["SSSS",4],0,function(){return 10*this.millisecond()}),q(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),q(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),q(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),q(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),q(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),L("millisecond","ms"),G("S",Di,bi),G("SS",Di,xi),G("SSS",Di,wi);var Cr;for(Cr="SSSS";Cr.length<=9;Cr+="S")G(Cr,Ri);for(Cr="S";Cr.length<=9;Cr+="S")Z(Cr,xn);var Dr=z("Milliseconds",!1);q("z",0,0,"zoneAbbr"),q("zz",0,0,"zoneName");var Mr=p.prototype;Mr.add=hr,Mr.calendar=ct,Mr.clone=dt,Mr.diff=yt,Mr.endOf=At,Mr.format=wt,Mr.from=kt,Mr.fromNow=St,Mr.to=Et,Mr.toNow=Tt,Mr.get=$,Mr.invalidAt=Ut,Mr.isAfter=ht,Mr.isBefore=ft,Mr.isBetween=pt,Mr.isSame=gt,Mr.isSameOrAfter=mt,Mr.isSameOrBefore=vt,Mr.isValid=Nt,Mr.lang=pr,Mr.locale=Ct,Mr.localeData=Dt,Mr.max=sr,Mr.min=or,Mr.parsingFlags=zt,Mr.set=$,Mr.startOf=Mt,Mr.subtract=fr,Mr.toArray=Pt,Mr.toObject=Lt,Mr.toDate=Ot,Mr.toISOString=xt,Mr.toJSON=Ft,Mr.toString=bt,Mr.unix=It,Mr.valueOf=Rt,Mr.creationData=Bt,Mr.year=ar,Mr.isLeapYear=_e,Mr.weekYear=Ht,Mr.isoWeekYear=qt,Mr.quarter=Mr.quarters=Gt,Mr.month=se,Mr.daysInMonth=le,Mr.week=Mr.weeks=Zt,Mr.isoWeek=Mr.isoWeeks=Jt,Mr.weeksInYear=jt,Mr.isoWeeksInYear=Wt,Mr.date=mr,Mr.day=Mr.days=sn,Mr.weekday=ln,Mr.isoWeekday=un,Mr.dayOfYear=pn,Mr.hour=Mr.hours=Sr,Mr.minute=Mr.minutes=Er,Mr.second=Mr.seconds=Tr,Mr.millisecond=Mr.milliseconds=Dr,Mr.utcOffset=Ve,Mr.utc=Ge,Mr.local=Ye,Mr.parseZone=Xe,Mr.hasAlignedHourOffset=Qe,Mr.isDST=Ze,Mr.isDSTShifted=Je,Mr.isLocal=et,Mr.isUtcOffset=tt,Mr.isUtc=nt,Mr.isUTC=nt,Mr.zoneAbbr=wn,Mr.zoneName=kn,Mr.dates=b("dates accessor is deprecated. Use date instead.",mr),Mr.months=b("months accessor is deprecated. Use month instead",se),Mr.years=b("years accessor is deprecated. Use year instead",ar),Mr.zone=b("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Ke);var Ar=Mr,Rr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ir={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Or="Invalid date",Pr="%d",Lr=/\d{1,2}/,Fr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Nr=T.prototype;Nr._calendar=Rr,Nr.calendar=Tn,Nr._longDateFormat=Ir,Nr.longDateFormat=Cn,Nr._invalidDate=Or,Nr.invalidDate=Dn,Nr._ordinal=Pr,Nr.ordinal=Mn,Nr._ordinalParse=Lr,Nr.preparse=An,Nr.postformat=An,Nr._relativeTime=Fr,Nr.relativeTime=Rn,Nr.pastFuture=In,Nr.set=S,Nr.months=ne,Nr._months=Yi,Nr.monthsShort=ie,Nr._monthsShort=Xi,Nr.monthsParse=ae,Nr._monthsRegex=Zi,Nr.monthsRegex=ce,Nr._monthsShortRegex=Qi,Nr.monthsShortRegex=ue,Nr.week=Yt,Nr._week=gr,Nr.firstDayOfYear=Qt,Nr.firstDayOfWeek=Xt,Nr.weekdays=tn,Nr._weekdays=vr,Nr.weekdaysMin=rn,Nr._weekdaysMin=_r,Nr.weekdaysShort=nn,Nr._weekdaysShort=yr,Nr.weekdaysParse=on,Nr._weekdaysRegex=br,Nr.weekdaysRegex=cn,Nr._weekdaysShortRegex=xr,Nr.weekdaysShortRegex=dn,Nr._weekdaysMinRegex=wr,Nr.weekdaysMinRegex=hn,Nr.isPM=_n,Nr._meridiemParse=kr,Nr.meridiem=bn,A("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===v(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=b("moment.lang is deprecated. Use moment.locale instead.",A),e.langData=b("moment.langData is deprecated. Use moment.localeData instead.",O);var zr=Math.abs,Ur=Qn("ms"),Br=Qn("s"),$r=Qn("m"),Hr=Qn("h"),qr=Qn("d"),Wr=Qn("w"),jr=Qn("M"),Vr=Qn("y"),Kr=Jn("milliseconds"),Gr=Jn("seconds"),Yr=Jn("minutes"),Xr=Jn("hours"),Qr=Jn("days"),Zr=Jn("months"),Jr=Jn("years"),ea=Math.round,ta={s:45,m:45,h:22,d:26,M:11},na=Math.abs,ia=Be.prototype;ia.abs=$n,ia.add=qn,ia.subtract=Wn,ia.as=Yn,ia.asMilliseconds=Ur,ia.asSeconds=Br,ia.asMinutes=$r,ia.asHours=Hr,ia.asDays=qr,ia.asWeeks=Wr,ia.asMonths=jr,ia.asYears=Vr,ia.valueOf=Xn,ia._bubble=Vn,ia.get=Zn,ia.milliseconds=Kr,ia.seconds=Gr,ia.minutes=Yr,ia.hours=Xr,ia.days=Qr,ia.weeks=ei,ia.months=Zr,ia.years=Jr,ia.humanize=ri,ia.toISOString=ai,ia.toString=ai,ia.toJSON=ai,ia.locale=Ct,ia.localeData=Dt,ia.toIsoString=b("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ai),ia.lang=pr,q("X",0,0,"unix"),q("x",0,0,"valueOf"),G("x",Ii),G("X",Li),Z("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),Z("x",function(e,t,n){n._d=new Date(v(e))}),e.version="2.13.0",t(Fe),e.fn=Ar,e.min=ze,e.max=Ue,e.now=lr,e.utc=s,e.unix=Sn,e.months=Fn,e.isDate=i,e.locale=A,e.invalid=d,e.duration=it,e.isMoment=g,e.weekdays=zn,e.parseZone=En,e.localeData=O,e.isDuration=$e,e.monthsShort=Nn,e.weekdaysMin=Bn,e.defineLocale=R,e.updateLocale=I,e.locales=P,e.weekdaysShort=Un,e.normalizeUnits=F,e.relativeTimeThreshold=ii,e.prototype=Ar;var ra=e;return ra}),function(e,t){if("function"==typeof define&&define.amd)define(["moment","jquery"],function(n,i){return e.daterangepicker=t(n,i)});else if("object"==typeof module&&module.exports){var n="undefined"!=typeof window?window.jQuery:void 0;n||(n=require("jquery"),n.fn||(n.fn={})),module.exports=t(require("moment"),n)}else e.daterangepicker=t(e.moment,e.jQuery)}(this,function(e,t){var n=function(n,i,r){if(this.parentEl="body",this.element=t(n),this.startDate=e().startOf("day"),this.endDate=e().endOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyClass="btn-success",this.cancelClass="btn-default",this.locale={direction:"ltr",format:"MM/DD/YYYY",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:e.weekdaysMin(),monthNames:e.monthsShort(),firstDay:e.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof i&&null!==i||(i={}),i=t.extend(this.element.data(),i),"string"==typeof i.template||i.template instanceof t||(i.template='<div class="daterangepicker dropdown-menu"><div class="calendar left"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_start" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="calendar right"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_end" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="ranges"><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"></button> <button class="cancelBtn" type="button"></button></div></div></div>'),this.parentEl=t(i.parentEl&&t(i.parentEl).length?i.parentEl:this.parentEl),this.container=t(i.template).appendTo(this.parentEl),"object"==typeof i.locale&&("string"==typeof i.locale.direction&&(this.locale.direction=i.locale.direction),"string"==typeof i.locale.format&&(this.locale.format=i.locale.format),"string"==typeof i.locale.separator&&(this.locale.separator=i.locale.separator),"object"==typeof i.locale.daysOfWeek&&(this.locale.daysOfWeek=i.locale.daysOfWeek.slice()),"object"==typeof i.locale.monthNames&&(this.locale.monthNames=i.locale.monthNames.slice()),"number"==typeof i.locale.firstDay&&(this.locale.firstDay=i.locale.firstDay),"string"==typeof i.locale.applyLabel&&(this.locale.applyLabel=i.locale.applyLabel),"string"==typeof i.locale.cancelLabel&&(this.locale.cancelLabel=i.locale.cancelLabel),"string"==typeof i.locale.weekLabel&&(this.locale.weekLabel=i.locale.weekLabel),"string"==typeof i.locale.customRangeLabel&&(this.locale.customRangeLabel=i.locale.customRangeLabel)),this.container.addClass(this.locale.direction),"string"==typeof i.startDate&&(this.startDate=e(i.startDate,this.locale.format)),"string"==typeof i.endDate&&(this.endDate=e(i.endDate,this.locale.format)),"string"==typeof i.minDate&&(this.minDate=e(i.minDate,this.locale.format)),"string"==typeof i.maxDate&&(this.maxDate=e(i.maxDate,this.locale.format)),"object"==typeof i.startDate&&(this.startDate=e(i.startDate)),"object"==typeof i.endDate&&(this.endDate=e(i.endDate)),"object"==typeof i.minDate&&(this.minDate=e(i.minDate)),"object"==typeof i.maxDate&&(this.maxDate=e(i.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof i.applyClass&&(this.applyClass=i.applyClass),"string"==typeof i.cancelClass&&(this.cancelClass=i.cancelClass),"object"==typeof i.dateLimit&&(this.dateLimit=i.dateLimit),"string"==typeof i.opens&&(this.opens=i.opens),"string"==typeof i.drops&&(this.drops=i.drops),"boolean"==typeof i.showWeekNumbers&&(this.showWeekNumbers=i.showWeekNumbers),"boolean"==typeof i.showISOWeekNumbers&&(this.showISOWeekNumbers=i.showISOWeekNumbers),"string"==typeof i.buttonClasses&&(this.buttonClasses=i.buttonClasses),"object"==typeof i.buttonClasses&&(this.buttonClasses=i.buttonClasses.join(" ")),"boolean"==typeof i.showDropdowns&&(this.showDropdowns=i.showDropdowns),"boolean"==typeof i.showCustomRangeLabel&&(this.showCustomRangeLabel=i.showCustomRangeLabel),"boolean"==typeof i.singleDatePicker&&(this.singleDatePicker=i.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof i.timePicker&&(this.timePicker=i.timePicker),"boolean"==typeof i.timePickerSeconds&&(this.timePickerSeconds=i.timePickerSeconds),"number"==typeof i.timePickerIncrement&&(this.timePickerIncrement=i.timePickerIncrement),"boolean"==typeof i.timePicker24Hour&&(this.timePicker24Hour=i.timePicker24Hour),"boolean"==typeof i.autoApply&&(this.autoApply=i.autoApply),"boolean"==typeof i.autoUpdateInput&&(this.autoUpdateInput=i.autoUpdateInput),"boolean"==typeof i.linkedCalendars&&(this.linkedCalendars=i.linkedCalendars),"function"==typeof i.isInvalidDate&&(this.isInvalidDate=i.isInvalidDate),"function"==typeof i.isCustomDate&&(this.isCustomDate=i.isCustomDate),"boolean"==typeof i.alwaysShowCalendars&&(this.alwaysShowCalendars=i.alwaysShowCalendars),0!=this.locale.firstDay)for(var a=this.locale.firstDay;a>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),a--;var o,s,l;if("undefined"==typeof i.startDate&&"undefined"==typeof i.endDate&&t(this.element).is("input[type=text]")){var u=t(this.element).val(),c=u.split(this.locale.separator);o=s=null,2==c.length?(o=e(c[0],this.locale.format),s=e(c[1],this.locale.format)):this.singleDatePicker&&""!==u&&(o=e(u,this.locale.format),s=e(u,this.locale.format)),null!==o&&null!==s&&(this.setStartDate(o),this.setEndDate(s))}if("object"==typeof i.ranges){for(l in i.ranges){o="string"==typeof i.ranges[l][0]?e(i.ranges[l][0],this.locale.format):e(i.ranges[l][0]),s="string"==typeof i.ranges[l][1]?e(i.ranges[l][1],this.locale.format):e(i.ranges[l][1]),this.minDate&&o.isBefore(this.minDate)&&(o=this.minDate.clone());var d=this.maxDate;if(this.dateLimit&&d&&o.clone().add(this.dateLimit).isAfter(d)&&(d=o.clone().add(this.dateLimit)),d&&s.isAfter(d)&&(s=d.clone()),!(this.minDate&&s.isBefore(this.minDate,this.timepicker?"minute":"day")||d&&o.isAfter(d,this.timepicker?"minute":"day"))){var h=document.createElement("textarea");h.innerHTML=l;var f=h.value;this.ranges[f]=[o,s]}}var p="<ul>";for(l in this.ranges)p+='<li data-range-key="'+l+'">'+l+"</li>";this.showCustomRangeLabel&&(p+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),p+="</ul>",this.container.find(".ranges").prepend(p)}"function"==typeof r&&(this.callback=r),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&"object"!=typeof i.ranges?this.container.find(".ranges").hide():this.autoApply&&this.container.find(".applyBtn, .cancelBtn").addClass("hide"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".calendar.left").addClass("single"),this.container.find(".calendar.left").show(),this.container.find(".calendar.right").hide(),this.container.find(".daterangepicker_input input, .daterangepicker_input > i").hide(),this.timePicker?this.container.find(".ranges ul").hide():this.container.find(".ranges").hide()),("undefined"==typeof i.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),"undefined"!=typeof i.ranges&&"right"==this.opens&&this.container.find(".ranges").prependTo(this.container.find(".calendar.left").parent()),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",t.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",t.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",t.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",t.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",t.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",t.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",t.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",t.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",t.proxy(this.showCalendars,this)).on("focus.daterangepicker",".daterangepicker_input input",t.proxy(this.formInputsFocused,this)).on("blur.daterangepicker",".daterangepicker_input input",t.proxy(this.formInputsBlurred,this)).on("change.daterangepicker",".daterangepicker_input input",t.proxy(this.formInputsChanged,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",t.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",t.proxy(this.clickCancel,this)).on("click.daterangepicker","li",t.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",t.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",t.proxy(this.updateFormInputs,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":t.proxy(this.show,this),"focus.daterangepicker":t.proxy(this.show,this),"keyup.daterangepicker":t.proxy(this.elementChanged,this),"keydown.daterangepicker":t.proxy(this.keydown,this)}):this.element.on("click.daterangepicker",t.proxy(this.toggle,this)),this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))};return n.prototype={constructor:n,setStartDate:function(t){"string"==typeof t&&(this.startDate=e(t,this.locale.format)),"object"==typeof t&&(this.startDate=e(t)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate,this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate,this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(t){"string"==typeof t&&(this.endDate=e(t,this.locale.format)),"object"==typeof t&&(this.endDate=e(t)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate),this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit)),this.previousRightTime=this.endDate.clone(),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")),this.endDate?(this.container.find('input[name="daterangepicker_end"]').removeClass("active"),this.container.find('input[name="daterangepicker_start"]').addClass("active")):(this.container.find('input[name="daterangepicker_end"]').addClass("active"),this.container.find('input[name="daterangepicker_start"]').removeClass("active")),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){if(this.timePicker){var e,t,n;if(this.endDate){if(e=parseInt(this.container.find(".left .hourselect").val(),10),t=parseInt(this.container.find(".left .minuteselect").val(),10),n=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour){var i=this.container.find(".left .ampmselect").val();"PM"===i&&e<12&&(e+=12),"AM"===i&&12===e&&(e=0)}}else if(e=parseInt(this.container.find(".right .hourselect").val(),10),t=parseInt(this.container.find(".right .minuteselect").val(),10),n=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour){var i=this.container.find(".right .ampmselect").val();"PM"===i&&e<12&&(e+=12),"AM"===i&&12===e&&(e=0)}this.leftCalendar.month.hour(e).minute(t).second(n),this.rightCalendar.month.hour(e).minute(t).second(n)}this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(n){var i="left"==n?this.leftCalendar:this.rightCalendar,r=i.month.month(),a=i.month.year(),o=i.month.hour(),s=i.month.minute(),l=i.month.second(),u=e([a,r]).daysInMonth(),c=e([a,r,1]),d=e([a,r,u]),h=e(c).subtract(1,"month").month(),f=e(c).subtract(1,"month").year(),p=e([f,h]).daysInMonth(),g=c.day(),i=[];i.firstDay=c,i.lastDay=d;for(var m=0;m<6;m++)i[m]=[];var v=p-g+this.locale.firstDay+1;v>p&&(v-=7),g==this.locale.firstDay&&(v=p-6);for(var y,_,b=e([f,h,v,12,s,l]),m=0,y=0,_=0;m<42;m++,y++,b=e(b).add(24,"hour"))m>0&&y%7===0&&(y=0,_++),i[_][y]=b.clone().hour(o).minute(s).second(l),b.hour(12),this.minDate&&i[_][y].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&i[_][y].isBefore(this.minDate)&&"left"==n&&(i[_][y]=this.minDate.clone()),this.maxDate&&i[_][y].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&i[_][y].isAfter(this.maxDate)&&"right"==n&&(i[_][y]=this.maxDate.clone());"left"==n?this.leftCalendar.calendar=i:this.rightCalendar.calendar=i;var x="left"==n?this.minDate:this.startDate,w=this.maxDate,k=("left"==n?this.startDate:this.endDate,"ltr"==this.locale.direction?{left:"chevron-left",right:"chevron-right"}:{left:"chevron-right",right:"chevron-left"}),S='<table class="table-condensed">';S+="<thead>",S+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(S+="<th></th>"),S+=x&&!x.isBefore(i.firstDay)||this.linkedCalendars&&"left"!=n?"<th></th>":'<th class="prev available"><i class="fa fa-'+k.left+" glyphicon glyphicon-"+k.left+'"></i></th>';var E=this.locale.monthNames[i[1][1].month()]+i[1][1].format(" YYYY");if(this.showDropdowns){for(var T=i[1][1].month(),C=i[1][1].year(),D=w&&w.year()||C+5,M=x&&x.year()||C-50,A=C==M,R=C==D,I='<select class="monthselect">',O=0;O<12;O++)I+=(!A||O>=x.month())&&(!R||O<=w.month())?"<option value='"+O+"'"+(O===T?" selected='selected'":"")+">"+this.locale.monthNames[O]+"</option>":"<option value='"+O+"'"+(O===T?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[O]+"</option>";I+="</select>";for(var P='<select class="yearselect">',L=M;L<=D;L++)P+='<option value="'+L+'"'+(L===C?' selected="selected"':"")+">"+L+"</option>";P+="</select>",E=I+P}if(S+='<th colspan="5" class="month">'+E+"</th>",S+=w&&!w.isAfter(i.lastDay)||this.linkedCalendars&&"right"!=n&&!this.singleDatePicker?"<th></th>":'<th class="next available"><i class="fa fa-'+k.right+" glyphicon glyphicon-"+k.right+'"></i></th>',S+="</tr>",S+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(S+='<th class="week">'+this.locale.weekLabel+"</th>"),t.each(this.locale.daysOfWeek,function(e,t){S+="<th>"+t+"</th>"}),S+="</tr>",S+="</thead>",S+="<tbody>",null==this.endDate&&this.dateLimit){var F=this.startDate.clone().add(this.dateLimit).endOf("day");w&&!F.isBefore(w)||(w=F)}for(var _=0;_<6;_++){S+="<tr>",this.showWeekNumbers?S+='<td class="week">'+i[_][0].week()+"</td>":this.showISOWeekNumbers&&(S+='<td class="week">'+i[_][0].isoWeek()+"</td>");for(var y=0;y<7;y++){var N=[];i[_][y].isSame(new Date,"day")&&N.push("today"),i[_][y].isoWeekday()>5&&N.push("weekend"),i[_][y].month()!=i[1][1].month()&&N.push("off"),this.minDate&&i[_][y].isBefore(this.minDate,"day")&&N.push("off","disabled"),w&&i[_][y].isAfter(w,"day")&&N.push("off","disabled"),this.isInvalidDate(i[_][y])&&N.push("off","disabled"),i[_][y].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&N.push("active","start-date"),null!=this.endDate&&i[_][y].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&N.push("active","end-date"),null!=this.endDate&&i[_][y]>this.startDate&&i[_][y]<this.endDate&&N.push("in-range");var z=this.isCustomDate(i[_][y]);z!==!1&&("string"==typeof z?N.push(z):Array.prototype.push.apply(N,z));for(var U="",B=!1,m=0;m<N.length;m++)U+=N[m]+" ","disabled"==N[m]&&(B=!0);B||(U+="available"),S+='<td class="'+U.replace(/^\s+|\s+$/g,"")+'" data-title="r'+_+"c"+y+'">'+i[_][y].date()+"</td>"}S+="</tr>"}S+="</tbody>",S+="</table>",this.container.find(".calendar."+n+" .calendar-table").html(S)},renderTimePicker:function(e){if("right"!=e||this.endDate){var t,n,i,r=this.maxDate;if(!this.dateLimit||this.maxDate&&!this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)||(r=this.startDate.clone().add(this.dateLimit)),"left"==e)n=this.startDate.clone(),i=this.minDate;else if("right"==e){n=this.endDate.clone(),i=this.startDate;var a=this.container.find(".calendar.right .calendar-time div");if(!this.endDate&&""!=a.html()&&(n.hour(a.find(".hourselect option:selected").val()||n.hour()),n.minute(a.find(".minuteselect option:selected").val()||n.minute()),n.second(a.find(".secondselect option:selected").val()||n.second()),!this.timePicker24Hour)){var o=a.find(".ampmselect option:selected").val();"PM"===o&&n.hour()<12&&n.hour(n.hour()+12),"AM"===o&&12===n.hour()&&n.hour(0)}n.isBefore(this.startDate)&&(n=this.startDate.clone()),r&&n.isAfter(r)&&(n=r.clone())}t='<select class="hourselect">';for(var s=this.timePicker24Hour?0:1,l=this.timePicker24Hour?23:12,u=s;u<=l;u++){var c=u;this.timePicker24Hour||(c=n.hour()>=12?12==u?12:u+12:12==u?0:u);var d=n.clone().hour(c),h=!1;i&&d.minute(59).isBefore(i)&&(h=!0),r&&d.minute(0).isAfter(r)&&(h=!0),t+=c!=n.hour()||h?h?'<option value="'+u+'" disabled="disabled" class="disabled">'+u+"</option>":'<option value="'+u+'">'+u+"</option>":'<option value="'+u+'" selected="selected">'+u+"</option>"}t+="</select> ",t+=': <select class="minuteselect">';for(var u=0;u<60;u+=this.timePickerIncrement){var f=u<10?"0"+u:u,d=n.clone().minute(u),h=!1;i&&d.second(59).isBefore(i)&&(h=!0),r&&d.second(0).isAfter(r)&&(h=!0),t+=n.minute()!=u||h?h?'<option value="'+u+'" disabled="disabled" class="disabled">'+f+"</option>":'<option value="'+u+'">'+f+"</option>":'<option value="'+u+'" selected="selected">'+f+"</option>";
}if(t+="</select> ",this.timePickerSeconds){t+=': <select class="secondselect">';for(var u=0;u<60;u++){var f=u<10?"0"+u:u,d=n.clone().second(u),h=!1;i&&d.isBefore(i)&&(h=!0),r&&d.isAfter(r)&&(h=!0),t+=n.second()!=u||h?h?'<option value="'+u+'" disabled="disabled" class="disabled">'+f+"</option>":'<option value="'+u+'">'+f+"</option>":'<option value="'+u+'" selected="selected">'+f+"</option>"}t+="</select> "}if(!this.timePicker24Hour){t+='<select class="ampmselect">';var p="",g="";i&&n.clone().hour(12).minute(0).second(0).isBefore(i)&&(p=' disabled="disabled" class="disabled"'),r&&n.clone().hour(0).minute(0).second(0).isAfter(r)&&(g=' disabled="disabled" class="disabled"'),t+=n.hour()>=12?'<option value="AM"'+p+'>AM</option><option value="PM" selected="selected"'+g+">PM</option>":'<option value="AM" selected="selected"'+p+'>AM</option><option value="PM"'+g+">PM</option>",t+="</select>"}this.container.find(".calendar."+e+" .calendar-time div").html(t)}},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||(this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format)),this.endDate&&this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format)),this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled"))},move:function(){var e,n={top:0,left:0},i=t(window).width();this.parentEl.is("body")||(n={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},i=this.parentEl[0].clientWidth+this.parentEl.offset().left),e="up"==this.drops?this.element.offset().top-this.container.outerHeight()-n.top:this.element.offset().top+this.element.outerHeight()-n.top,this.container["up"==this.drops?"addClass":"removeClass"]("dropup"),"left"==this.opens?(this.container.css({top:e,right:i-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:e,left:this.element.offset().left-n.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:e,left:this.element.offset().left-n.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>t(window).width()&&this.container.css({left:"auto",right:0}))},show:function(e){this.isShowing||(this._outsideClickProxy=t.proxy(function(e){this.outsideClick(e)},this),t(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),t(window).on("resize.daterangepicker",t.proxy(function(e){this.move(e)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(e){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate,this.endDate,this.chosenLabel),this.updateElement(),t(document).off(".daterangepicker"),t(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(e){this.isShowing?this.hide():this.show()},outsideClick:function(e){var n=t(e.target);"focusin"==e.type||n.closest(this.element).length||n.closest(this.container).length||n.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(e){if(!this.container.find("input[name=daterangepicker_start]").is(":focus")&&!this.container.find("input[name=daterangepicker_end]").is(":focus")){var t=e.target.getAttribute("data-range-key");if(t==this.locale.customRangeLabel)this.updateView();else{var n=this.ranges[t];this.container.find("input[name=daterangepicker_start]").val(n[0].format(this.locale.format)),this.container.find("input[name=daterangepicker_end]").val(n[1].format(this.locale.format))}}},clickRange:function(e){var t=e.target.getAttribute("data-range-key");if(this.chosenLabel=t,t==this.locale.customRangeLabel)this.showCalendars();else{var n=this.ranges[t];this.startDate=n[0],this.endDate=n[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(e){var n=t(e.target).parents(".calendar");n.hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(e){var n=t(e.target).parents(".calendar");n.hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(e){if(t(e.target).hasClass("available")){var n=t(e.target).attr("data-title"),i=n.substr(1,1),r=n.substr(3,1),a=t(e.target).parents(".calendar"),o=a.hasClass("left")?this.leftCalendar.calendar[i][r]:this.rightCalendar.calendar[i][r];this.endDate&&!this.container.find("input[name=daterangepicker_start]").is(":focus")?this.container.find("input[name=daterangepicker_start]").val(o.format(this.locale.format)):this.endDate||this.container.find("input[name=daterangepicker_end]").is(":focus")||this.container.find("input[name=daterangepicker_end]").val(o.format(this.locale.format));var s=this.leftCalendar,l=this.rightCalendar,u=this.startDate;this.endDate||this.container.find(".calendar td").each(function(e,n){if(!t(n).hasClass("week")){var i=t(n).attr("data-title"),r=i.substr(1,1),a=i.substr(3,1),c=t(n).parents(".calendar"),d=c.hasClass("left")?s.calendar[r][a]:l.calendar[r][a];d.isAfter(u)&&d.isBefore(o)||d.isSame(o,"day")?t(n).addClass("in-range"):t(n).removeClass("in-range")}})}},clickDate:function(e){if(t(e.target).hasClass("available")){var n=t(e.target).attr("data-title"),i=n.substr(1,1),r=n.substr(3,1),a=t(e.target).parents(".calendar"),o=a.hasClass("left")?this.leftCalendar.calendar[i][r]:this.rightCalendar.calendar[i][r];if(this.endDate||o.isBefore(this.startDate,"day")){if(this.timePicker){var s=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour){var l=this.container.find(".left .ampmselect").val();"PM"===l&&s<12&&(s+=12),"AM"===l&&12===s&&(s=0)}var u=parseInt(this.container.find(".left .minuteselect").val(),10),c=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;o=o.clone().hour(s).minute(u).second(c)}this.endDate=null,this.setStartDate(o.clone())}else if(!this.endDate&&o.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{if(this.timePicker){var s=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour){var l=this.container.find(".right .ampmselect").val();"PM"===l&&s<12&&(s+=12),"AM"===l&&12===s&&(s=0)}var u=parseInt(this.container.find(".right .minuteselect").val(),10),c=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;o=o.clone().hour(s).minute(u).second(c)}this.setEndDate(o.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView(),e.stopPropagation()}},calculateChosenLabel:function(){var e=!0,t=0;for(var n in this.ranges){if(this.timePicker){if(this.startDate.isSame(this.ranges[n][0])&&this.endDate.isSame(this.ranges[n][1])){e=!1,this.chosenLabel=this.container.find(".ranges li:eq("+t+")").addClass("active").html();break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[n][1].format("YYYY-MM-DD")){e=!1,this.chosenLabel=this.container.find(".ranges li:eq("+t+")").addClass("active").html();break}t++}e&&this.showCustomRangeLabel&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars())},clickApply:function(e){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(e){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(e){var n=t(e.target).closest(".calendar").hasClass("left"),i=n?"left":"right",r=this.container.find(".calendar."+i),a=parseInt(r.find(".monthselect").val(),10),o=r.find(".yearselect").val();n||(o<this.startDate.year()||o==this.startDate.year()&&a<this.startDate.month())&&(a=this.startDate.month(),o=this.startDate.year()),this.minDate&&(o<this.minDate.year()||o==this.minDate.year()&&a<this.minDate.month())&&(a=this.minDate.month(),o=this.minDate.year()),this.maxDate&&(o>this.maxDate.year()||o==this.maxDate.year()&&a>this.maxDate.month())&&(a=this.maxDate.month(),o=this.maxDate.year()),n?(this.leftCalendar.month.month(a).year(o),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(a).year(o),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(e){var n=t(e.target).closest(".calendar"),i=n.hasClass("left"),r=parseInt(n.find(".hourselect").val(),10),a=parseInt(n.find(".minuteselect").val(),10),o=this.timePickerSeconds?parseInt(n.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var s=n.find(".ampmselect").val();"PM"===s&&r<12&&(r+=12),"AM"===s&&12===r&&(r=0)}if(i){var l=this.startDate.clone();l.hour(r),l.minute(a),l.second(o),this.setStartDate(l),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==l.format("YYYY-MM-DD")&&this.endDate.isBefore(l)&&this.setEndDate(l.clone())}else if(this.endDate){var u=this.endDate.clone();u.hour(r),u.minute(a),u.second(o),this.setEndDate(u)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},formInputsChanged:function(n){var i=t(n.target).closest(".calendar").hasClass("right"),r=e(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format),a=e(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);r.isValid()&&a.isValid()&&(i&&a.isBefore(r)&&(r=a.clone()),this.setStartDate(r),this.setEndDate(a),i?this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)):this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))),this.updateView()},formInputsFocused:function(e){this.container.find('input[name="daterangepicker_start"], input[name="daterangepicker_end"]').removeClass("active"),t(e.target).addClass("active");var n=t(e.target).closest(".calendar").hasClass("right");n&&(this.endDate=null,this.setStartDate(this.startDate.clone()),this.updateView())},formInputsBlurred:function(t){if(!this.endDate){var n=this.container.find('input[name="daterangepicker_end"]').val(),i=e(n,this.locale.format);i.isValid()&&(this.setEndDate(i),this.updateView())}},elementChanged:function(){if(this.element.is("input")&&this.element.val().length&&!(this.element.val().length<this.locale.format.length)){var t=this.element.val().split(this.locale.separator),n=null,i=null;2===t.length&&(n=e(t[0],this.locale.format),i=e(t[1],this.locale.format)),(this.singleDatePicker||null===n||null===i)&&(n=e(this.element.val(),this.locale.format),i=n),n.isValid()&&i.isValid()&&(this.setStartDate(n),this.setEndDate(i),this.updateView())}},keydown:function(e){9!==e.keyCode&&13!==e.keyCode||this.hide()},updateElement:function(){this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},t.fn.daterangepicker=function(e,i){return this.each(function(){var r=t(this);r.data("daterangepicker")&&r.data("daterangepicker").remove(),r.data("daterangepicker",new n(r,e,i))}),this},n}),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["angular"],t):e.hasOwnProperty("angular")?t(e.angular):"object"==typeof exports&&(module.exports=t(require("angular")))}(this,function(e){"use strict";function t(t){return function(){var n="ngStorage-";this.setKeyPrefix=function(e){if("string"!=typeof e)throw new TypeError("[ngStorage] - "+t+"Provider.setKeyPrefix() expects a String.");n=e};var i=e.toJson,r=e.fromJson;this.setSerializer=function(e){if("function"!=typeof e)throw new TypeError("[ngStorage] - "+t+"Provider.setSerializer expects a function.");i=e},this.setDeserializer=function(e){if("function"!=typeof e)throw new TypeError("[ngStorage] - "+t+"Provider.setDeserializer expects a function.");r=e},this.get=function(e){return r(window[t].getItem(n+e))},this.set=function(e,r){return window[t].setItem(n+e,i(r))},this.$get=["$rootScope","$window","$log","$timeout","$document",function(a,o,s,l,u){function c(e){var t;try{t=o[e]}catch(n){t=!1}if(t&&"localStorage"===e){var i="__"+Math.round(1e7*Math.random());try{localStorage.setItem(i,i),localStorage.removeItem(i)}catch(n){t=!1}}return t}var d,h,f=n.length,p=c(t)||(s.warn("This browser does not support Web Storage!"),{setItem:e.noop,getItem:e.noop,removeItem:e.noop}),g={$default:function(t){for(var n in t)e.isDefined(g[n])||(g[n]=e.copy(t[n]));return g.$sync(),g},$reset:function(e){for(var t in g)"$"===t[0]||delete g[t]&&p.removeItem(n+t);return g.$default(e)},$sync:function(){for(var e,t=0,i=p.length;t<i;t++)(e=p.key(t))&&n===e.slice(0,f)&&(g[e.slice(f)]=r(p.getItem(e)))},$apply:function(){var t;if(h=null,!e.equals(g,d)){t=e.copy(d),e.forEach(g,function(r,a){e.isDefined(r)&&"$"!==a[0]&&(p.setItem(n+a,i(r)),delete t[a])});for(var r in t)p.removeItem(n+r);d=e.copy(g)}}};return g.$sync(),d=e.copy(g),a.$watch(function(){h||(h=l(g.$apply,100,!1))}),o.addEventListener&&o.addEventListener("storage",function(t){if(t.key){var i=u[0];i.hasFocus&&i.hasFocus()||n!==t.key.slice(0,f)||(t.newValue?g[t.key.slice(f)]=r(t.newValue):delete g[t.key.slice(f)],d=e.copy(g),a.$apply())}}),o.addEventListener&&o.addEventListener("beforeunload",function(){g.$apply()}),g}]}}return e=e&&e.module?e:window.angular,e.module("ngStorage",[]).provider("$localStorage",t("localStorage")).provider("$sessionStorage",t("sessionStorage"))}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){"use strict";var t=e(window),n=function(t,i){i=e.isPlainObject(i)?i:{},this.$image=e(t),this.defaults=e.extend({},n.defaults,this.$image.data(),i),this.init()};n.prototype={construstor:n,init:function(){this.setAspectRatio(this.defaults.aspectRatio),this.render()},render:function(t){var i,r,a=this,o=this.$image;this.active||(this.$clone&&this.$clone.remove(),r=o.attr("src"),i=e('<img src="'+r+'">'),i.on("load",function(){var e;i.off("load"),this.naturalWidth&&this.naturalHeight?e={naturalHeight:this.naturalHeight,naturalWidth:this.naturalWidth}:(n.fn.size(i,{height:"auto",width:"auto"}),e=n.fn.size(i),e={naturalHeight:e.height,naturalWidth:e.width}),n.fn.size(i,{height:"100%",width:"100%"}),e.aspectRatio=e.naturalWidth/e.naturalHeight,a.src=r,a.image=e,a.active=!0,a.createCropper()}),e.isFunction(t)&&o.on("ready.cropper",t),this.$clone=i,o.after(i))},unrender:function(){this.active&&(this.active=!1,this.removeCropper(),this.src="",this.image=null,this.cropper=null,this.dragger=null)},rerender:function(){this.unrender(),this.render()},resize:function(){clearTimeout(this.resizing),this.resizing=setTimeout(e.proxy(this.rerender,this),200)},createCropper:function(){this.$cropper=e(n.template),this.$dragger=this.$cropper.find(".cropper-dragger"),n.fn.toggle(this.$image),this.$image.after(this.$cropper),this.$cropper.prepend(this.$clone),this.defaults.modal||n.fn.toggle(this.$cropper.find(".cropper-modal")),this.setPreview(),this.addListener()},removeCropper:function(){this.removeListener(),this.$preview=null,this.$clone.remove(),this.$clone=null,this.$dragger=null,this.$cropper.remove(),this.$cropper=null,n.fn.toggle(this.$image)},addListener:function(){this.$cropper.bind("mousedown touchstart",e.proxy(this.dragstart,this)),this.$cropper.bind("mousemove touchmove",e.proxy(this.dragmove,this)),this.$cropper.bind("mouseup mouseleave touchend touchleave",e.proxy(this.dragend,this)),t.on("resize",e.proxy(this.resize,this))},removeListener:function(){this.$cropper.unbind("mousedown touchstart",this.dragstart),this.$cropper.unbind("mousemove touchmove",this.dragmove),this.$cropper.unbind("mouseup mouseleave touchend touchleave",this.dragend),t.off("resize",this.resize)},setPreview:function(){var e=this.defaults.preview;this.$preview=this.$cropper.find(".cropper-preview"),"string"==typeof e&&e.length>0&&(this.$preview=this.$preview.add(e)),this.$preview.html('<img src="'+this.src+'">'),this.setCropper()},setCropper:function(){var t,i=this.$image.parent(),r=n.fn.size(i),a=this.image;a.naturalWidth*r.height/a.naturalHeight-r.width>=0?(t={height:r.width/a.aspectRatio,width:r.width,left:0},t.top=(r.height-t.height)/2):(t={height:r.height,width:r.height*a.aspectRatio,top:0},t.left=(r.width-t.width)/2),e.each(t,function(e,n){t[e]=Math.round(n)}),a.height=t.height,a.width=t.width,a.ratio=a.width/a.naturalWidth,n.fn.position(i),this.$cropper.css({height:t.height,left:t.left,top:t.top,width:t.width}),this.cropper=t,this.setDragger()},setDragger:function(){var e,t=this.cropper,i=this.defaults.aspectRatio||this.image.aspectRatio;e=t.height*i-t.width>=0?{height:t.width/i,width:t.width,left:0,top:(t.height-t.width/i)/2,maxWidth:t.width,maxHeight:t.width/i}:{height:t.height,width:t.height*i,left:(t.width-t.height*i)/2,top:0,maxHeight:t.height,maxWidth:t.height*i},e.height*=.8,e.width*=.8,e.left=(t.width-e.width)/2,e.top=(t.height-e.height)/2,this.dragger=n.fn.round(e),this.setData(this.defaults.data),this.$image.trigger("ready.cropper").off("ready.cropper")},resetDragger:function(){var e=this.dragger,t=this.cropper;e.width=e.width>e.maxWidth?e.maxWidth:Math.abs(e.width),e.height=e.height>e.maxHeight?e.maxHeight:Math.abs(e.height),e.maxLeft=t.width-e.width,e.maxTop=t.height-e.height,e.left=e.left<0?0:e.left>e.maxLeft?e.maxLeft:e.left,e.top=e.top<0?0:e.top>e.maxTop?e.maxTop:e.top,e=n.fn.round(e),this.$dragger.css({height:e.height,left:e.left,top:e.top,width:e.width}),this.dragger=e,this.preview(),this.output()},dragging:function(){var e=this.direction,t=this.dragger,n=this.defaults.aspectRatio,i={x:this.endX-this.startX,y:this.endY-this.startY};switch(n&&(i.X=i.y*n,i.Y=i.x/n),e){case"e":t.width+=i.x,n&&(t.height=t.width/n,t.top-=i.Y/2),t.width<0&&(this.direction="w",t.width=0);break;case"n":t.height-=i.y,t.top+=i.y,n&&(t.width=t.height*n,t.left+=i.X/2),t.height<0&&(this.direction="s",t.height=0);break;case"w":t.width-=i.x,t.left+=i.x,n&&(t.height=t.width/n,t.top+=i.Y/2),t.width<0&&(this.direction="e",t.width=0);break;case"s":t.height+=i.y,n&&(t.width=t.height*n,t.left-=i.X/2),t.height<0&&(this.direction="n",t.height=0);break;case"ne":t.height-=i.y,t.top+=i.y,n?t.width=t.height*n:t.width+=i.x,t.height<0&&(this.direction="sw",t.height=0,t.width=0);break;case"nw":t.height-=i.y,t.top+=i.y,n?(t.width=t.height*n,t.left+=i.X):(t.width-=i.x,t.left+=i.x),t.height<0&&(this.direction="se",t.height=0,t.width=0);break;case"sw":t.width-=i.x,t.left+=i.x,n?t.height=t.width/n:t.height+=i.y,t.width<0&&(this.direction="ne",t.height=0,t.width=0);break;case"se":t.width+=i.x,n?t.height=t.width/n:t.height+=i.y,t.width<0&&(this.direction="nw",t.height=0,t.width=0);break;default:t.left+=i.x,t.top+=i.y}this.resetDragger(),this.startX=this.endX,this.startY=this.endY},output:function(){this.defaults.done(this.getData())},preview:function(){var t=this,i=t.cropper,r=t.dragger;this.$preview.each(function(){var t=e(this),a=t.outerWidth()/r.width,o={height:i.height,marginLeft:-r.left,marginTop:-r.top,width:i.width};t.css({overflow:"hidden"}),t.find("img").css(n.fn.round(o,function(e){return e*a}))})},enable:function(e){this.render(e)},disable:function(){this.unrender()},setAspectRatio:function(t){("auto"===t||e.isNumeric(t)&&t>0)&&(this.defaults.aspectRatio="auto"===t?NaN:t,this.active&&this.setDragger())},setData:function(t){var i=this.cropper,r=this.dragger,a=this.defaults.aspectRatio,o=function(e){return"number"==typeof e};this.active&&(e.isPlainObject(t)&&!e.isEmptyObject(t)&&(t=n.fn.transformData(t,this.image.ratio),o(t.x1)&&t.x1<=i.width&&(r.left=t.x1),o(t.y1)&&t.y1<=i.height&&(r.top=t.y1),a?o(t.width)&&t.width<=i.width?(r.width=t.width,r.height=r.width/a):o(t.height)&&t.height<=i.height?(r.height=t.height,r.width=r.height*a):o(t.x2)&&t.x2<=i.width?(r.width=t.x2-r.left,r.height=r.width/a):o(t.y2)&&t.y2<=i.height&&(r.height=t.y2-r.top,r.width=r.height*a):(o(t.width)&&t.width<=i.width?r.width=t.width:o(t.x2)&&t.x2<=i.width&&(r.width=t.x2-r.left),o(t.height)&&t.height<=i.height?r.height=t.height:o(t.y2)&&t.height<=i.height&&(r.height=t.y2-r.top))),this.dragger=r,this.resetDragger())},getData:function(){var e=this.dragger,t={};return this.active&&(t={x1:e.left,y1:e.top,width:e.width,height:e.height,x2:e.left+e.width,y2:e.top+e.height},t=n.fn.transformData(t,1/this.image.ratio)),t},setImgSrc:function(e){"string"==typeof e&&e.length>0&&e!==this.src&&(this.$image.attr("src",e),this.rerender())},getImgInfo:function(){return this.image||{}},dragstart:function(t){var i,r,a=n.fn.getOriginalEvent(t).touches,o=t;a&&1===a.length&&(o=a[0],this.touchId=o.identifier,i=!0),r=e(o.target).data().direction,n.fn.isDirection(r)&&(this.startX=o.pageX,this.startY=o.pageY,this.direction=r,this.$image.trigger("dragstart"),i&&t.preventDefault())},dragmove:function(e){var t,i=n.fn.getOriginalEvent(e).changedTouches,r=e;i&&1===i.length&&(r=i[0],t=!0,r.identifier!==this.touchId)||this.direction&&(this.$image.trigger("dragmove"),t&&e.preventDefault(),this.endX=r.pageX,this.endY=r.pageY,this.dragging())},dragend:function(e){var t,i=n.fn.getOriginalEvent(e).changedTouches,r=e;i&&1===i.length&&(r=i[0],t=!0,r.identifier!==this.touchId)||this.direction&&(this.direction="",this.$image.trigger("dragend"),t&&e.preventDefault())}},n.fn={toggle:function(e){e.toggleClass("cropper-hidden")},position:function(e,t){var n=e.css("position");"static"===n&&e.css("position",t||"relative")},size:function(t,n){return e.isPlainObject(n)?void t.css(n):{height:t.height(),width:t.width()}},round:function(t,n){var i,r;for(r in t)i=t[r],t.hasOwnProperty(r)&&"number"==typeof i&&(t[r]=Math.round(e.isFunction(n)?n(i):i));return t},transformData:function(t,n){var i=this,r={};return e.each(t,function(t,a){i.isDataOption(t)&&e.isNumeric(a)&&a>=0&&(r[t]=Math.round(a*n))}),r},getOriginalEvent:function(e){return e&&"undefined"!=typeof e.originalEvent&&(e=e.originalEvent),e},isDataOption:function(e){return/^(x1|y1|x2|y2|width|height)$/i.test(e)},isDirection:function(e){return/^(\*|e|n|w|s|ne|nw|sw|se)$/i.test(e)}},n.template=['<div class="cropper-container">','<div class="cropper-modal"></div>','<div class="cropper-dragger">','<span class="cropper-preview"></span>','<span class="cropper-dashed dashed-h"></span>','<span class="cropper-dashed dashed-v"></span>','<span class="cropper-face" data-direction="*"></span>','<span class="cropper-line line-e" data-direction="e"></span>','<span class="cropper-line line-n" data-direction="n"></span>','<span class="cropper-line line-w" data-direction="w"></span>','<span class="cropper-line line-s" data-direction="s"></span>','<span class="cropper-point point-e" data-direction="e"></span>','<span class="cropper-point point-n" data-direction="n"></span>','<span class="cropper-point point-w" data-direction="w"></span>','<span class="cropper-point point-s" data-direction="s"></span>','<span class="cropper-point point-ne" data-direction="ne"></span>','<span class="cropper-point point-nw" data-direction="nw"></span>','<span class="cropper-point point-sw" data-direction="sw"></span>','<span class="cropper-point point-se" data-direction="se"></span>',"</div>","</div>"].join(""),n.defaults={aspectRatio:"auto",data:{},done:function(){},modal:!0,preview:""},n.setDefaults=function(t){e.extend(n.defaults,t)},e.fn.cropper=function(t,i){var r=this;return this.each(function(){var a=e(this),o=a.data("cropper");o||(o=new n(this,t),a.data("cropper",o)),"string"==typeof t&&e.isFunction(o[t])&&(r=o[t](i))}),"undefined"!=typeof r?r:this},e.fn.cropper.Constructor=n,e.fn.cropper.setDefaults=n.setDefaults,e(function(){e("img[cropper]").cropper()})}),function(e,t){var n,i={},r=function(e,t){var n,i,r;if("string"==typeof e)return s(e);for(n=[],i=e.length,r=0;r<i;r++)n.push(s(e[r]));return t.apply(null,n)},a=function(e,t,n){2===arguments.length&&(n=t,t=null),r(t||[],function(){o(e,n,arguments)})},o=function(e,t,n){var a,o={exports:t};"function"==typeof t&&(n.length||(n=[r,o.exports,o]),a=t.apply(null,n),void 0!==a&&(o.exports=a)),i[e]=o.exports},s=function(t){var n=i[t]||e[t];if(!n)throw new Error("`"+t+"` is undefined");return n},l=function(e){var t,n,r,a,o,s;s=function(e){return e&&e.charAt(0).toUpperCase()+e.substr(1)};for(t in i)if(n=e,i.hasOwnProperty(t)){for(r=t.split("/"),o=s(r.pop());a=s(r.shift());)n[a]=n[a]||{},n=n[a];n[o]=i[t]}return e},u=function(n){return e.__dollar=n,l(t(e,a,r))};"object"==typeof module&&"object"==typeof module.exports?module.exports=u():"function"==typeof define&&define.amd?define(["jquery"],u):(n=e.WebUploader,e.WebUploader=u(),e.WebUploader.noConflict=function(){e.WebUploader=n})}(window,function(e,t,n){return t("dollar-third",[],function(){var t=e.__dollar||e.jQuery||e.Zepto;if(!t)throw new Error("jQuery or Zepto not found!");return t}),t("dollar",["dollar-third"],function(e){return e}),t("promise-third",["dollar"],function(e){return{Deferred:e.Deferred,when:e.when,isPromise:function(e){return e&&"function"==typeof e.then}}}),t("promise",["promise-third"],function(e){return e}),t("base",["dollar","promise"],function(t,n){function i(e){return function(){return s.apply(e,arguments)}}function r(e,t){return function(){return e.apply(t,arguments)}}function a(e){var t;return Object.create?Object.create(e):(t=function(){},t.prototype=e,new t)}var o=function(){},s=Function.call;return{version:"0.1.5",$:t,Deferred:n.Deferred,isPromise:n.isPromise,when:n.when,browser:function(e){var t={},n=e.match(/WebKit\/([\d.]+)/),i=e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/),r=e.match(/MSIE\s([\d\.]+)/)||e.match(/(?:trident)(?:.*rv:([\w.]+))?/i),a=e.match(/Firefox\/([\d.]+)/),o=e.match(/Safari\/([\d.]+)/),s=e.match(/OPR\/([\d.]+)/);return n&&(t.webkit=parseFloat(n[1])),i&&(t.chrome=parseFloat(i[1])),r&&(t.ie=parseFloat(r[1])),a&&(t.firefox=parseFloat(a[1])),o&&(t.safari=parseFloat(o[1])),s&&(t.opera=parseFloat(s[1])),t}(navigator.userAgent),os:function(e){var t={},n=e.match(/(?:Android);?[\s\/]+([\d.]+)?/),i=e.match(/(?:iPad|iPod|iPhone).*OS\s([\d_]+)/);return n&&(t.android=parseFloat(n[1])),i&&(t.ios=parseFloat(i[1].replace(/_/g,"."))),t}(navigator.userAgent),inherits:function(e,n,i){var r;return"function"==typeof n?(r=n,n=null):r=n&&n.hasOwnProperty("constructor")?n.constructor:function(){return e.apply(this,arguments)},t.extend(!0,r,e,i||{}),r.__super__=e.prototype,r.prototype=a(e.prototype),n&&t.extend(!0,r.prototype,n),r},noop:o,bindFn:r,log:function(){return e.console?r(console.log,console):o}(),nextTick:function(){return function(e){setTimeout(e,1)}}(),slice:i([].slice),guid:function(){var e=0;return function(t){for(var n=(+new Date).toString(32),i=0;i<5;i++)n+=Math.floor(65535*Math.random()).toString(32);return(t||"wu_")+n+(e++).toString(32)}}(),formatSize:function(e,t,n){var i;for(n=n||["B","K","M","G","TB"];(i=n.shift())&&e>1024;)e/=1024;return("B"===i?e:e.toFixed(t||2))+i}}}),t("mediator",["base"],function(e){function t(e,t,n,i){return a.grep(e,function(e){return e&&(!t||e.e===t)&&(!n||e.cb===n||e.cb._cb===n)&&(!i||e.ctx===i)})}function n(e,t,n){a.each((e||"").split(s),function(e,i){n(i,t)})}function i(e,t){for(var n,i=!1,r=-1,a=e.length;++r<a;)if(n=e[r],n.cb.apply(n.ctx2,t)===!1){i=!0;break}return!i}var r,a=e.$,o=[].slice,s=/\s+/;return r={on:function(e,t,i){var r,a=this;return t?(r=this._events||(this._events=[]),n(e,t,function(e,t){var n={e:e};n.cb=t,n.ctx=i,n.ctx2=i||a,n.id=r.length,r.push(n)}),this):this},once:function(e,t,i){var r=this;return t?(n(e,t,function(e,t){var n=function(){return r.off(e,n),t.apply(i||r,arguments)};n._cb=t,r.on(e,n,i)}),r):r},off:function(e,i,r){var o=this._events;return o?e||i||r?(n(e,i,function(e,n){a.each(t(o,e,n,r),function(){delete o[this.id]})}),this):(this._events=[],this):this},trigger:function(e){var n,r,a;return this._events&&e?(n=o.call(arguments,1),r=t(this._events,e),a=t(this._events,"all"),i(r,n)&&i(a,arguments)):this}},a.extend({installTo:function(e){return a.extend(e,r)}},r)}),t("uploader",["base","mediator"],function(e,t){function n(e){this.options=i.extend(!0,{},n.options,e),this._init(this.options)}var i=e.$;return n.options={},t.installTo(n.prototype),i.each({upload:"start-upload",stop:"stop-upload",getFile:"get-file",getFiles:"get-files",addFile:"add-file",addFiles:"add-file",sort:"sort-files",removeFile:"remove-file",cancelFile:"cancel-file",skipFile:"skip-file",retry:"retry",isInProgress:"is-in-progress",makeThumb:"make-thumb",md5File:"md5-file",getDimension:"get-dimension",addButton:"add-btn",predictRuntimeType:"predict-runtime-type",refresh:"refresh",disable:"disable",enable:"enable",reset:"reset"},function(e,t){n.prototype[e]=function(){return this.request(t,arguments)}}),i.extend(n.prototype,{state:"pending",_init:function(e){var t=this;t.request("init",e,function(){t.state="ready",t.trigger("ready")})},option:function(e,t){var n=this.options;return arguments.length>1?void(i.isPlainObject(t)&&i.isPlainObject(n[e])?i.extend(n[e],t):n[e]=t):e?n[e]:n},getStats:function(){var e=this.request("get-stats");return e?{successNum:e.numOfSuccess,progressNum:e.numOfProgress,cancelNum:e.numOfCancel,invalidNum:e.numOfInvalid,uploadFailNum:e.numOfUploadFailed,queueNum:e.numOfQueue,interruptNum:e.numofInterrupt}:{}},trigger:function(e){var n=[].slice.call(arguments,1),r=this.options,a="on"+e.substring(0,1).toUpperCase()+e.substring(1);return!(t.trigger.apply(this,arguments)===!1||i.isFunction(r[a])&&r[a].apply(this,n)===!1||i.isFunction(this[a])&&this[a].apply(this,n)===!1||t.trigger.apply(t,[this,e].concat(n))===!1)},destroy:function(){this.request("destroy",arguments),this.off()},request:e.noop}),e.create=n.create=function(e){return new n(e)},e.Uploader=n,n}),t("runtime/runtime",["base","mediator"],function(e,t){function n(t){this.options=i.extend({container:document.body},t),this.uid=e.guid("rt_")}var i=e.$,r={},a=function(e){for(var t in e)if(e.hasOwnProperty(t))return t;return null};return i.extend(n.prototype,{getContainer:function(){var e,t,n=this.options;return this._container?this._container:(e=i(n.container||document.body),
t=i(document.createElement("div")),t.attr("id","rt_"+this.uid),t.css({position:"absolute",top:"0px",left:"0px",width:"1px",height:"1px",overflow:"hidden"}),e.append(t),e.addClass("webuploader-container"),this._container=t,this._parent=e,t)},init:e.noop,exec:e.noop,destroy:function(){this._container&&this._container.remove(),this._parent&&this._parent.removeClass("webuploader-container"),this.off()}}),n.orders="html5,flash",n.addRuntime=function(e,t){r[e]=t},n.hasRuntime=function(e){return!!(e?r[e]:a(r))},n.create=function(e,t){var o,s;if(t=t||n.orders,i.each(t.split(/\s*,\s*/g),function(){if(r[this])return o=this,!1}),o=o||a(r),!o)throw new Error("Runtime Error");return s=new r[o](e)},t.installTo(n.prototype),n}),t("runtime/client",["base","mediator","runtime/runtime"],function(e,t,n){function i(t,i){var a,o=e.Deferred();this.uid=e.guid("client_"),this.runtimeReady=function(e){return o.done(e)},this.connectRuntime=function(t,s){if(a)throw new Error("already connected!");return o.done(s),"string"==typeof t&&r.get(t)&&(a=r.get(t)),a=a||r.get(null,i),a?(e.$.extend(a.options,t),a.__promise.then(o.resolve),a.__client++):(a=n.create(t,t.runtimeOrder),a.__promise=o.promise(),a.once("ready",o.resolve),a.init(),r.add(a),a.__client=1),i&&(a.__standalone=i),a},this.getRuntime=function(){return a},this.disconnectRuntime=function(){a&&(a.__client--,a.__client<=0&&(r.remove(a),delete a.__promise,a.destroy()),a=null)},this.exec=function(){if(a){var n=e.slice(arguments);return t&&n.unshift(t),a.exec.apply(this,n)}},this.getRuid=function(){return a&&a.uid},this.destroy=function(e){return function(){e&&e.apply(this,arguments),this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()}}(this.destroy)}var r;return r=function(){var e={};return{add:function(t){e[t.uid]=t},get:function(t,n){var i;if(t)return e[t];for(i in e)if(!n||!e[i].__standalone)return e[i];return null},remove:function(t){delete e[t.uid]}}}(),t.installTo(i.prototype),i}),t("lib/dnd",["base","mediator","runtime/client"],function(e,t,n){function i(e){e=this.options=r.extend({},i.options,e),e.container=r(e.container),e.container.length&&n.call(this,"DragAndDrop")}var r=e.$;return i.options={accept:null,disableGlobalDnd:!1},e.inherits(n,{constructor:i,init:function(){var e=this;e.connectRuntime(e.options,function(){e.exec("init"),e.trigger("ready")})}}),t.installTo(i.prototype),i}),t("widgets/widget",["base","uploader"],function(e,t){function n(e){if(!e)return!1;var t=e.length,n=r.type(e);return!(1!==e.nodeType||!t)||("array"===n||"function"!==n&&"string"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e))}function i(e){this.owner=e,this.options=e.options}var r=e.$,a=t.prototype._init,o=t.prototype.destroy,s={},l=[];return r.extend(i.prototype,{init:e.noop,invoke:function(e,t){var n=this.responseMap;return n&&e in n&&n[e]in this&&r.isFunction(this[n[e]])?this[n[e]].apply(this,t):s},request:function(){return this.owner.request.apply(this.owner,arguments)}}),r.extend(t.prototype,{_init:function(){var e=this,t=e._widgets=[],n=e.options.disableWidgets||"";return r.each(l,function(i,r){(!n||!~n.indexOf(r._name))&&t.push(new r(e))}),a.apply(e,arguments)},request:function(t,i,r){var a,o,l,u,c=0,d=this._widgets,h=d&&d.length,f=[],p=[];for(i=n(i)?i:[i];c<h;c++)a=d[c],o=a.invoke(t,i),o!==s&&(e.isPromise(o)?p.push(o):f.push(o));return r||p.length?(l=e.when.apply(e,p),u=l.pipe?"pipe":"then",l[u](function(){var t=e.Deferred(),n=arguments;return 1===n.length&&(n=n[0]),setTimeout(function(){t.resolve(n)},1),t.promise()})[r?u:"done"](r||e.noop)):f[0]},destroy:function(){o.apply(this,arguments),this._widgets=null}}),t.register=i.register=function(t,n){var a,o={init:"init",destroy:"destroy",name:"anonymous"};return 1===arguments.length?(n=t,r.each(n,function(e){return"_"===e[0]||"name"===e?void("name"===e&&(o.name=n.name)):void(o[e.replace(/[A-Z]/g,"-$&").toLowerCase()]=e)})):o=r.extend(o,t),n.responseMap=o,a=e.inherits(i,n),a._name=o.name,l.push(a),a},t.unRegister=i.unRegister=function(e){if(e&&"anonymous"!==e)for(var t=l.length;t--;)l[t]._name===e&&l.splice(t,1)},i}),t("widgets/filednd",["base","uploader","lib/dnd","widgets/widget"],function(e,t,n){var i=e.$;return t.options.dnd="",t.register({name:"dnd",init:function(t){if(t.dnd&&"html5"===this.request("predict-runtime-type")){var r,a=this,o=e.Deferred(),s=i.extend({},{disableGlobalDnd:t.disableGlobalDnd,container:t.dnd,accept:t.accept});return this.dnd=r=new n(s),r.once("ready",o.resolve),r.on("drop",function(e){a.request("add-file",[e])}),r.on("accept",function(e){return a.owner.trigger("dndAccept",e)}),r.init(),o.promise()}},destroy:function(){this.dnd&&this.dnd.destroy()}})}),t("lib/filepaste",["base","mediator","runtime/client"],function(e,t,n){function i(e){e=this.options=r.extend({},e),e.container=r(e.container||document.body),n.call(this,"FilePaste")}var r=e.$;return e.inherits(n,{constructor:i,init:function(){var e=this;e.connectRuntime(e.options,function(){e.exec("init"),e.trigger("ready")})}}),t.installTo(i.prototype),i}),t("widgets/filepaste",["base","uploader","lib/filepaste","widgets/widget"],function(e,t,n){var i=e.$;return t.register({name:"paste",init:function(t){if(t.paste&&"html5"===this.request("predict-runtime-type")){var r,a=this,o=e.Deferred(),s=i.extend({},{container:t.paste,accept:t.accept});return this.paste=r=new n(s),r.once("ready",o.resolve),r.on("paste",function(e){a.owner.request("add-file",[e])}),r.init(),o.promise()}},destroy:function(){this.paste&&this.paste.destroy()}})}),t("lib/blob",["base","runtime/client"],function(e,t){function n(e,n){var i=this;i.source=n,i.ruid=e,this.size=n.size||0,!n.type&&this.ext&&~"jpg,jpeg,png,gif,bmp".indexOf(this.ext)?this.type="image/"+("jpg"===this.ext?"jpeg":this.ext):this.type=n.type||"application/octet-stream",t.call(i,"Blob"),this.uid=n.uid||this.uid,e&&i.connectRuntime(e)}return e.inherits(t,{constructor:n,slice:function(e,t){return this.exec("slice",e,t)},getSource:function(){return this.source}}),n}),t("lib/file",["base","lib/blob"],function(e,t){function n(e,n){var a;this.name=n.name||"untitled"+i++,a=r.exec(n.name)?RegExp.$1.toLowerCase():"",!a&&n.type&&(a=/\/(jpg|jpeg|png|gif|bmp)$/i.exec(n.type)?RegExp.$1.toLowerCase():"",this.name+="."+a),this.ext=a,this.lastModifiedDate=n.lastModifiedDate||(new Date).toLocaleString(),t.apply(this,arguments)}var i=1,r=/\.([^.]+)$/;return e.inherits(t,n)}),t("lib/filepicker",["base","runtime/client","lib/file"],function(t,n,i){function r(e){if(e=this.options=a.extend({},r.options,e),e.container=a(e.id),!e.container.length)throw new Error("按钮指定错误");e.innerHTML=e.innerHTML||e.label||e.container.html()||"",e.button=a(e.button||document.createElement("div")),e.button.html(e.innerHTML),e.container.html(e.button),n.call(this,"FilePicker",!0)}var a=t.$;return r.options={button:null,container:null,label:null,innerHTML:null,multiple:!0,accept:null,name:"file"},t.inherits(n,{constructor:r,init:function(){var n=this,r=n.options,o=r.button;o.addClass("webuploader-pick"),n.on("all",function(e){var t;switch(e){case"mouseenter":o.addClass("webuploader-pick-hover");break;case"mouseleave":o.removeClass("webuploader-pick-hover");break;case"change":t=n.exec("getFiles"),n.trigger("select",a.map(t,function(e){return e=new i(n.getRuid(),e),e._refer=r.container,e}),r.container)}}),n.connectRuntime(r,function(){n.refresh(),n.exec("init",r),n.trigger("ready")}),this._resizeHandler=t.bindFn(this.refresh,this),a(e).on("resize",this._resizeHandler)},refresh:function(){var e=this.getRuntime().getContainer(),t=this.options.button,n=t.outerWidth?t.outerWidth():t.width(),i=t.outerHeight?t.outerHeight():t.height(),r=t.offset();n&&i&&e.css({bottom:"auto",right:"auto",width:n+"px",height:i+"px"}).offset(r)},enable:function(){var e=this.options.button;e.removeClass("webuploader-pick-disable"),this.refresh()},disable:function(){var e=this.options.button;this.getRuntime().getContainer().css({top:"-99999px"}),e.addClass("webuploader-pick-disable")},destroy:function(){var t=this.options.button;a(e).off("resize",this._resizeHandler),t.removeClass("webuploader-pick-disable webuploader-pick-hover webuploader-pick")}}),r}),t("widgets/filepicker",["base","uploader","lib/filepicker","widgets/widget"],function(e,t,n){var i=e.$;return i.extend(t.options,{pick:null,accept:null}),t.register({name:"picker",init:function(e){return this.pickers=[],e.pick&&this.addBtn(e.pick)},refresh:function(){i.each(this.pickers,function(){this.refresh()})},addBtn:function(t){var r=this,a=r.options,o=a.accept,s=[];if(t)return i.isPlainObject(t)||(t={id:t}),i(t.id).each(function(){var l,u,c;c=e.Deferred(),l=i.extend({},t,{accept:i.isPlainObject(o)?[o]:o,swf:a.swf,runtimeOrder:a.runtimeOrder,id:this}),u=new n(l),u.once("ready",c.resolve),u.on("select",function(e){r.owner.request("add-file",[e])}),u.init(),r.pickers.push(u),s.push(c.promise())}),e.when.apply(e,s)},disable:function(){i.each(this.pickers,function(){this.disable()})},enable:function(){i.each(this.pickers,function(){this.enable()})},destroy:function(){i.each(this.pickers,function(){this.destroy()}),this.pickers=null}})}),t("lib/image",["base","runtime/client","lib/blob"],function(e,t,n){function i(e){this.options=r.extend({},i.options,e),t.call(this,"Image"),this.on("load",function(){this._info=this.exec("info"),this._meta=this.exec("meta")})}var r=e.$;return i.options={quality:90,crop:!1,preserveHeaders:!1,allowMagnify:!1},e.inherits(t,{constructor:i,info:function(e){return e?(this._info=e,this):this._info},meta:function(e){return e?(this._meta=e,this):this._meta},loadFromBlob:function(e){var t=this,n=e.getRuid();this.connectRuntime(n,function(){t.exec("init",t.options),t.exec("loadFromBlob",e)})},resize:function(){var t=e.slice(arguments);return this.exec.apply(this,["resize"].concat(t))},crop:function(){var t=e.slice(arguments);return this.exec.apply(this,["crop"].concat(t))},getAsDataUrl:function(e){return this.exec("getAsDataUrl",e)},getAsBlob:function(e){var t=this.exec("getAsBlob",e);return new n(this.getRuid(),t)}}),i}),t("widgets/image",["base","uploader","lib/image","widgets/widget"],function(e,t,n){var i,r=e.$;return i=function(e){var t=0,n=[],i=function(){for(var i;n.length&&t<e;)i=n.shift(),t+=i[0],i[1]()};return function(e,r,a){n.push([r,a]),e.once("destroy",function(){t-=r,setTimeout(i,1)}),setTimeout(i,1)}}(5242880),r.extend(t.options,{thumb:{width:110,height:110,quality:70,allowMagnify:!0,crop:!0,preserveHeaders:!1,type:"image/jpeg"},compress:{width:1600,height:1600,quality:90,allowMagnify:!1,crop:!1,preserveHeaders:!0}}),t.register({name:"image",makeThumb:function(e,t,a,o){var s,l;return e=this.request("get-file",e),e.type.match(/^image/)?(s=r.extend({},this.options.thumb),r.isPlainObject(a)&&(s=r.extend(s,a),a=null),a=a||s.width,o=o||s.height,l=new n(s),l.once("load",function(){e._info=e._info||l.info(),e._meta=e._meta||l.meta(),a<=1&&a>0&&(a=e._info.width*a),o<=1&&o>0&&(o=e._info.height*o),l.resize(a,o)}),l.once("complete",function(){t(!1,l.getAsDataUrl(s.type)),l.destroy()}),l.once("error",function(e){t(e||!0),l.destroy()}),void i(l,e.source.size,function(){e._info&&l.info(e._info),e._meta&&l.meta(e._meta),l.loadFromBlob(e.source)})):void t(!0)},beforeSendFile:function(t){var i,a,o=this.options.compress||this.options.resize,s=o&&o.compressSize||0,l=o&&o.noCompressIfLarger||!1;if(t=this.request("get-file",t),o&&~"image/jpeg,image/jpg".indexOf(t.type)&&!(t.size<s)&&!t._compressed)return o=r.extend({},o),a=e.Deferred(),i=new n(o),a.always(function(){i.destroy(),i=null}),i.once("error",a.reject),i.once("load",function(){var e=o.width,n=o.height;t._info=t._info||i.info(),t._meta=t._meta||i.meta(),e<=1&&e>0&&(e=t._info.width*e),n<=1&&n>0&&(n=t._info.height*n),i.resize(e,n)}),i.once("complete",function(){var e,n;try{e=i.getAsBlob(o.type),n=t.size,(!l||e.size<n)&&(t.source=e,t.size=e.size,t.trigger("resize",e.size,n)),t._compressed=!0,a.resolve()}catch(r){a.resolve()}}),t._info&&i.info(t._info),t._meta&&i.meta(t._meta),i.loadFromBlob(t.source),a.promise()}})}),t("file",["base","mediator"],function(e,t){function n(){return a+o++}function i(e){this.name=e.name||"Untitled",this.size=e.size||0,this.type=e.type||"application/octet-stream",this.lastModifiedDate=e.lastModifiedDate||1*new Date,this.id=n(),this.ext=s.exec(this.name)?RegExp.$1:"",this.statusText="",l[this.id]=i.Status.INITED,this.source=e,this.loaded=0,this.on("error",function(e){this.setStatus(i.Status.ERROR,e)})}var r=e.$,a="WU_FILE_",o=0,s=/\.([^.]+)$/,l={};return r.extend(i.prototype,{setStatus:function(e,t){var n=l[this.id];"undefined"!=typeof t&&(this.statusText=t),e!==n&&(l[this.id]=e,this.trigger("statuschange",e,n))},getStatus:function(){return l[this.id]},getSource:function(){return this.source},destroy:function(){this.off(),delete l[this.id]}}),t.installTo(i.prototype),i.Status={INITED:"inited",QUEUED:"queued",PROGRESS:"progress",ERROR:"error",COMPLETE:"complete",CANCELLED:"cancelled",INTERRUPT:"interrupt",INVALID:"invalid"},i}),t("queue",["base","mediator","file"],function(e,t,n){function i(){this.stats={numOfQueue:0,numOfSuccess:0,numOfCancel:0,numOfProgress:0,numOfUploadFailed:0,numOfInvalid:0,numofDeleted:0,numofInterrupt:0},this._queue=[],this._map={}}var r=e.$,a=n.Status;return r.extend(i.prototype,{append:function(e){return this._queue.push(e),this._fileAdded(e),this},prepend:function(e){return this._queue.unshift(e),this._fileAdded(e),this},getFile:function(e){return"string"!=typeof e?e:this._map[e]},fetch:function(e){var t,n,i=this._queue.length;for(e=e||a.QUEUED,t=0;t<i;t++)if(n=this._queue[t],e===n.getStatus())return n;return null},sort:function(e){"function"==typeof e&&this._queue.sort(e)},getFiles:function(){for(var e,t=[].slice.call(arguments,0),n=[],i=0,a=this._queue.length;i<a;i++)e=this._queue[i],t.length&&!~r.inArray(e.getStatus(),t)||n.push(e);return n},removeFile:function(e){var t=this._map[e.id];t&&(delete this._map[e.id],e.destroy(),this.stats.numofDeleted++)},_fileAdded:function(e){var t=this,n=this._map[e.id];n||(this._map[e.id]=e,e.on("statuschange",function(e,n){t._onFileStatusChange(e,n)}))},_onFileStatusChange:function(e,t){var n=this.stats;switch(t){case a.PROGRESS:n.numOfProgress--;break;case a.QUEUED:n.numOfQueue--;break;case a.ERROR:n.numOfUploadFailed--;break;case a.INVALID:n.numOfInvalid--;break;case a.INTERRUPT:n.numofInterrupt--}switch(e){case a.QUEUED:n.numOfQueue++;break;case a.PROGRESS:n.numOfProgress++;break;case a.ERROR:n.numOfUploadFailed++;break;case a.COMPLETE:n.numOfSuccess++;break;case a.CANCELLED:n.numOfCancel++;break;case a.INVALID:n.numOfInvalid++;break;case a.INTERRUPT:n.numofInterrupt++}}}),t.installTo(i.prototype),i}),t("widgets/queue",["base","uploader","queue","file","lib/file","runtime/client","widgets/widget"],function(e,t,n,i,r,a){var o=e.$,s=/\.\w+$/,l=i.Status;return t.register({name:"queue",init:function(t){var i,r,s,l,u,c,d,h=this;if(o.isPlainObject(t.accept)&&(t.accept=[t.accept]),t.accept){for(u=[],s=0,r=t.accept.length;s<r;s++)l=t.accept[s].extensions,l&&u.push(l);u.length&&(c="\\."+u.join(",").replace(/,/g,"$|\\.").replace(/\*/g,".*")+"$"),h.accept=new RegExp(c,"i")}if(h.queue=new n,h.stats=h.queue.stats,"html5"===this.request("predict-runtime-type"))return i=e.Deferred(),this.placeholder=d=new a("Placeholder"),d.connectRuntime({runtimeOrder:"html5"},function(){h._ruid=d.getRuid(),i.resolve()}),i.promise()},_wrapFile:function(e){if(!(e instanceof i)){if(!(e instanceof r)){if(!this._ruid)throw new Error("Can't add external files.");e=new r(this._ruid,e)}e=new i(e)}return e},acceptFile:function(e){var t=!e||!e.size||this.accept&&s.exec(e.name)&&!this.accept.test(e.name);return!t},_addFile:function(e){var t=this;if(e=t._wrapFile(e),t.owner.trigger("beforeFileQueued",e))return t.acceptFile(e)?(t.queue.append(e),t.owner.trigger("fileQueued",e),e):void t.owner.trigger("error","Q_TYPE_DENIED",e)},getFile:function(e){return this.queue.getFile(e)},addFile:function(e){var t=this;e.length||(e=[e]),e=o.map(e,function(e){return t._addFile(e)}),t.owner.trigger("filesQueued",e),t.options.auto&&setTimeout(function(){t.request("start-upload")},20)},getStats:function(){return this.stats},removeFile:function(e,t){var n=this;e=e.id?e:n.queue.getFile(e),this.request("cancel-file",e),t&&this.queue.removeFile(e)},getFiles:function(){return this.queue.getFiles.apply(this.queue,arguments)},fetchFile:function(){return this.queue.fetch.apply(this.queue,arguments)},retry:function(e,t){var n,i,r,a=this;if(e)return e=e.id?e:a.queue.getFile(e),e.setStatus(l.QUEUED),void(t||a.request("start-upload"));for(n=a.queue.getFiles(l.ERROR),i=0,r=n.length;i<r;i++)e=n[i],e.setStatus(l.QUEUED);a.request("start-upload")},sortFiles:function(){return this.queue.sort.apply(this.queue,arguments)},reset:function(){this.owner.trigger("reset"),this.queue=new n,this.stats=this.queue.stats},destroy:function(){this.reset(),this.placeholder&&this.placeholder.destroy()}})}),t("widgets/runtime",["uploader","runtime/runtime","widgets/widget"],function(e,t){return e.support=function(){return t.hasRuntime.apply(t,arguments)},e.register({name:"runtime",init:function(){if(!this.predictRuntimeType())throw Error("Runtime Error")},predictRuntimeType:function(){var e,n,i=this.options.runtimeOrder||t.orders,r=this.type;if(!r)for(i=i.split(/\s*,\s*/g),e=0,n=i.length;e<n;e++)if(t.hasRuntime(i[e])){this.type=r=i[e];break}return r}})}),t("lib/transport",["base","runtime/client","mediator"],function(e,t,n){function i(e){var n=this;e=n.options=r.extend(!0,{},i.options,e||{}),t.call(this,"Transport"),this._blob=null,this._formData=e.formData||{},this._headers=e.headers||{},this.on("progress",this._timeout),this.on("load error",function(){n.trigger("progress",1),clearTimeout(n._timer)})}var r=e.$;return i.options={server:"",method:"POST",withCredentials:!1,fileVal:"file",timeout:12e4,formData:{},headers:{},sendAsBinary:!1},r.extend(i.prototype,{appendBlob:function(e,t,n){var i=this,r=i.options;i.getRuid()&&i.disconnectRuntime(),i.connectRuntime(t.ruid,function(){i.exec("init")}),i._blob=t,r.fileVal=e||r.fileVal,r.filename=n||r.filename},append:function(e,t){"object"==typeof e?r.extend(this._formData,e):this._formData[e]=t},setRequestHeader:function(e,t){"object"==typeof e?r.extend(this._headers,e):this._headers[e]=t},send:function(e){this.exec("send",e),this._timeout()},abort:function(){return clearTimeout(this._timer),this.exec("abort")},destroy:function(){this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()},getResponse:function(){return this.exec("getResponse")},getResponseAsJson:function(){return this.exec("getResponseAsJson")},getStatus:function(){return this.exec("getStatus")},_timeout:function(){var e=this,t=e.options.timeout;t&&(clearTimeout(e._timer),e._timer=setTimeout(function(){e.abort(),e.trigger("error","timeout")},t))}}),n.installTo(i.prototype),i}),t("widgets/upload",["base","uploader","file","lib/transport","widgets/widget"],function(e,t,n,i){function r(e,t){var n,i,r=[],a=e.source,o=a.size,s=t?Math.ceil(o/t):1,l=0,u=0;for(i={file:e,has:function(){return!!r.length},shift:function(){return r.shift()},unshift:function(e){r.unshift(e)}};u<s;)n=Math.min(t,o-l),r.push({file:e,start:l,end:t?l+n:o,total:o,chunks:s,chunk:u++,cuted:i}),l+=n;return e.blocks=r.concat(),e.remaning=r.length,i}var a=e.$,o=e.isPromise,s=n.Status;a.extend(t.options,{prepareNextFile:!1,chunked:!1,chunkSize:5242880,chunkRetry:2,threads:3,formData:{}}),t.register({name:"upload",init:function(){var t=this.owner,n=this;this.runing=!1,this.progress=!1,t.on("startUpload",function(){n.progress=!0}).on("uploadFinished",function(){n.progress=!1}),this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this.__tick=e.bindFn(this._tick,this),t.on("uploadComplete",function(e){e.blocks&&a.each(e.blocks,function(e,t){t.transport&&(t.transport.abort(),t.transport.destroy()),delete t.transport}),delete e.blocks,delete e.remaning})},reset:function(){this.request("stop-upload",!0),this.runing=!1,this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this._trigged=!1,this._promise=null},startUpload:function(t){var n=this;if(a.each(n.request("get-files",s.INVALID),function(){n.request("remove-file",this)}),t)if(t=t.id?t:n.request("get-file",t),t.getStatus()===s.INTERRUPT)a.each(n.pool,function(e,n){n.file===t&&n.transport&&n.transport.send()}),t.setStatus(s.QUEUED);else{if(t.getStatus()===s.PROGRESS)return;t.setStatus(s.QUEUED)}else a.each(n.request("get-files",[s.INITED]),function(){this.setStatus(s.QUEUED)});if(!n.runing){n.runing=!0;var i=[];a.each(n.pool,function(e,t){var r=t.file;r.getStatus()===s.INTERRUPT&&(i.push(r),n._trigged=!1,t.transport&&t.transport.send())});for(var t;t=i.shift();)t.setStatus(s.PROGRESS);t||a.each(n.request("get-files",s.INTERRUPT),function(){this.setStatus(s.PROGRESS)}),n._trigged=!1,e.nextTick(n.__tick),n.owner.trigger("startUpload")}},stopUpload:function(t,n){var i=this;if(t===!0&&(n=t,t=null),i.runing!==!1){if(t){if(t=t.id?t:i.request("get-file",t),t.getStatus()!==s.PROGRESS&&t.getStatus()!==s.QUEUED)return;return t.setStatus(s.INTERRUPT),a.each(i.pool,function(e,n){n.file===t&&(n.transport&&n.transport.abort(),i._putback(n),i._popBlock(n))}),e.nextTick(i.__tick)}i.runing=!1,this._promise&&this._promise.file&&this._promise.file.setStatus(s.INTERRUPT),n&&a.each(i.pool,function(e,t){t.transport&&t.transport.abort(),t.file.setStatus(s.INTERRUPT)}),i.owner.trigger("stopUpload")}},cancelFile:function(e){e=e.id?e:this.request("get-file",e),e.blocks&&a.each(e.blocks,function(e,t){var n=t.transport;n&&(n.abort(),n.destroy(),delete t.transport)}),e.setStatus(s.CANCELLED),this.owner.trigger("fileDequeued",e)},isInProgress:function(){return!!this.progress},_getStats:function(){return this.request("get-stats")},skipFile:function(e,t){e=e.id?e:this.request("get-file",e),e.setStatus(t||s.COMPLETE),e.skipped=!0,e.blocks&&a.each(e.blocks,function(e,t){var n=t.transport;n&&(n.abort(),n.destroy(),delete t.transport)}),this.owner.trigger("uploadSkip",e)},_tick:function(){var t,n,i=this,r=i.options;return i._promise?i._promise.always(i.__tick):void(i.pool.length<r.threads&&(n=i._nextBlock())?(i._trigged=!1,t=function(t){i._promise=null,t&&t.file&&i._startSend(t),e.nextTick(i.__tick)},i._promise=o(n)?n.always(t):t(n)):i.remaning||i._getStats().numOfQueue||i._getStats().numofInterrupt||(i.runing=!1,i._trigged||e.nextTick(function(){i.owner.trigger("uploadFinished")}),i._trigged=!0))},_putback:function(e){var t;e.cuted.unshift(e),t=this.stack.indexOf(e.cuted),~t||this.stack.unshift(e.cuted)},_getStack:function(){for(var e,t=0;e=this.stack[t++];){if(e.has()&&e.file.getStatus()===s.PROGRESS)return e;(!e.has()||e.file.getStatus()!==s.PROGRESS&&e.file.getStatus()!==s.INTERRUPT)&&this.stack.splice(--t,1)}return null},_nextBlock:function(){var e,t,n,i,a=this,s=a.options;return(e=this._getStack())?(s.prepareNextFile&&!a.pending.length&&a._prepareNextFile(),e.shift()):a.runing?(!a.pending.length&&a._getStats().numOfQueue&&a._prepareNextFile(),t=a.pending.shift(),n=function(t){return t?(e=r(t,s.chunked?s.chunkSize:0),a.stack.push(e),e.shift()):null},o(t)?(i=t.file,t=t[t.pipe?"pipe":"then"](n),t.file=i,t):n(t)):void 0},_prepareNextFile:function(){var e,t=this,n=t.request("fetch-file"),i=t.pending;n&&(e=t.request("before-send-file",n,function(){return n.getStatus()===s.PROGRESS||n.getStatus()===s.INTERRUPT?n:t._finishFile(n)}),t.owner.trigger("uploadStart",n),n.setStatus(s.PROGRESS),e.file=n,e.done(function(){var t=a.inArray(e,i);~t&&i.splice(t,1,n)}),e.fail(function(e){n.setStatus(s.ERROR,e),t.owner.trigger("uploadError",n,e),t.owner.trigger("uploadComplete",n)}),i.push(e))},_popBlock:function(e){var t=a.inArray(e,this.pool);this.pool.splice(t,1),e.file.remaning--,this.remaning--},_startSend:function(t){var n,i=this,r=t.file;return r.getStatus()!==s.PROGRESS?void(r.getStatus()===s.INTERRUPT&&i._putback(t)):(i.pool.push(t),i.remaning++,t.blob=1===t.chunks?r.source:r.source.slice(t.start,t.end),n=i.request("before-send",t,function(){r.getStatus()===s.PROGRESS?i._doSend(t):(i._popBlock(t),e.nextTick(i.__tick))}),void n.fail(function(){1===r.remaning?i._finishFile(r).always(function(){t.percentage=1,i._popBlock(t),i.owner.trigger("uploadComplete",r),e.nextTick(i.__tick)}):(t.percentage=1,i.updateFileProgress(r),i._popBlock(t),e.nextTick(i.__tick))}))},_doSend:function(t){var n,r,o=this,l=o.owner,u=o.options,c=t.file,d=new i(u),h=a.extend({},u.formData),f=a.extend({},u.headers);t.transport=d,d.on("destroy",function(){delete t.transport,o._popBlock(t),e.nextTick(o.__tick)}),d.on("progress",function(e){t.percentage=e,o.updateFileProgress(c)}),n=function(e){var n;return r=d.getResponseAsJson()||{},r._raw=d.getResponse(),n=function(t){e=t},l.trigger("uploadAccept",t,r,n)||(e=e||"server"),e},d.on("error",function(e,i){t.retried=t.retried||0,t.chunks>1&&~"http,abort".indexOf(e)&&t.retried<u.chunkRetry?(t.retried++,d.send()):(i||"server"!==e||(e=n(e)),c.setStatus(s.ERROR,e),l.trigger("uploadError",c,e),l.trigger("uploadComplete",c))}),d.on("load",function(){var e;return(e=n())?void d.trigger("error",e,!0):void(1===c.remaning?o._finishFile(c,r):d.destroy())}),h=a.extend(h,{id:c.id,name:c.name,type:c.type,lastModifiedDate:c.lastModifiedDate,size:c.size}),t.chunks>1&&a.extend(h,{chunks:t.chunks,chunk:t.chunk}),l.trigger("uploadBeforeSend",t,h,f),d.appendBlob(u.fileVal,t.blob,c.name),d.append(h),d.setRequestHeader(f),d.send()},_finishFile:function(e,t,n){var i=this.owner;return i.request("after-send-file",arguments,function(){e.setStatus(s.COMPLETE),i.trigger("uploadSuccess",e,t,n)}).fail(function(t){e.getStatus()===s.PROGRESS&&e.setStatus(s.ERROR,t),i.trigger("uploadError",e,t)}).always(function(){i.trigger("uploadComplete",e)})},updateFileProgress:function(e){var t=0,n=0;e.blocks&&(a.each(e.blocks,function(e,t){n+=(t.percentage||0)*(t.end-t.start)}),t=n/e.size,this.owner.trigger("uploadProgress",e,t||0))}})}),t("widgets/validator",["base","uploader","file","widgets/widget"],function(e,t,n){var i,r=e.$,a={};return i={addValidator:function(e,t){a[e]=t},removeValidator:function(e){delete a[e]}},t.register({name:"validator",init:function(){var t=this;e.nextTick(function(){r.each(a,function(){this.call(t.owner)})})}}),i.addValidator("fileNumLimit",function(){var e=this,t=e.options,n=0,i=parseInt(t.fileNumLimit,10),r=!0;i&&(e.on("beforeFileQueued",function(e){return n>=i&&r&&(r=!1,this.trigger("error","Q_EXCEED_NUM_LIMIT",i,e),setTimeout(function(){r=!0},1)),!(n>=i)}),e.on("fileQueued",function(){n++}),e.on("fileDequeued",function(){n--}),e.on("reset",function(){n=0}))}),i.addValidator("fileSizeLimit",function(){var e=this,t=e.options,n=0,i=parseInt(t.fileSizeLimit,10),r=!0;i&&(e.on("beforeFileQueued",function(e){var t=n+e.size>i;return t&&r&&(r=!1,this.trigger("error","Q_EXCEED_SIZE_LIMIT",i,e),setTimeout(function(){r=!0},1)),!t}),e.on("fileQueued",function(e){n+=e.size}),e.on("fileDequeued",function(e){n-=e.size}),e.on("reset",function(){n=0}))}),i.addValidator("fileSingleSizeLimit",function(){var e=this,t=e.options,i=t.fileSingleSizeLimit;i&&e.on("beforeFileQueued",function(e){if(e.size>i)return e.setStatus(n.Status.INVALID,"exceed_size"),this.trigger("error","F_EXCEED_SIZE",i,e),!1})}),i.addValidator("duplicate",function(){function e(e){for(var t,n=0,i=0,r=e.length;i<r;i++)t=e.charCodeAt(i),n=t+(n<<6)+(n<<16)-n;return n}var t=this,n=t.options,i={};n.duplicate||(t.on("beforeFileQueued",function(t){var n=t.__hash||(t.__hash=e(t.name+t.size+t.lastModifiedDate));if(i[n])return this.trigger("error","F_DUPLICATE",t),!1}),t.on("fileQueued",function(e){var t=e.__hash;t&&(i[t]=!0)}),t.on("fileDequeued",function(e){var t=e.__hash;t&&delete i[t]}),t.on("reset",function(){i={}}))}),i}),t("lib/md5",["runtime/client","mediator"],function(e,t){function n(){e.call(this,"Md5")}return t.installTo(n.prototype),n.prototype.loadFromBlob=function(e){var t=this;t.getRuid()&&t.disconnectRuntime(),t.connectRuntime(e.ruid,function(){t.exec("init"),t.exec("loadFromBlob",e)})},n.prototype.getResult=function(){return this.exec("getResult")},n}),t("widgets/md5",["base","uploader","lib/md5","lib/blob","widgets/widget"],function(e,t,n,i){return t.register({name:"md5",md5File:function(t,r,a){var o=new n,s=e.Deferred(),l=t instanceof i?t:this.request("get-file",t).source;return o.on("progress load",function(e){e=e||{},s.notify(e.total?e.loaded/e.total:1)}),o.on("complete",function(){s.resolve(o.getResult())}),o.on("error",function(e){s.reject(e)}),arguments.length>1&&(r=r||0,a=a||0,r<0&&(r=l.size+r),a<0&&(a=l.size+a),a=Math.min(a,l.size),l=l.slice(r,a)),o.loadFromBlob(l),s.promise()}})}),t("runtime/compbase",[],function(){function e(e,t){this.owner=e,this.options=e.options,this.getRuntime=function(){return t},this.getRuid=function(){return t.uid},this.trigger=function(){return e.trigger.apply(e,arguments)}}return e}),t("runtime/html5/runtime",["base","runtime/runtime","runtime/compbase"],function(t,n,i){function r(){var e={},i=this,r=this.destroy;n.apply(i,arguments),i.type=a,i.exec=function(n,r){var a,s=this,l=s.uid,u=t.slice(arguments,2);if(o[n]&&(a=e[l]=e[l]||new o[n](s,i),a[r]))return a[r].apply(a,u)},i.destroy=function(){return r&&r.apply(this,arguments)}}var a="html5",o={};return t.inherits(n,{constructor:r,init:function(){var e=this;setTimeout(function(){e.trigger("ready")},1)}}),r.register=function(e,n){var r=o[e]=t.inherits(i,n);return r},e.Blob&&e.FileReader&&e.DataView&&n.addRuntime(a,r),r}),t("runtime/html5/blob",["runtime/html5/runtime","lib/blob"],function(e,t){return e.register("Blob",{slice:function(e,n){var i=this.owner.source,r=i.slice||i.webkitSlice||i.mozSlice;return i=r.call(i,e,n),new t(this.getRuid(),i)}})}),t("runtime/html5/dnd",["base","runtime/html5/runtime","lib/file"],function(e,t,n){var i=e.$,r="webuploader-dnd-";return t.register("DragAndDrop",{init:function(){var t=this.elem=this.options.container;this.dragEnterHandler=e.bindFn(this._dragEnterHandler,this),this.dragOverHandler=e.bindFn(this._dragOverHandler,this),this.dragLeaveHandler=e.bindFn(this._dragLeaveHandler,this),this.dropHandler=e.bindFn(this._dropHandler,this),this.dndOver=!1,t.on("dragenter",this.dragEnterHandler),t.on("dragover",this.dragOverHandler),t.on("dragleave",this.dragLeaveHandler),t.on("drop",this.dropHandler),this.options.disableGlobalDnd&&(i(document).on("dragover",this.dragOverHandler),i(document).on("drop",this.dropHandler))},_dragEnterHandler:function(e){var t,n=this,i=n._denied||!1;return e=e.originalEvent||e,n.dndOver||(n.dndOver=!0,t=e.dataTransfer.items,t&&t.length&&(n._denied=i=!n.trigger("accept",t)),n.elem.addClass(r+"over"),n.elem[i?"addClass":"removeClass"](r+"denied")),e.dataTransfer.dropEffect=i?"none":"copy",!1},_dragOverHandler:function(e){var t=this.elem.parent().get(0);return!(t&&!i.contains(t,e.currentTarget))&&(clearTimeout(this._leaveTimer),this._dragEnterHandler.call(this,e),!1)},_dragLeaveHandler:function(){var e,t=this;return e=function(){t.dndOver=!1,t.elem.removeClass(r+"over "+r+"denied")},clearTimeout(t._leaveTimer),t._leaveTimer=setTimeout(e,100),!1},_dropHandler:function(e){var t,a,o=this,s=o.getRuid(),l=o.elem.parent().get(0);if(l&&!i.contains(l,e.currentTarget))return!1;e=e.originalEvent||e,t=e.dataTransfer;try{a=t.getData("text/html")}catch(u){}return a?void 0:(o._getTansferFiles(t,function(e){o.trigger("drop",i.map(e,function(e){return new n(s,e)}))}),o.dndOver=!1,o.elem.removeClass(r+"over"),!1)},_getTansferFiles:function(t,n){var i,r,a,o,s,l,u,c=[],d=[];for(i=t.items,r=t.files,u=!(!i||!i[0].webkitGetAsEntry),s=0,l=r.length;s<l;s++)a=r[s],o=i&&i[s],u&&o.webkitGetAsEntry().isDirectory?d.push(this._traverseDirectoryTree(o.webkitGetAsEntry(),c)):c.push(a);e.when.apply(e,d).done(function(){c.length&&n(c)})},_traverseDirectoryTree:function(t,n){var i=e.Deferred(),r=this;return t.isFile?t.file(function(e){n.push(e),i.resolve()}):t.isDirectory&&t.createReader().readEntries(function(t){var a,o=t.length,s=[],l=[];for(a=0;a<o;a++)s.push(r._traverseDirectoryTree(t[a],l));e.when.apply(e,s).then(function(){n.push.apply(n,l),i.resolve();
},i.reject)}),i.promise()},destroy:function(){var e=this.elem;e&&(e.off("dragenter",this.dragEnterHandler),e.off("dragover",this.dragOverHandler),e.off("dragleave",this.dragLeaveHandler),e.off("drop",this.dropHandler),this.options.disableGlobalDnd&&(i(document).off("dragover",this.dragOverHandler),i(document).off("drop",this.dropHandler)))}})}),t("runtime/html5/filepaste",["base","runtime/html5/runtime","lib/file"],function(e,t,n){return t.register("FilePaste",{init:function(){var t,n,i,r,a=this.options,o=this.elem=a.container,s=".*";if(a.accept){for(t=[],n=0,i=a.accept.length;n<i;n++)r=a.accept[n].mimeTypes,r&&t.push(r);t.length&&(s=t.join(","),s=s.replace(/,/g,"|").replace(/\*/g,".*"))}this.accept=s=new RegExp(s,"i"),this.hander=e.bindFn(this._pasteHander,this),o.on("paste",this.hander)},_pasteHander:function(e){var t,i,r,a,o,s=[],l=this.getRuid();for(e=e.originalEvent||e,t=e.clipboardData.items,a=0,o=t.length;a<o;a++)i=t[a],"file"===i.kind&&(r=i.getAsFile())&&s.push(new n(l,r));s.length&&(e.preventDefault(),e.stopPropagation(),this.trigger("paste",s))},destroy:function(){this.elem.off("paste",this.hander)}})}),t("runtime/html5/filepicker",["base","runtime/html5/runtime"],function(e,t){var n=e.$;return t.register("FilePicker",{init:function(){var e,t,i,r,a=this.getRuntime().getContainer(),o=this,s=o.owner,l=o.options,u=this.label=n(document.createElement("label")),c=this.input=n(document.createElement("input"));if(c.attr("type","file"),c.attr("name",l.name),c.addClass("webuploader-element-invisible"),u.on("click",function(){c.trigger("click")}),u.css({opacity:0,width:"100%",height:"100%",display:"block",cursor:"pointer",background:"#ffffff"}),l.multiple&&c.attr("multiple","multiple"),l.accept&&l.accept.length>0){for(e=[],t=0,i=l.accept.length;t<i;t++)e.push(l.accept[t].mimeTypes);c.attr("accept",e.join(","))}a.append(c),a.append(u),r=function(e){s.trigger(e.type)},c.on("change",function(e){var t,i=arguments.callee;o.files=e.target.files,t=this.cloneNode(!0),t.value=null,this.parentNode.replaceChild(t,this),c.off(),c=n(t).on("change",i).on("mouseenter mouseleave",r),s.trigger("change")}),u.on("mouseenter mouseleave",r)},getFiles:function(){return this.files},destroy:function(){this.input.off(),this.label.off()}})}),t("runtime/html5/util",["base"],function(t){var n=e.createObjectURL&&e||e.URL&&URL.revokeObjectURL&&URL||e.webkitURL,i=t.noop,r=i;return n&&(i=function(){return n.createObjectURL.apply(n,arguments)},r=function(){return n.revokeObjectURL.apply(n,arguments)}),{createObjectURL:i,revokeObjectURL:r,dataURL2Blob:function(e){var t,n,i,r,a,o;for(o=e.split(","),t=~o[0].indexOf("base64")?atob(o[1]):decodeURIComponent(o[1]),i=new ArrayBuffer(t.length),n=new Uint8Array(i),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return a=o[0].split(":")[1].split(";")[0],this.arrayBufferToBlob(i,a)},dataURL2ArrayBuffer:function(e){var t,n,i,r;for(r=e.split(","),t=~r[0].indexOf("base64")?atob(r[1]):decodeURIComponent(r[1]),n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n.buffer},arrayBufferToBlob:function(t,n){var i,r=e.BlobBuilder||e.WebKitBlobBuilder;return r?(i=new r,i.append(t),i.getBlob(n)):new Blob([t],n?{type:n}:{})},canvasToDataUrl:function(e,t,n){return e.toDataURL(t,n/100)},parseMeta:function(e,t){t(!1,{})},updateImageHead:function(e){return e}}}),t("runtime/html5/imagemeta",["runtime/html5/util"],function(e){var t;return t={parsers:{65505:[]},maxMetaDataSize:262144,parse:function(e,t){var n=this,i=new FileReader;i.onload=function(){t(!1,n._parse(this.result)),i=i.onload=i.onerror=null},i.onerror=function(e){t(e.message),i=i.onload=i.onerror=null},e=e.slice(0,n.maxMetaDataSize),i.readAsArrayBuffer(e.getSource())},_parse:function(e,n){if(!(e.byteLength<6)){var i,r,a,o,s=new DataView(e),l=2,u=s.byteLength-4,c=l,d={};if(65496===s.getUint16(0)){for(;l<u&&(i=s.getUint16(l),i>=65504&&i<=65519||65534===i)&&(r=s.getUint16(l+2)+2,!(l+r>s.byteLength));){if(a=t.parsers[i],!n&&a)for(o=0;o<a.length;o+=1)a[o].call(t,s,l,r,d);l+=r,c=l}c>6&&(e.slice?d.imageHead=e.slice(2,c):d.imageHead=new Uint8Array(e).subarray(2,c))}return d}},updateImageHead:function(e,t){var n,i,r,a=this._parse(e,!0);return r=2,a.imageHead&&(r=2+a.imageHead.byteLength),i=e.slice?e.slice(r):new Uint8Array(e).subarray(r),n=new Uint8Array(t.byteLength+2+i.byteLength),n[0]=255,n[1]=216,n.set(new Uint8Array(t),2),n.set(new Uint8Array(i),t.byteLength+2),n.buffer}},e.parseMeta=function(){return t.parse.apply(t,arguments)},e.updateImageHead=function(){return t.updateImageHead.apply(t,arguments)},t}),t("runtime/html5/imagemeta/exif",["base","runtime/html5/imagemeta"],function(e,t){var n={};return n.ExifMap=function(){return this},n.ExifMap.prototype.map={Orientation:274},n.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},n.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,n){return e.getUint16(t,n)},size:2},4:{getValue:function(e,t,n){return e.getUint32(t,n)},size:4},5:{getValue:function(e,t,n){return e.getUint32(t,n)/e.getUint32(t+4,n)},size:8},9:{getValue:function(e,t,n){return e.getInt32(t,n)},size:4},10:{getValue:function(e,t,n){return e.getInt32(t,n)/e.getInt32(t+4,n)},size:8}},n.exifTagTypes[7]=n.exifTagTypes[1],n.getExifValue=function(t,i,r,a,o,s){var l,u,c,d,h,f,p=n.exifTagTypes[a];if(!p)return void e.log("Invalid Exif data: Invalid tag type.");if(l=p.size*o,u=l>4?i+t.getUint32(r+8,s):r+8,u+l>t.byteLength)return void e.log("Invalid Exif data: Invalid data offset.");if(1===o)return p.getValue(t,u,s);for(c=[],d=0;d<o;d+=1)c[d]=p.getValue(t,u+d*p.size,s);if(p.ascii){for(h="",d=0;d<c.length&&(f=c[d],"\0"!==f);d+=1)h+=f;return h}return c},n.parseExifTag=function(e,t,i,r,a){var o=e.getUint16(i,r);a.exif[o]=n.getExifValue(e,t,i,e.getUint16(i+2,r),e.getUint32(i+4,r),r)},n.parseExifTags=function(t,n,i,r,a){var o,s,l;if(i+6>t.byteLength)return void e.log("Invalid Exif data: Invalid directory offset.");if(o=t.getUint16(i,r),s=i+2+12*o,s+4>t.byteLength)return void e.log("Invalid Exif data: Invalid directory size.");for(l=0;l<o;l+=1)this.parseExifTag(t,n,i+2+12*l,r,a);return t.getUint32(s,r)},n.parseExifData=function(t,i,r,a){var o,s,l=i+10;if(1165519206===t.getUint32(i+4)){if(l+8>t.byteLength)return void e.log("Invalid Exif data: Invalid segment size.");if(0!==t.getUint16(i+8))return void e.log("Invalid Exif data: Missing byte alignment offset.");switch(t.getUint16(l)){case 18761:o=!0;break;case 19789:o=!1;break;default:return void e.log("Invalid Exif data: Invalid byte alignment marker.")}if(42!==t.getUint16(l+2,o))return void e.log("Invalid Exif data: Missing TIFF marker.");s=t.getUint32(l+4,o),a.exif=new n.ExifMap,s=n.parseExifTags(t,l,l+s,o,a)}},t.parsers[65505].push(n.parseExifData),n}),t("runtime/html5/jpegencoder",[],function(e,t,n){function i(e){function t(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var i=S((t[n]*e+50)/100);i<1?i=1:i>255&&(i=255),E[$[n]]=i}for(var r=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],a=0;a<64;a++){var o=S((r[a]*e+50)/100);o<1?o=1:o>255&&(o=255),T[$[a]]=o}for(var s=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],l=0,u=0;u<8;u++)for(var c=0;c<8;c++)C[l]=1/(E[$[l]]*s[u]*s[c]*8),D[l]=1/(T[$[l]]*s[u]*s[c]*8),l++}function n(e,t){for(var n=0,i=0,r=new Array,a=1;a<=16;a++){for(var o=1;o<=e[a];o++)r[t[i]]=[],r[t[i]][0]=n,r[t[i]][1]=a,i++,n++;n*=2}return r}function i(){_=n(H,q),b=n(V,K),x=n(W,j),w=n(G,Y)}function r(){for(var e=1,t=2,n=1;n<=15;n++){for(var i=e;i<t;i++)A[32767+i]=n,M[32767+i]=[],M[32767+i][1]=n,M[32767+i][0]=i;for(var r=-(t-1);r<=-e;r++)A[32767+r]=n,M[32767+r]=[],M[32767+r][1]=n,M[32767+r][0]=t-1+r;e<<=1,t<<=1}}function a(){for(var e=0;e<256;e++)B[e]=19595*e,B[e+256>>0]=38470*e,B[e+512>>0]=7471*e+32768,B[e+768>>0]=-11059*e,B[e+1024>>0]=-21709*e,B[e+1280>>0]=32768*e+8421375,B[e+1536>>0]=-27439*e,B[e+1792>>0]=-5329*e}function o(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(P|=1<<L),n--,L--,L<0&&(255==P?(s(255),s(0)):s(P),L=7,P=0)}function s(e){O.push(U[e])}function l(e){s(e>>8&255),s(255&e)}function u(e,t){var n,i,r,a,o,s,l,u,c,d=0,h=8,f=64;for(c=0;c<h;++c){n=e[d],i=e[d+1],r=e[d+2],a=e[d+3],o=e[d+4],s=e[d+5],l=e[d+6],u=e[d+7];var p=n+u,g=n-u,m=i+l,v=i-l,y=r+s,_=r-s,b=a+o,x=a-o,w=p+b,k=p-b,S=m+y,E=m-y;e[d]=w+S,e[d+4]=w-S;var T=.707106781*(E+k);e[d+2]=k+T,e[d+6]=k-T,w=x+_,S=_+v,E=v+g;var C=.382683433*(w-E),D=.5411961*w+C,M=1.306562965*E+C,A=.707106781*S,I=g+A,O=g-A;e[d+5]=O+D,e[d+3]=O-D,e[d+1]=I+M,e[d+7]=I-M,d+=8}for(d=0,c=0;c<h;++c){n=e[d],i=e[d+8],r=e[d+16],a=e[d+24],o=e[d+32],s=e[d+40],l=e[d+48],u=e[d+56];var P=n+u,L=n-u,F=i+l,N=i-l,z=r+s,U=r-s,B=a+o,$=a-o,H=P+B,q=P-B,W=F+z,j=F-z;e[d]=H+W,e[d+32]=H-W;var V=.707106781*(j+q);e[d+16]=q+V,e[d+48]=q-V,H=$+U,W=U+N,j=N+L;var K=.382683433*(H-j),G=.5411961*H+K,Y=1.306562965*j+K,X=.707106781*W,Q=L+X,Z=L-X;e[d+40]=Z+G,e[d+24]=Z-G,e[d+8]=Q+Y,e[d+56]=Q-Y,d++}var J;for(c=0;c<f;++c)J=e[c]*t[c],R[c]=J>0?J+.5|0:J-.5|0;return R}function c(){l(65504),l(16),s(74),s(70),s(73),s(70),s(0),s(1),s(1),s(0),l(1),l(1),s(0),s(0)}function d(e,t){l(65472),l(17),s(8),l(t),l(e),s(3),s(1),s(17),s(0),s(2),s(17),s(1),s(3),s(17),s(1)}function h(){l(65499),l(132),s(0);for(var e=0;e<64;e++)s(E[e]);s(1);for(var t=0;t<64;t++)s(T[t])}function f(){l(65476),l(418),s(0);for(var e=0;e<16;e++)s(H[e+1]);for(var t=0;t<=11;t++)s(q[t]);s(16);for(var n=0;n<16;n++)s(W[n+1]);for(var i=0;i<=161;i++)s(j[i]);s(1);for(var r=0;r<16;r++)s(V[r+1]);for(var a=0;a<=11;a++)s(K[a]);s(17);for(var o=0;o<16;o++)s(G[o+1]);for(var u=0;u<=161;u++)s(Y[u])}function p(){l(65498),l(12),s(3),s(1),s(0),s(2),s(17),s(3),s(17),s(0),s(63),s(0)}function g(e,t,n,i,r){for(var a,s=r[0],l=r[240],c=16,d=63,h=64,f=u(e,t),p=0;p<h;++p)I[$[p]]=f[p];var g=I[0]-n;n=I[0],0==g?o(i[0]):(a=32767+g,o(i[A[a]]),o(M[a]));for(var m=63;m>0&&0==I[m];m--);if(0==m)return o(s),n;for(var v,y=1;y<=m;){for(var _=y;0==I[y]&&y<=m;++y);var b=y-_;if(b>=c){v=b>>4;for(var x=1;x<=v;++x)o(l);b=15&b}a=32767+I[y],o(r[(b<<4)+A[a]]),o(M[a]),y++}return m!=d&&o(s),n}function m(){for(var e=String.fromCharCode,t=0;t<256;t++)U[t]=e(t)}function v(e){if(e<=0&&(e=1),e>100&&(e=100),k!=e){var n=0;n=e<50?Math.floor(5e3/e):Math.floor(200-2*e),t(n),k=e}}function y(){e||(e=50),m(),i(),r(),a(),v(e)}var _,b,x,w,k,S=(Math.round,Math.floor),E=new Array(64),T=new Array(64),C=new Array(64),D=new Array(64),M=new Array(65535),A=new Array(65535),R=new Array(64),I=new Array(64),O=[],P=0,L=7,F=new Array(64),N=new Array(64),z=new Array(64),U=new Array(256),B=new Array(2048),$=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],H=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],j=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],V=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Y=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];this.encode=function(e,t){t&&v(t),O=new Array,P=0,L=7,l(65496),c(),h(),d(e.width,e.height),f(),p();var n=0,i=0,r=0;P=0,L=7,this.encode.displayName="_encode_";for(var a,s,u,m,y,k,S,E,T,M=e.data,A=e.width,R=e.height,I=4*A,U=0;U<R;){for(a=0;a<I;){for(y=I*U+a,k=y,S=-1,E=0,T=0;T<64;T++)E=T>>3,S=4*(7&T),k=y+E*I+S,U+E>=R&&(k-=I*(U+1+E-R)),a+S>=I&&(k-=a+S-I+4),s=M[k++],u=M[k++],m=M[k++],F[T]=(B[s]+B[u+256>>0]+B[m+512>>0]>>16)-128,N[T]=(B[s+768>>0]+B[u+1024>>0]+B[m+1280>>0]>>16)-128,z[T]=(B[s+1280>>0]+B[u+1536>>0]+B[m+1792>>0]>>16)-128;n=g(F,C,n,_,x),i=g(N,D,i,b,w),r=g(z,D,r,b,w),a+=32}U+=8}if(L>=0){var $=[];$[1]=L+1,$[0]=(1<<L+1)-1,o($)}l(65497);var H="data:image/jpeg;base64,"+btoa(O.join(""));return O=[],H},y()}return i.encode=function(e,t){var n=new i(t);return n.encode(e)},i}),t("runtime/html5/androidpatch",["runtime/html5/util","runtime/html5/jpegencoder","base"],function(e,t,n){var i,r=e.canvasToDataUrl;e.canvasToDataUrl=function(e,a,o){var s,l,u,c,d;return n.os.android?("image/jpeg"===a&&"undefined"==typeof i&&(c=r.apply(null,arguments),d=c.split(","),c=~d[0].indexOf("base64")?atob(d[1]):decodeURIComponent(d[1]),c=c.substring(0,2),i=255===c.charCodeAt(0)&&216===c.charCodeAt(1)),"image/jpeg"!==a||i?r.apply(null,arguments):(l=e.width,u=e.height,s=e.getContext("2d"),t.encode(s.getImageData(0,0,l,u),o))):r.apply(null,arguments)}}),t("runtime/html5/image",["base","runtime/html5/runtime","runtime/html5/util"],function(e,t,n){var i="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D";return t.register("Image",{modified:!1,init:function(){var e=this,t=new Image;t.onload=function(){e._info={type:e.type,width:this.width,height:this.height},e._metas||"image/jpeg"!==e.type?e.owner.trigger("load"):n.parseMeta(e._blob,function(t,n){e._metas=n,e.owner.trigger("load")})},t.onerror=function(){e.owner.trigger("error")},e._img=t},loadFromBlob:function(e){var t=this,i=t._img;t._blob=e,t.type=e.type,i.src=n.createObjectURL(e.getSource()),t.owner.once("load",function(){n.revokeObjectURL(i.src)})},resize:function(e,t){var n=this._canvas||(this._canvas=document.createElement("canvas"));this._resize(this._img,n,e,t),this._blob=null,this.modified=!0,this.owner.trigger("complete","resize")},crop:function(e,t,n,i,r){var a=this._canvas||(this._canvas=document.createElement("canvas")),o=this.options,s=this._img,l=s.naturalWidth,u=s.naturalHeight,c=this.getOrientation();r=r||1,a.width=n,a.height=i,o.preserveHeaders||this._rotate2Orientaion(a,c),this._renderImageToCanvas(a,s,-e,-t,l*r,u*r),this._blob=null,this.modified=!0,this.owner.trigger("complete","crop")},getAsBlob:function(e){var t,i=this._blob,r=this.options;if(e=e||this.type,this.modified||this.type!==e){if(t=this._canvas,"image/jpeg"===e){if(i=n.canvasToDataUrl(t,e,r.quality),r.preserveHeaders&&this._metas&&this._metas.imageHead)return i=n.dataURL2ArrayBuffer(i),i=n.updateImageHead(i,this._metas.imageHead),i=n.arrayBufferToBlob(i,e)}else i=n.canvasToDataUrl(t,e);i=n.dataURL2Blob(i)}return i},getAsDataUrl:function(e){var t=this.options;return e=e||this.type,"image/jpeg"===e?n.canvasToDataUrl(this._canvas,e,t.quality):this._canvas.toDataURL(e)},getOrientation:function(){return this._metas&&this._metas.exif&&this._metas.exif.get("Orientation")||1},info:function(e){return e?(this._info=e,this):this._info},meta:function(e){return e?(this._meta=e,this):this._meta},destroy:function(){var e=this._canvas;this._img.onload=null,e&&(e.getContext("2d").clearRect(0,0,e.width,e.height),e.width=e.height=0,this._canvas=null),this._img.src=i,this._img=this._blob=null},_resize:function(e,t,n,i){var r,a,o,s,l,u=this.options,c=e.width,d=e.height,h=this.getOrientation();~[5,6,7,8].indexOf(h)&&(n^=i,i^=n,n^=i),r=Math[u.crop?"max":"min"](n/c,i/d),u.allowMagnify||(r=Math.min(1,r)),a=c*r,o=d*r,u.crop?(t.width=n,t.height=i):(t.width=a,t.height=o),s=(t.width-a)/2,l=(t.height-o)/2,u.preserveHeaders||this._rotate2Orientaion(t,h),this._renderImageToCanvas(t,e,s,l,a,o)},_rotate2Orientaion:function(e,t){var n=e.width,i=e.height,r=e.getContext("2d");switch(t){case 5:case 6:case 7:case 8:e.width=i,e.height=n}switch(t){case 2:r.translate(n,0),r.scale(-1,1);break;case 3:r.translate(n,i),r.rotate(Math.PI);break;case 4:r.translate(0,i),r.scale(1,-1);break;case 5:r.rotate(.5*Math.PI),r.scale(1,-1);break;case 6:r.rotate(.5*Math.PI),r.translate(0,-i);break;case 7:r.rotate(.5*Math.PI),r.translate(n,-i),r.scale(-1,1);break;case 8:r.rotate(-.5*Math.PI),r.translate(-n,0)}},_renderImageToCanvas:function(){function t(e,t,n){var i,r,a,o=document.createElement("canvas"),s=o.getContext("2d"),l=0,u=n,c=n;for(o.width=1,o.height=n,s.drawImage(e,0,0),i=s.getImageData(0,0,1,n).data;c>l;)r=i[4*(c-1)+3],0===r?u=c:l=c,c=u+l>>1;return a=c/n,0===a?1:a}function n(e){var t,n,i=e.naturalWidth,r=e.naturalHeight;return i*r>1048576&&(t=document.createElement("canvas"),t.width=t.height=1,n=t.getContext("2d"),n.drawImage(e,-i+1,0),0===n.getImageData(0,0,1,1).data[3])}return e.os.ios?e.os.ios>=7?function(e,n,i,r,a,o){var s=n.naturalWidth,l=n.naturalHeight,u=t(n,s,l);return e.getContext("2d").drawImage(n,0,0,s*u,l*u,i,r,a,o)}:function(e,i,r,a,o,s){var l,u,c,d,h,f,p,g=i.naturalWidth,m=i.naturalHeight,v=e.getContext("2d"),y=n(i),_="image/jpeg"===this.type,b=1024,x=0,w=0;for(y&&(g/=2,m/=2),v.save(),l=document.createElement("canvas"),l.width=l.height=b,u=l.getContext("2d"),c=_?t(i,g,m):1,d=Math.ceil(b*o/g),h=Math.ceil(b*s/m/c);x<m;){for(f=0,p=0;f<g;)u.clearRect(0,0,b,b),u.drawImage(i,-f,-x),v.drawImage(l,0,0,b,b,r+p,a+w,d,h),f+=b,p+=d;x+=b,w+=h}v.restore(),l=u=null}:function(t){var n=e.slice(arguments,1),i=t.getContext("2d");i.drawImage.apply(i,n)}}()})}),t("runtime/html5/transport",["base","runtime/html5/runtime"],function(e,t){var n=e.noop,i=e.$;return t.register("Transport",{init:function(){this._status=0,this._response=null},send:function(){var t,n,r,a=this.owner,o=this.options,s=this._initAjax(),l=a._blob,u=o.server;o.sendAsBinary?(u+=(/\?/.test(u)?"&":"?")+i.param(a._formData),n=l.getSource()):(t=new FormData,i.each(a._formData,function(e,n){t.append(e,n)}),t.append(o.fileVal,l.getSource(),o.filename||a._formData.name||"")),o.withCredentials&&"withCredentials"in s?(s.open(o.method,u,!0),s.withCredentials=!0):s.open(o.method,u),this._setRequestHeader(s,o.headers),n?(s.overrideMimeType&&s.overrideMimeType("application/octet-stream"),e.os.android?(r=new FileReader,r.onload=function(){s.send(this.result),r=r.onload=null},r.readAsArrayBuffer(n)):s.send(n)):s.send(t)},getResponse:function(){return this._response},getResponseAsJson:function(){return this._parseJson(this._response)},getStatus:function(){return this._status},abort:function(){var e=this._xhr;e&&(e.upload.onprogress=n,e.onreadystatechange=n,e.abort(),this._xhr=e=null)},destroy:function(){this.abort()},_initAjax:function(){var e=this,t=new XMLHttpRequest,i=this.options;return!i.withCredentials||"withCredentials"in t||"undefined"==typeof XDomainRequest||(t=new XDomainRequest),t.upload.onprogress=function(t){var n=0;return t.lengthComputable&&(n=t.loaded/t.total),e.trigger("progress",n)},t.onreadystatechange=function(){if(4===t.readyState)return t.upload.onprogress=n,t.onreadystatechange=n,e._xhr=null,e._status=t.status,t.status>=200&&t.status<300?(e._response=t.responseText,e.trigger("load")):t.status>=500&&t.status<600?(e._response=t.responseText,e.trigger("error","server")):e.trigger("error",e._status?"http":"abort")},e._xhr=t,t},_setRequestHeader:function(e,t){i.each(t,function(t,n){e.setRequestHeader(t,n)})},_parseJson:function(e){var t;try{t=JSON.parse(e)}catch(n){t={}}return t}})}),t("runtime/html5/md5",["runtime/html5/runtime"],function(e){var t=function(e,t){return e+t&4294967295},n=function(e,n,i,r,a,o){return n=t(t(n,e),t(r,o)),t(n<<a|n>>>32-a,i)},i=function(e,t,i,r,a,o,s){return n(t&i|~t&r,e,t,a,o,s)},r=function(e,t,i,r,a,o,s){return n(t&r|i&~r,e,t,a,o,s)},a=function(e,t,i,r,a,o,s){return n(t^i^r,e,t,a,o,s)},o=function(e,t,i,r,a,o,s){return n(i^(t|~r),e,t,a,o,s)},s=function(e,n){var s=e[0],l=e[1],u=e[2],c=e[3];s=i(s,l,u,c,n[0],7,-680876936),c=i(c,s,l,u,n[1],12,-389564586),u=i(u,c,s,l,n[2],17,606105819),l=i(l,u,c,s,n[3],22,-1044525330),s=i(s,l,u,c,n[4],7,-176418897),c=i(c,s,l,u,n[5],12,1200080426),u=i(u,c,s,l,n[6],17,-1473231341),l=i(l,u,c,s,n[7],22,-45705983),s=i(s,l,u,c,n[8],7,1770035416),c=i(c,s,l,u,n[9],12,-1958414417),u=i(u,c,s,l,n[10],17,-42063),l=i(l,u,c,s,n[11],22,-1990404162),s=i(s,l,u,c,n[12],7,1804603682),c=i(c,s,l,u,n[13],12,-40341101),u=i(u,c,s,l,n[14],17,-1502002290),l=i(l,u,c,s,n[15],22,1236535329),s=r(s,l,u,c,n[1],5,-165796510),c=r(c,s,l,u,n[6],9,-1069501632),u=r(u,c,s,l,n[11],14,643717713),l=r(l,u,c,s,n[0],20,-373897302),s=r(s,l,u,c,n[5],5,-701558691),c=r(c,s,l,u,n[10],9,38016083),u=r(u,c,s,l,n[15],14,-660478335),l=r(l,u,c,s,n[4],20,-405537848),s=r(s,l,u,c,n[9],5,568446438),c=r(c,s,l,u,n[14],9,-1019803690),u=r(u,c,s,l,n[3],14,-187363961),l=r(l,u,c,s,n[8],20,1163531501),s=r(s,l,u,c,n[13],5,-1444681467),c=r(c,s,l,u,n[2],9,-51403784),u=r(u,c,s,l,n[7],14,1735328473),l=r(l,u,c,s,n[12],20,-1926607734),s=a(s,l,u,c,n[5],4,-378558),c=a(c,s,l,u,n[8],11,-2022574463),u=a(u,c,s,l,n[11],16,1839030562),l=a(l,u,c,s,n[14],23,-35309556),s=a(s,l,u,c,n[1],4,-1530992060),c=a(c,s,l,u,n[4],11,1272893353),u=a(u,c,s,l,n[7],16,-155497632),l=a(l,u,c,s,n[10],23,-1094730640),s=a(s,l,u,c,n[13],4,681279174),c=a(c,s,l,u,n[0],11,-358537222),u=a(u,c,s,l,n[3],16,-722521979),l=a(l,u,c,s,n[6],23,76029189),s=a(s,l,u,c,n[9],4,-640364487),c=a(c,s,l,u,n[12],11,-421815835),u=a(u,c,s,l,n[15],16,530742520),l=a(l,u,c,s,n[2],23,-995338651),s=o(s,l,u,c,n[0],6,-198630844),c=o(c,s,l,u,n[7],10,1126891415),u=o(u,c,s,l,n[14],15,-1416354905),l=o(l,u,c,s,n[5],21,-57434055),s=o(s,l,u,c,n[12],6,1700485571),c=o(c,s,l,u,n[3],10,-1894986606),u=o(u,c,s,l,n[10],15,-1051523),l=o(l,u,c,s,n[1],21,-2054922799),s=o(s,l,u,c,n[8],6,1873313359),c=o(c,s,l,u,n[15],10,-30611744),u=o(u,c,s,l,n[6],15,-1560198380),l=o(l,u,c,s,n[13],21,1309151649),s=o(s,l,u,c,n[4],6,-145523070),c=o(c,s,l,u,n[11],10,-1120210379),u=o(u,c,s,l,n[2],15,718787259),l=o(l,u,c,s,n[9],21,-343485551),e[0]=t(s,e[0]),e[1]=t(l,e[1]),e[2]=t(u,e[2]),e[3]=t(c,e[3])},l=function(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n},u=function(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n},c=function(e){var t,n,i,r,a,o,u=e.length,c=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=u;t+=64)s(c,l(e.substring(t-64,t)));for(e=e.substring(t-64),n=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(s(c,i),t=0;t<16;t+=1)i[t]=0;return r=8*u,r=r.toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(r[2],16),o=parseInt(r[1],16)||0,i[14]=a,i[15]=o,s(c,i),c},d=function(e){var t,n,i,r,a,o,l=e.length,c=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)s(c,u(e.subarray(t-64,t)));for(e=t-64<l?e.subarray(t-64):new Uint8Array(0),n=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)i[t>>2]|=e[t]<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(s(c,i),t=0;t<16;t+=1)i[t]=0;return r=8*l,r=r.toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(r[2],16),o=parseInt(r[1],16)||0,i[14]=a,i[15]=o,s(c,i),c},h=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],f=function(e){var t,n="";for(t=0;t<4;t+=1)n+=h[e>>8*t+4&15]+h[e>>8*t&15];return n},p=function(e){var t;for(t=0;t<e.length;t+=1)e[t]=f(e[t]);return e.join("")},g=function(e){return p(c(e))},m=function(){this.reset()};return"5d41402abc4b2a76b9719d911017c592"!==g("hello")&&(t=function(e,t){var n=(65535&e)+(65535&t),i=(e>>16)+(t>>16)+(n>>16);return i<<16|65535&n}),m.prototype.append=function(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),this.appendBinary(e),this},m.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,n=this._buff.length;for(t=64;t<=n;t+=64)s(this._state,l(this._buff.substring(t-64,t)));return this._buff=this._buff.substr(t-64),this},m.prototype.end=function(e){var t,n,i=this._buff,r=i.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)a[t>>2]|=i.charCodeAt(t)<<(t%4<<3);return this._finish(a,r),n=e?this._state:p(this._state),this.reset(),n},m.prototype._finish=function(e,t){var n,i,r,a=t;if(e[a>>2]|=128<<(a%4<<3),a>55)for(s(this._state,e),a=0;a<16;a+=1)e[a]=0;n=8*this._length,n=n.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(n[2],16),r=parseInt(n[1],16)||0,e[14]=i,e[15]=r,s(this._state,e)},m.prototype.reset=function(){return this._buff="",this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},m.prototype.destroy=function(){delete this._state,delete this._buff,delete this._length},m.hash=function(e,t){/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e)));var n=c(e);return t?n:p(n)},m.hashBinary=function(e,t){var n=c(e);return t?n:p(n)},m.ArrayBuffer=function(){this.reset()},m.ArrayBuffer.prototype.append=function(e){var t,n=this._concatArrayBuffer(this._buff,e),i=n.length;for(this._length+=e.byteLength,t=64;t<=i;t+=64)s(this._state,u(n.subarray(t-64,t)));return this._buff=t-64<i?n.subarray(t-64):new Uint8Array(0),this},m.ArrayBuffer.prototype.end=function(e){var t,n,i=this._buff,r=i.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)a[t>>2]|=i[t]<<(t%4<<3);return this._finish(a,r),n=e?this._state:p(this._state),this.reset(),n},m.ArrayBuffer.prototype._finish=m.prototype._finish,m.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},m.ArrayBuffer.prototype.destroy=m.prototype.destroy,m.ArrayBuffer.prototype._concatArrayBuffer=function(e,t){var n=e.length,i=new Uint8Array(n+t.byteLength);return i.set(e),i.set(new Uint8Array(t),n),i},m.ArrayBuffer.hash=function(e,t){var n=d(new Uint8Array(e));return t?n:p(n)},e.register("Md5",{init:function(){},loadFromBlob:function(e){var t,n,i=e.getSource(),r=2097152,a=Math.ceil(i.size/r),o=0,s=this.owner,l=new m.ArrayBuffer,u=this,c=i.mozSlice||i.webkitSlice||i.slice;n=new FileReader,(t=function(){var d,h;d=o*r,h=Math.min(d+r,i.size),n.onload=function(t){l.append(t.target.result),s.trigger("progress",{total:e.size,loaded:h})},n.onloadend=function(){n.onloadend=n.onload=null,++o<a?setTimeout(t,1):setTimeout(function(){s.trigger("load"),u.result=l.end(),t=e=i=l=null,s.trigger("complete")},50)},n.readAsArrayBuffer(c.call(i,d,h))})()},getResult:function(){return this.result}})}),t("runtime/flash/runtime",["base","runtime/runtime","runtime/compbase"],function(t,n,i){function r(){var e;try{e=navigator.plugins["Shockwave Flash"],e=e.description}catch(t){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(n){e="0.0"}}return e=e.match(/\d+/g),parseFloat(e[0]+"."+e[1],10)}function a(){function i(e,t){var n,i,r=e.type||e;n=r.split("::"),i=n[0],r=n[1],"Ready"===r&&i===u.uid?u.trigger("ready"):a[i]&&a[i].trigger(r.toLowerCase(),e,t)}var r={},a={},o=this.destroy,u=this,c=t.guid("webuploader_");n.apply(u,arguments),u.type=s,u.exec=function(e,n){var i,o=this,s=o.uid,c=t.slice(arguments,2);return a[s]=o,l[e]&&(r[s]||(r[s]=new l[e](o,u)),i=r[s],i[n])?i[n].apply(i,c):u.flashExec.apply(o,arguments)},e[c]=function(){var e=arguments;setTimeout(function(){i.apply(null,e)},1)},this.jsreciver=c,this.destroy=function(){return o&&o.apply(this,arguments)},this.flashExec=function(e,n){var i=u.getFlash(),r=t.slice(arguments,2);return i.exec(this.uid,e,n,r)}}var o=t.$,s="flash",l={};return t.inherits(n,{constructor:a,init:function(){var e,n=this.getContainer(),i=this.options;n.css({position:"absolute",top:"-8px",left:"-8px",width:"9px",height:"9px",overflow:"hidden"}),e='<object id="'+this.uid+'" type="application/x-shockwave-flash" data="'+i.swf+'" ',t.browser.ie&&(e+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '),e+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+i.swf+'" /><param name="flashvars" value="uid='+this.uid+"&jsreciver="+this.jsreciver+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>',n.html(e)},getFlash:function(){return this._flash?this._flash:(this._flash=o("#"+this.uid).get(0),this._flash)}}),a.register=function(e,n){return n=l[e]=t.inherits(i,o.extend({flashExec:function(){var e=this.owner,t=this.getRuntime();return t.flashExec.apply(e,arguments)}},n))},r()>=11.4&&n.addRuntime(s,a),a}),t("runtime/flash/filepicker",["base","runtime/flash/runtime"],function(e,t){var n=e.$;return t.register("FilePicker",{init:function(e){var t,i,r=n.extend({},e);for(t=r.accept&&r.accept.length,i=0;i<t;i++)r.accept[i].title||(r.accept[i].title="Files");delete r.button,delete r.id,delete r.container,this.flashExec("FilePicker","init",r)},destroy:function(){this.flashExec("FilePicker","destroy")}})}),t("runtime/flash/image",["runtime/flash/runtime"],function(e){return e.register("Image",{loadFromBlob:function(e){var t=this.owner;t.info()&&this.flashExec("Image","info",t.info()),t.meta()&&this.flashExec("Image","meta",t.meta()),this.flashExec("Image","loadFromBlob",e.uid)}})}),t("runtime/flash/transport",["base","runtime/flash/runtime","runtime/client"],function(t,n,i){var r=t.$;return n.register("Transport",{init:function(){this._status=0,this._response=null,this._responseJson=null},send:function(){var e,t=this.owner,n=this.options,i=this._initAjax(),a=t._blob,o=n.server;i.connectRuntime(a.ruid),n.sendAsBinary?(o+=(/\?/.test(o)?"&":"?")+r.param(t._formData),e=a.uid):(r.each(t._formData,function(e,t){i.exec("append",e,t)}),i.exec("appendBlob",n.fileVal,a.uid,n.filename||t._formData.name||"")),this._setRequestHeader(i,n.headers),i.exec("send",{method:n.method,url:o,forceURLStream:n.forceURLStream,mimeType:"application/octet-stream"},e)},getStatus:function(){return this._status},getResponse:function(){return this._response||""},getResponseAsJson:function(){return this._responseJson},abort:function(){var e=this._xhr;e&&(e.exec("abort"),e.destroy(),this._xhr=e=null)},destroy:function(){this.abort()},_initAjax:function(){var t=this,n=new i("XMLHttpRequest");return n.on("uploadprogress progress",function(e){var n=e.loaded/e.total;return n=Math.min(1,Math.max(0,n)),t.trigger("progress",n)}),n.on("load",function(){var i,r=n.exec("getStatus"),a=!1,o="";return n.off(),t._xhr=null,r>=200&&r<300?a=!0:r>=500&&r<600?(a=!0,o="server"):o="http",a&&(t._response=n.exec("getResponse"),t._response=decodeURIComponent(t._response),i=e.JSON&&e.JSON.parse||function(e){try{return new Function("return "+e).call()}catch(t){return{}}},t._responseJson=t._response?i(t._response):{}),n.destroy(),n=null,o?t.trigger("error",o):t.trigger("load")}),n.on("error",function(){n.off(),t._xhr=null,t.trigger("error","http")}),t._xhr=n,n},_setRequestHeader:function(e,t){r.each(t,function(t,n){e.exec("setRequestHeader",t,n)})}})}),t("runtime/flash/blob",["runtime/flash/runtime","lib/blob"],function(e,t){return e.register("Blob",{slice:function(e,n){var i=this.flashExec("Blob","slice",e,n);return new t(i.uid,i)}})}),t("runtime/flash/md5",["runtime/flash/runtime"],function(e){return e.register("Md5",{init:function(){},loadFromBlob:function(e){return this.flashExec("Md5","loadFromBlob",e.uid)}})}),t("preset/all",["base","widgets/filednd","widgets/filepaste","widgets/filepicker","widgets/image","widgets/queue","widgets/runtime","widgets/upload","widgets/validator","widgets/md5","runtime/html5/blob","runtime/html5/dnd","runtime/html5/filepaste","runtime/html5/filepicker","runtime/html5/imagemeta/exif","runtime/html5/androidpatch","runtime/html5/image","runtime/html5/transport","runtime/html5/md5","runtime/flash/filepicker","runtime/flash/image","runtime/flash/transport","runtime/flash/blob","runtime/flash/md5"],function(e){
return e}),t("widgets/log",["base","uploader","widgets/widget"],function(e,t){function n(e){var t=r.extend({},i,e),n=a.replace(/^(.*)\?/,"$1"+r.param(t)),o=new Image;o.src=n}var i,r=e.$,a=" http://static.tieba.baidu.com/tb/pms/img/st.gif??",o=(location.hostname||location.host||"protected").toLowerCase(),s=o&&/baidu/i.exec(o);if(s)return i={dv:3,master:"webuploader",online:/test/.exec(o)?0:1,module:"",product:o,type:0},t.register({name:"log",init:function(){var e=this.owner,t=0,i=0;e.on("error",function(e){n({type:2,c_error_code:e})}).on("uploadError",function(e,t){n({type:2,c_error_code:"UPLOAD_ERROR",c_reason:""+t})}).on("uploadComplete",function(e){t++,i+=e.size}).on("uploadFinished",function(){n({c_count:t,c_size:i}),t=i=0}),n({c_usage:1})}})}),t("webuploader",["preset/all","widgets/log"],function(e){return e}),n("webuploader")}),function(e,t){"use strict";function n(e,t){for(var n,i=[],a=0;a<e.length;++a){if(n=o[e[a]]||r(e[a]),!n)throw"module definition dependecy not found: "+e[a];i.push(n)}t.apply(null,i)}function i(e,i,r){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(i===t)throw"invalid module definition, dependencies must be specified";if(r===t)throw"invalid module definition, definition function must be specified";n(i,function(){o[e]=r.apply(null,arguments)})}function r(t){for(var n=e,i=t.split(/[.\/]/),r=0;r<i.length;++r){if(!n[i[r]])return;n=n[i[r]]}return n}function a(n){for(var i=0;i<n.length;i++){for(var r=e,a=n[i],s=a.split(/[.\/]/),l=0;l<s.length-1;++l)r[s[l]]===t&&(r[s[l]]={}),r=r[s[l]];r[s[s.length-1]]=o[a]}}var o={};i("moxie/core/utils/Basic",[],function(){var e=function(e){var t;return e===t?"undefined":null===e?"null":e.nodeType?"node":{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},t=function(i){var r;return n(arguments,function(a,s){s>0&&n(a,function(n,a){n!==r&&(e(i[a])===e(n)&&~o(e(n),["array","object"])?t(i[a],n):i[a]=n)})}),i},n=function(e,t){var n,i,r,a;if(e){try{n=e.length}catch(o){n=a}if(n===a){for(i in e)if(e.hasOwnProperty(i)&&t(e[i],i)===!1)return}else for(r=0;r<n;r++)if(t(e[r],r)===!1)return}},i=function(t){var n;if(!t||"object"!==e(t))return!0;for(n in t)return!1;return!0},r=function(t,n){function i(r){"function"===e(t[r])&&t[r](function(e){++r<a&&!e?i(r):n(e)})}var r=0,a=t.length;"function"!==e(n)&&(n=function(){}),t&&t.length||n(),i(r)},a=function(e,t){var i=0,r=e.length,a=new Array(r);n(e,function(e,n){e(function(e){if(e)return t(e);var o=[].slice.call(arguments);o.shift(),a[n]=o,i++,i===r&&(a.unshift(null),t.apply(this,a))})})},o=function(e,t){if(t){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e);for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n}return-1},s=function(t,n){var i=[];"array"!==e(t)&&(t=[t]),"array"!==e(n)&&(n=[n]);for(var r in t)o(t[r],n)===-1&&i.push(t[r]);return!!i.length&&i},l=function(e,t){var i=[];return n(e,function(e){o(e,t)!==-1&&i.push(e)}),i.length?i:null},u=function(e){var t,n=[];for(t=0;t<e.length;t++)n[t]=e[t];return n},c=function(){var e=0;return function(t){var n,i=(new Date).getTime().toString(32);for(n=0;n<5;n++)i+=Math.floor(65535*Math.random()).toString(32);return(t||"o_")+i+(e++).toString(32)}}(),d=function(e){return e?String.prototype.trim?String.prototype.trim.call(e):e.toString().replace(/^\s*/,"").replace(/\s*$/,""):e},h=function(e){if("string"!=typeof e)return e;var t,n={t:1099511627776,g:1073741824,m:1048576,k:1024};return e=/^([0-9]+)([mgk]?)$/.exec(e.toLowerCase().replace(/[^0-9mkg]/g,"")),t=e[2],e=+e[1],n.hasOwnProperty(t)&&(e*=n[t]),e};return{guid:c,typeOf:e,extend:t,each:n,isEmptyObj:i,inSeries:r,inParallel:a,inArray:o,arrayDiff:s,arrayIntersect:l,toArray:u,trim:d,parseSizeStr:h}}),i("moxie/core/I18n",["moxie/core/utils/Basic"],function(e){var t={};return{addI18n:function(n){return e.extend(t,n)},translate:function(e){return t[e]||e},_:function(e){return this.translate(e)},sprintf:function(t){var n=[].slice.call(arguments,1);return t.replace(/%[a-z]/g,function(){var t=n.shift();return"undefined"!==e.typeOf(t)?t:""})}}}),i("moxie/core/utils/Mime",["moxie/core/utils/Basic","moxie/core/I18n"],function(e,t){var n="application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mp3 mpga mpega mp2,audio/x-wav,wav,audio/x-m4a,m4a,audio/ogg,oga ogg,audio/aiff,aiff aif,audio/flac,flac,audio/aac,aac,audio/ac3,ac3,audio/x-ms-wma,wma,image/bmp,bmp,image/gif,gif,image/jpeg,jpg jpeg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mpg mpe m2v,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/3gpp,3gpp 3gp,video/3gpp2,3g2,video/vnd.rn-realvideo,rv,video/ogg,ogv,video/x-matroska,mkv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe",i={mimes:{},extensions:{},addMimeType:function(e){var t,n,i,r=e.split(/,/);for(t=0;t<r.length;t+=2){for(i=r[t+1].split(/ /),n=0;n<i.length;n++)this.mimes[i[n]]=r[t];this.extensions[r[t]]=i}},extList2mimes:function(t,n){var i,r,a,o,s=this,l=[];for(r=0;r<t.length;r++)for(i=t[r].extensions.split(/\s*,\s*/),a=0;a<i.length;a++){if("*"===i[a])return[];if(o=s.mimes[i[a]])e.inArray(o,l)===-1&&l.push(o);else{if(!n||!/^\w+$/.test(i[a]))return[];l.push("."+i[a])}}return l},mimes2exts:function(t){var n=this,i=[];return e.each(t,function(t){if("*"===t)return i=[],!1;var r=t.match(/^(\w+)\/(\*|\w+)$/);r&&("*"===r[2]?e.each(n.extensions,function(e,t){new RegExp("^"+r[1]+"/").test(t)&&[].push.apply(i,n.extensions[t])}):n.extensions[t]&&[].push.apply(i,n.extensions[t]))}),i},mimes2extList:function(n){var i=[],r=[];return"string"===e.typeOf(n)&&(n=e.trim(n).split(/\s*,\s*/)),r=this.mimes2exts(n),i.push({title:t.translate("Files"),extensions:r.length?r.join(","):"*"}),i.mimes=n,i},getFileExtension:function(e){var t=e&&e.match(/\.([^.]+)$/);return t?t[1].toLowerCase():""},getFileMime:function(e){return this.mimes[this.getFileExtension(e)]||""}};return i.addMimeType(n),i}),i("moxie/core/utils/Env",["moxie/core/utils/Basic"],function(e){function t(e,t,n){var i=0,r=0,a=0,o={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:1,pl:1},s=function(e){return e=(""+e).replace(/[_\-+]/g,"."),e=e.replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,"."),e.length?e.split("."):[-8]},l=function(e){return e?isNaN(e)?o[e]||-7:parseInt(e,10):0};for(e=s(e),t=s(t),r=Math.max(e.length,t.length),i=0;i<r;i++)if(e[i]!=t[i]){if(e[i]=l(e[i]),t[i]=l(t[i]),e[i]<t[i]){a=-1;break}if(e[i]>t[i]){a=1;break}}if(!n)return a;switch(n){case">":case"gt":return a>0;case">=":case"ge":return a>=0;case"<=":case"le":return a<=0;case"==":case"=":case"eq":return 0===a;case"<>":case"!=":case"ne":return 0!==a;case"":case"<":case"lt":return a<0;default:return null}}var n=function(e){var t="",n="?",i="function",r="undefined",a="object",o="major",s="name",l="version",u={has:function(e,t){return t.toLowerCase().indexOf(e.toLowerCase())!==-1},lowerize:function(e){return e.toLowerCase()}},c={rgx:function(){for(var t,n,o,s,l,u,c,d=0,h=arguments;d<h.length;d+=2){var f=h[d],p=h[d+1];if(typeof t===r){t={};for(s in p)l=p[s],typeof l===a?t[l[0]]=e:t[l]=e}for(n=o=0;n<f.length;n++)if(u=f[n].exec(this.getUA())){for(s=0;s<p.length;s++)c=u[++o],l=p[s],typeof l===a&&l.length>0?2==l.length?typeof l[1]==i?t[l[0]]=l[1].call(this,c):t[l[0]]=l[1]:3==l.length?typeof l[1]!==i||l[1].exec&&l[1].test?t[l[0]]=c?c.replace(l[1],l[2]):e:t[l[0]]=c?l[1].call(this,c,l[2]):e:4==l.length&&(t[l[0]]=c?l[3].call(this,c.replace(l[1],l[2])):e):t[l]=c?c:e;break}if(u)break}return t},str:function(t,i){for(var r in i)if(typeof i[r]===a&&i[r].length>0){for(var o=0;o<i[r].length;o++)if(u.has(i[r][o],t))return r===n?e:r}else if(u.has(i[r],t))return r===n?e:r;return t}},d={browser:{oldsafari:{major:{1:["/8","/1","/3"],2:"/4","?":"/"},version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",RT:"ARM"}}}},h={browser:[[/(opera\smini)\/((\d+)?[\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/((\d+)?[\w\.-]+)/i,/(opera).+version\/((\d+)?[\w\.]+)/i,/(opera)[\/\s]+((\d+)?[\w\.]+)/i],[s,l,o],[/\s(opr)\/((\d+)?[\w\.]+)/i],[[s,"Opera"],l,o],[/(kindle)\/((\d+)?[\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?((\d+)?[\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?((\d+)?[\w\.]*)/i,/(?:ms|\()(ie)\s((\d+)?[\w\.]+)/i,/(rekonq)((?:\/)[\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron)\/((\d+)?[\w\.-]+)/i],[s,l,o],[/(trident).+rv[:\s]((\d+)?[\w\.]+).+like\sgecko/i],[[s,"IE"],l,o],[/(yabrowser)\/((\d+)?[\w\.]+)/i],[[s,"Yandex"],l,o],[/(comodo_dragon)\/((\d+)?[\w\.]+)/i],[[s,/_/g," "],l,o],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?((\d+)?[\w\.]+)/i],[s,l,o],[/(dolfin)\/((\d+)?[\w\.]+)/i],[[s,"Dolphin"],l,o],[/((?:android.+)crmo|crios)\/((\d+)?[\w\.]+)/i],[[s,"Chrome"],l,o],[/((?:android.+))version\/((\d+)?[\w\.]+)\smobile\ssafari/i],[[s,"Android Browser"],l,o],[/version\/((\d+)?[\w\.]+).+?mobile\/\w+\s(safari)/i],[l,o,[s,"Mobile Safari"]],[/version\/((\d+)?[\w\.]+).+?(mobile\s?safari|safari)/i],[l,o,s],[/webkit.+?(mobile\s?safari|safari)((\/[\w\.]+))/i],[s,[o,c.str,d.browser.oldsafari.major],[l,c.str,d.browser.oldsafari.version]],[/(konqueror)\/((\d+)?[\w\.]+)/i,/(webkit|khtml)\/((\d+)?[\w\.]+)/i],[s,l,o],[/(navigator|netscape)\/((\d+)?[\w\.-]+)/i],[[s,"Netscape"],l,o],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?((\d+)?[\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/((\d+)?[\w\.-]+)/i,/(mozilla)\/((\d+)?[\w\.]+).+rv\:.+gecko\/\d+/i,/(uc\s?browser|polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|qqbrowser)[\/\s]?((\d+)?[\w\.]+)/i,/(links)\s\(((\d+)?[\w\.]+)/i,/(gobrowser)\/?((\d+)?[\w\.]+)*/i,/(ice\s?browser)\/v?((\d+)?[\w\._]+)/i,/(mosaic)[\/\s]((\d+)?[\w\.]+)/i],[s,l,o]],engine:[[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[s,l],[/rv\:([\w\.]+).*(gecko)/i],[l,s]],os:[[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[s,[l,c.str,d.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[s,"Windows"],[l,c.str,d.os.windows.version]],[/\((bb)(10);/i],[[s,"BlackBerry"],l],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)\/([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego)[\/\s-]?([\w\.]+)*/i],[s,l],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[s,"Symbian"],l],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[s,"Firefox OS"],l],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[s,l],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[s,"Chromium OS"],l],[/(sunos)\s?([\w\.]+\d)*/i],[[s,"Solaris"],l],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[s,l],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[s,"iOS"],[l,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i],[s,[l,/_/g,"."]],[/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(macintosh|mac(?=_powerpc)|plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos)/i,/(unix)\s?([\w\.]+)*/i],[s,l]]},f=function(e){var n=e||(window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:t);this.getBrowser=function(){return c.rgx.apply(this,h.browser)},this.getEngine=function(){return c.rgx.apply(this,h.engine)},this.getOS=function(){return c.rgx.apply(this,h.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this.setUA(n)};return(new f).getResult()}(),i=function(){var t={define_property:function(){return!1}(),create_canvas:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}(),return_response_type:function(t){try{if(e.inArray(t,["","text","document"])!==-1)return!0;if(window.XMLHttpRequest){var n=new XMLHttpRequest;if(n.open("get","/"),"responseType"in n)return n.responseType=t,n.responseType===t}}catch(i){}return!1},use_data_uri:function(){var e=new Image;return e.onload=function(){t.use_data_uri=1===e.width&&1===e.height},setTimeout(function(){e.src="data:image/gif;base64,R0lGODlhAQABAIAAAP8AAAAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw=="},1),!1}(),use_data_uri_over32kb:function(){return t.use_data_uri&&("IE"!==r.browser||r.version>=9)},use_data_uri_of:function(e){return t.use_data_uri&&e<33e3||t.use_data_uri_over32kb()},use_fileinput:function(){var e=document.createElement("input");return e.setAttribute("type","file"),!e.disabled}};return function(n){var i=[].slice.call(arguments);return i.shift(),"function"===e.typeOf(t[n])?t[n].apply(this,i):!!t[n]}}(),r={can:i,browser:n.browser.name,version:parseFloat(n.browser.major),os:n.os.name,osVersion:n.os.version,verComp:t,swf_url:"../flash/Moxie.swf",xap_url:"../silverlight/Moxie.xap",global_event_dispatcher:"moxie.core.EventTarget.instance.dispatchEvent"};return r.OS=r.os,r}),i("moxie/core/utils/Dom",["moxie/core/utils/Env"],function(e){var t=function(e){return"string"!=typeof e?e:document.getElementById(e)},n=function(e,t){if(!e.className)return!1;var n=new RegExp("(^|\\s+)"+t+"(\\s+|$)");return n.test(e.className)},i=function(e,t){n(e,t)||(e.className=e.className?e.className.replace(/\s+$/,"")+" "+t:t)},r=function(e,t){if(e.className){var n=new RegExp("(^|\\s+)"+t+"(\\s+|$)");e.className=e.className.replace(n,function(e,t,n){return" "===t&&" "===n?" ":""})}},a=function(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null)[t]:void 0},o=function(t,n){function i(e){var t,n,i=0,r=0;return e&&(n=e.getBoundingClientRect(),t="CSS1Compat"===u.compatMode?u.documentElement:u.body,i=n.left+t.scrollLeft,r=n.top+t.scrollTop),{x:i,y:r}}var r,a,o,s=0,l=0,u=document;if(t=t,n=n||u.body,t&&t.getBoundingClientRect&&"IE"===e.browser&&(!u.documentMode||u.documentMode<8))return a=i(t),o=i(n),{x:a.x-o.x,y:a.y-o.y};for(r=t;r&&r!=n&&r.nodeType;)s+=r.offsetLeft||0,l+=r.offsetTop||0,r=r.offsetParent;for(r=t.parentNode;r&&r!=n&&r.nodeType;)s-=r.scrollLeft||0,l-=r.scrollTop||0,r=r.parentNode;return{x:s,y:l}},s=function(e){return{w:e.offsetWidth||e.clientWidth,h:e.offsetHeight||e.clientHeight}};return{get:t,hasClass:n,addClass:i,removeClass:r,getStyle:a,getPos:o,getSize:s}}),i("moxie/core/Exceptions",["moxie/core/utils/Basic"],function(e){function t(e,t){var n;for(n in e)if(e[n]===t)return n;return null}return{RuntimeError:function(){function n(e){this.code=e,this.name=t(i,e),this.message=this.name+": RuntimeError "+this.code}var i={NOT_INIT_ERR:1,NOT_SUPPORTED_ERR:9,JS_ERR:4};return e.extend(n,i),n.prototype=Error.prototype,n}(),OperationNotAllowedException:function(){function t(e){this.code=e,this.name="OperationNotAllowedException"}return e.extend(t,{NOT_ALLOWED_ERR:1}),t.prototype=Error.prototype,t}(),ImageError:function(){function n(e){this.code=e,this.name=t(i,e),this.message=this.name+": ImageError "+this.code}var i={WRONG_FORMAT:1,MAX_RESOLUTION_ERR:2};return e.extend(n,i),n.prototype=Error.prototype,n}(),FileException:function(){function n(e){this.code=e,this.name=t(i,e),this.message=this.name+": FileException "+this.code}var i={NOT_FOUND_ERR:1,SECURITY_ERR:2,ABORT_ERR:3,NOT_READABLE_ERR:4,ENCODING_ERR:5,NO_MODIFICATION_ALLOWED_ERR:6,INVALID_STATE_ERR:7,SYNTAX_ERR:8};return e.extend(n,i),n.prototype=Error.prototype,n}(),DOMException:function(){function n(e){this.code=e,this.name=t(i,e),this.message=this.name+": DOMException "+this.code}var i={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};return e.extend(n,i),n.prototype=Error.prototype,n}(),EventException:function(){function t(e){this.code=e,this.name="EventException"}return e.extend(t,{UNSPECIFIED_EVENT_TYPE_ERR:0}),t.prototype=Error.prototype,t}()}}),i("moxie/core/EventTarget",["moxie/core/Exceptions","moxie/core/utils/Basic"],function(e,t){function n(){var n={};t.extend(this,{uid:null,init:function(){this.uid||(this.uid=t.guid("uid_"))},addEventListener:function(e,i,r,a){var o,s=this;return e=t.trim(e),/\s/.test(e)?void t.each(e.split(/\s+/),function(e){s.addEventListener(e,i,r,a)}):(e=e.toLowerCase(),r=parseInt(r,10)||0,o=n[this.uid]&&n[this.uid][e]||[],o.push({fn:i,priority:r,scope:a||this}),n[this.uid]||(n[this.uid]={}),void(n[this.uid][e]=o))},hasEventListener:function(e){return e?!(!n[this.uid]||!n[this.uid][e]):!!n[this.uid]},removeEventListener:function(e,i){e=e.toLowerCase();var r,a=n[this.uid]&&n[this.uid][e];if(a){if(i){for(r=a.length-1;r>=0;r--)if(a[r].fn===i){a.splice(r,1);break}}else a=[];a.length||(delete n[this.uid][e],t.isEmptyObj(n[this.uid])&&delete n[this.uid])}},removeAllEventListeners:function(){n[this.uid]&&delete n[this.uid]},dispatchEvent:function(i){var r,a,o,s,l,u={},c=!0;if("string"!==t.typeOf(i)){if(s=i,"string"!==t.typeOf(s.type))throw new e.EventException(e.EventException.UNSPECIFIED_EVENT_TYPE_ERR);i=s.type,s.total!==l&&s.loaded!==l&&(u.total=s.total,u.loaded=s.loaded),u.async=s.async||!1}if(i.indexOf("::")!==-1?!function(e){r=e[0],i=e[1]}(i.split("::")):r=this.uid,i=i.toLowerCase(),a=n[r]&&n[r][i]){a.sort(function(e,t){return t.priority-e.priority}),o=[].slice.call(arguments),o.shift(),u.type=i,o.unshift(u);var d=[];t.each(a,function(e){o[0].target=e.scope,u.async?d.push(function(t){setTimeout(function(){t(e.fn.apply(e.scope,o)===!1)},1)}):d.push(function(t){t(e.fn.apply(e.scope,o)===!1)})}),d.length&&t.inSeries(d,function(e){c=!e})}return c},bind:function(){this.addEventListener.apply(this,arguments)},unbind:function(){this.removeEventListener.apply(this,arguments)},unbindAll:function(){this.removeAllEventListeners.apply(this,arguments)},trigger:function(){return this.dispatchEvent.apply(this,arguments)},convertEventPropsToHandlers:function(e){var n;"array"!==t.typeOf(e)&&(e=[e]);for(var i=0;i<e.length;i++)n="on"+e[i],"function"===t.typeOf(this[n])?this.addEventListener(e[i],this[n]):"undefined"===t.typeOf(this[n])&&(this[n]=null)}})}return n.instance=new n,n}),i("moxie/core/utils/Encode",[],function(){var e=function(e){return unescape(encodeURIComponent(e))},t=function(e){return decodeURIComponent(escape(e))},n=function(e,n){if("function"==typeof window.atob)return n?t(window.atob(e)):window.atob(e);var i,r,a,o,s,l,u,c,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=0,f=0,p="",g=[];if(!e)return e;e+="";do o=d.indexOf(e.charAt(h++)),s=d.indexOf(e.charAt(h++)),l=d.indexOf(e.charAt(h++)),u=d.indexOf(e.charAt(h++)),c=o<<18|s<<12|l<<6|u,i=c>>16&255,r=c>>8&255,a=255&c,64==l?g[f++]=String.fromCharCode(i):64==u?g[f++]=String.fromCharCode(i,r):g[f++]=String.fromCharCode(i,r,a);while(h<e.length);return p=g.join(""),n?t(p):p},i=function(t,n){if(n&&e(t),"function"==typeof window.btoa)return window.btoa(t);var i,r,a,o,s,l,u,c,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=0,f=0,p="",g=[];if(!t)return t;do i=t.charCodeAt(h++),r=t.charCodeAt(h++),a=t.charCodeAt(h++),c=i<<16|r<<8|a,o=c>>18&63,s=c>>12&63,l=c>>6&63,u=63&c,g[f++]=d.charAt(o)+d.charAt(s)+d.charAt(l)+d.charAt(u);while(h<t.length);p=g.join("");var m=t.length%3;return(m?p.slice(0,m-3):p)+"===".slice(m||3)};return{utf8_encode:e,utf8_decode:t,atob:n,btoa:i}}),i("moxie/runtime/Runtime",["moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/EventTarget"],function(e,t,n){function i(n,r,o,s,l){var u,c=this,d=e.guid(r+"_"),h=l||"browser";n=n||{},a[d]=this,o=e.extend({access_binary:!1,access_image_binary:!1,display_media:!1,do_cors:!1,drag_and_drop:!1,filter_by_extension:!0,resize_image:!1,report_upload_progress:!1,return_response_headers:!1,return_response_type:!1,return_status_code:!0,send_custom_headers:!1,select_file:!1,select_folder:!1,select_multiple:!0,send_binary_string:!1,send_browser_cookies:!0,send_multipart:!0,slice_blob:!1,stream_upload:!1,summon_file_dialog:!1,upload_filesize:!0,use_http_method:!0},o),n.preferred_caps&&(h=i.getMode(s,n.preferred_caps,h)),u=function(){var t={};return{exec:function(e,n,i,r){if(u[n]&&(t[e]||(t[e]={context:this,instance:new u[n]}),t[e].instance[i]))return t[e].instance[i].apply(this,r)},removeInstance:function(e){delete t[e]},removeAllInstances:function(){var n=this;e.each(t,function(t,i){"function"===e.typeOf(t.instance.destroy)&&t.instance.destroy.call(t.context),n.removeInstance(i)})}}}(),e.extend(this,{initialized:!1,uid:d,type:r,mode:i.getMode(s,n.required_caps,h),shimid:d+"_container",clients:0,options:n,can:function(t,n){var r=arguments[2]||o;if("string"===e.typeOf(t)&&"undefined"===e.typeOf(n)&&(t=i.parseCaps(t)),"object"===e.typeOf(t)){for(var a in t)if(!this.can(a,t[a],r))return!1;return!0}return"function"===e.typeOf(r[t])?r[t].call(this,n):n===r[t]},getShimContainer:function(){var n,i=t.get(this.shimid);return i||(n=this.options.container?t.get(this.options.container):document.body,i=document.createElement("div"),i.id=this.shimid,i.className="moxie-shim moxie-shim-"+this.type,e.extend(i.style,{position:"absolute",top:"0px",left:"0px",width:"1px",height:"1px",overflow:"hidden"}),n.appendChild(i),n=null),i},getShim:function(){return u},shimExec:function(e,t){var n=[].slice.call(arguments,2);return c.getShim().exec.call(this,this.uid,e,t,n)},exec:function(e,t){var n=[].slice.call(arguments,2);return c[e]&&c[e][t]?c[e][t].apply(this,n):c.shimExec.apply(this,arguments)},destroy:function(){if(c){var e=t.get(this.shimid);e&&e.parentNode.removeChild(e),u&&u.removeAllInstances(),this.unbindAll(),delete a[this.uid],this.uid=null,d=c=u=e=null}}}),this.mode&&n.required_caps&&!this.can(n.required_caps)&&(this.mode=!1)}var r={},a={};return i.order="html5,flash,silverlight,html4",i.getRuntime=function(e){return!!a[e]&&a[e]},i.addConstructor=function(e,t){t.prototype=n.instance,r[e]=t},i.getConstructor=function(e){return r[e]||null},i.getInfo=function(e){var t=i.getRuntime(e);return t?{uid:t.uid,type:t.type,mode:t.mode,can:function(){return t.can.apply(t,arguments)}}:null},i.parseCaps=function(t){var n={};return"string"!==e.typeOf(t)?t||{}:(e.each(t.split(","),function(e){n[e]=!0}),n)},i.can=function(e,t){var n,r,a=i.getConstructor(e);return!!a&&(n=new a({required_caps:t}),r=n.mode,n.destroy(),!!r)},i.thatCan=function(e,t){var n=(t||i.order).split(/\s*,\s*/);for(var r in n)if(i.can(n[r],e))return n[r];return null},i.getMode=function(t,n,i){var r=null;if("undefined"===e.typeOf(i)&&(i="browser"),n&&!e.isEmptyObj(t)){if(e.each(n,function(n,i){if(t.hasOwnProperty(i)){var a=t[i](n);if("string"==typeof a&&(a=[a]),r){if(!(r=e.arrayIntersect(r,a)))return r=!1}else r=a}}),r)return e.inArray(i,r)!==-1?i:r[0];if(r===!1)return!1}return i},i.capTrue=function(){return!0},i.capFalse=function(){return!1},i.capTest=function(e){return function(){return!!e}},i}),i("moxie/runtime/RuntimeClient",["moxie/core/Exceptions","moxie/core/utils/Basic","moxie/runtime/Runtime"],function(e,t,n){return function(){var i;t.extend(this,{connectRuntime:function(r){function a(t){var o,l;return t.length?(o=t.shift(),(l=n.getConstructor(o))?(i=new l(r),i.bind("Init",function(){i.initialized=!0,setTimeout(function(){i.clients++,s.trigger("RuntimeInit",i)},1)}),i.bind("Error",function(){i.destroy(),a(t)}),i.mode?void i.init():void i.trigger("Error")):void a(t)):(s.trigger("RuntimeError",new e.RuntimeError(e.RuntimeError.NOT_INIT_ERR)),void(i=null))}var o,s=this;if("string"===t.typeOf(r)?o=r:"string"===t.typeOf(r.ruid)&&(o=r.ruid),o){if(i=n.getRuntime(o))return i.clients++,i;throw new e.RuntimeError(e.RuntimeError.NOT_INIT_ERR)}a((r.runtime_order||n.order).split(/\s*,\s*/))},getRuntime:function(){return i&&i.uid?i:(i=null,null)},disconnectRuntime:function(){i&&--i.clients<=0&&(i.destroy(),i=null)}})}}),i("moxie/file/Blob",["moxie/core/utils/Basic","moxie/core/utils/Encode","moxie/runtime/RuntimeClient"],function(e,t,n){function i(a,o){function s(t,n,a){var o,s=r[this.uid];return"string"===e.typeOf(s)&&s.length?(o=new i(null,{type:a,size:n-t}),o.detach(s.substr(t,o.size)),o):null}n.call(this),a&&this.connectRuntime(a),o?"string"===e.typeOf(o)&&(o={data:o}):o={},e.extend(this,{uid:o.uid||e.guid("uid_"),ruid:a,size:o.size||0,type:o.type||"",slice:function(e,t,n){return this.isDetached()?s.apply(this,arguments):this.getRuntime().exec.call(this,"Blob","slice",this.getSource(),e,t,n)},getSource:function(){return r[this.uid]?r[this.uid]:null},detach:function(e){this.ruid&&(this.getRuntime().exec.call(this,"Blob","destroy",r[this.uid]),this.disconnectRuntime(),this.ruid=null),e=e||"";var n=e.match(/^data:([^;]*);base64,/);n&&(this.type=n[1],e=t.atob(e.substring(e.indexOf("base64,")+7))),this.size=e.length,r[this.uid]=e},isDetached:function(){return!this.ruid&&"string"===e.typeOf(r[this.uid])},destroy:function(){this.detach(),delete r[this.uid]}}),o.data?this.detach(o.data):r[this.uid]=o}var r={};return i}),i("moxie/file/File",["moxie/core/utils/Basic","moxie/core/utils/Mime","moxie/file/Blob"],function(e,t,n){function i(i,r){var a,o;if(r||(r={}),o=r.type&&""!==r.type?r.type:t.getFileMime(r.name),r.name)a=r.name.replace(/\\/g,"/"),a=a.substr(a.lastIndexOf("/")+1);else{var s=o.split("/")[0];a=e.guid((""!==s?s:"file")+"_"),t.extensions[o]&&(a+="."+t.extensions[o][0])}n.apply(this,arguments),e.extend(this,{type:o||"",name:a||e.guid("file_"),lastModifiedDate:r.lastModifiedDate||(new Date).toLocaleString()})}return i.prototype=n.prototype,i}),i("moxie/file/FileInput",["moxie/core/utils/Basic","moxie/core/utils/Mime","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/core/EventTarget","moxie/core/I18n","moxie/file/File","moxie/runtime/Runtime","moxie/runtime/RuntimeClient"],function(e,t,n,i,r,a,o,s,l){function u(r){var u,d,h,f=this;if(e.inArray(e.typeOf(r),["string","node"])!==-1&&(r={browse_button:r}),d=n.get(r.browse_button),!d)throw new i.DOMException(i.DOMException.NOT_FOUND_ERR);h={accept:[{title:a.translate("All Files"),extensions:"*"}],name:"file",multiple:!1,required_caps:!1,container:d.parentNode||document.body},r=e.extend({},h,r),"string"==typeof r.required_caps&&(r.required_caps=s.parseCaps(r.required_caps)),"string"==typeof r.accept&&(r.accept=t.mimes2extList(r.accept)),u=n.get(r.container),u||(u=document.body),"static"===n.getStyle(u,"position")&&(u.style.position="relative"),u=d=null,l.call(f),e.extend(f,{uid:e.guid("uid_"),ruid:null,shimid:null,files:null,init:function(){f.convertEventPropsToHandlers(c),f.bind("RuntimeInit",function(t,i){f.ruid=i.uid,f.shimid=i.shimid,f.bind("Ready",function(){f.trigger("Refresh")},999),f.bind("Change",function(){var t=i.exec.call(f,"FileInput","getFiles");f.files=[],e.each(t,function(e){return 0===e.size||void f.files.push(new o(f.ruid,e))})},999),f.bind("Refresh",function(){var t,a,o,s;o=n.get(r.browse_button),s=n.get(i.shimid),o&&(t=n.getPos(o,n.get(r.container)),a=n.getSize(o),s&&e.extend(s.style,{top:t.y+"px",left:t.x+"px",width:a.w+"px",height:a.h+"px"})),s=o=null}),i.exec.call(f,"FileInput","init",r)}),f.connectRuntime(e.extend({},r,{required_caps:{select_file:!0}}))},disable:function(t){var n=this.getRuntime();n&&n.exec.call(this,"FileInput","disable","undefined"===e.typeOf(t)||t)},refresh:function(){f.trigger("Refresh")},destroy:function(){var t=this.getRuntime();t&&(t.exec.call(this,"FileInput","destroy"),this.disconnectRuntime()),"array"===e.typeOf(this.files)&&e.each(this.files,function(e){e.destroy()}),this.files=null}})}var c=["ready","change","cancel","mouseenter","mouseleave","mousedown","mouseup"];return u.prototype=r.instance,u}),i("moxie/file/FileDrop",["moxie/core/I18n","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/core/utils/Basic","moxie/file/File","moxie/runtime/RuntimeClient","moxie/core/EventTarget","moxie/core/utils/Mime"],function(e,t,n,i,r,a,o,s){function l(n){var o,l=this;"string"==typeof n&&(n={drop_zone:n}),o={accept:[{title:e.translate("All Files"),extensions:"*"}],required_caps:{drag_and_drop:!0}},n="object"==typeof n?i.extend({},o,n):o,n.container=t.get(n.drop_zone)||document.body,"static"===t.getStyle(n.container,"position")&&(n.container.style.position="relative"),"string"==typeof n.accept&&(n.accept=s.mimes2extList(n.accept)),a.call(l),i.extend(l,{uid:i.guid("uid_"),ruid:null,files:null,init:function(){l.convertEventPropsToHandlers(u),l.bind("RuntimeInit",function(e,t){l.ruid=t.uid,l.bind("Drop",function(){var e=t.exec.call(l,"FileDrop","getFiles");l.files=[],i.each(e,function(e){l.files.push(new r(l.ruid,e))})},999),t.exec.call(l,"FileDrop","init",n),l.dispatchEvent("ready")}),l.connectRuntime(n)},destroy:function(){var e=this.getRuntime();e&&(e.exec.call(this,"FileDrop","destroy"),this.disconnectRuntime()),this.files=null}})}var u=["ready","dragenter","dragleave","drop","error"];return l.prototype=o.instance,l}),i("moxie/runtime/RuntimeTarget",["moxie/core/utils/Basic","moxie/runtime/RuntimeClient","moxie/core/EventTarget"],function(e,t,n){function i(){this.uid=e.guid("uid_"),t.call(this),this.destroy=function(){this.disconnectRuntime(),this.unbindAll()}}return i.prototype=n.instance,i}),i("moxie/file/FileReader",["moxie/core/utils/Basic","moxie/core/utils/Encode","moxie/core/Exceptions","moxie/core/EventTarget","moxie/file/Blob","moxie/file/File","moxie/runtime/RuntimeTarget"],function(e,t,n,i,r,a,o){function s(){function i(e,i){function c(e){u.readyState=s.DONE,u.error=e,u.trigger("error"),d()}function d(){a.destroy(),a=null,u.trigger("loadend")}function h(t){a.bind("Error",function(e,t){c(t)}),a.bind("Progress",function(e){u.result=t.exec.call(a,"FileReader","getResult"),u.trigger(e)}),a.bind("Load",function(e){u.readyState=s.DONE,u.result=t.exec.call(a,"FileReader","getResult"),u.trigger(e),d()}),t.exec.call(a,"FileReader","read",e,i)}if(a=new o,this.convertEventPropsToHandlers(l),this.readyState===s.LOADING)return c(new n.DOMException(n.DOMException.INVALID_STATE_ERR));if(this.readyState=s.LOADING,this.trigger("loadstart"),i instanceof r)if(i.isDetached()){var f=i.getSource();switch(e){case"readAsText":case"readAsBinaryString":this.result=f;break;case"readAsDataURL":this.result="data:"+i.type+";base64,"+t.btoa(f)}this.readyState=s.DONE,this.trigger("load"),d()}else h(a.connectRuntime(i.ruid));else c(new n.DOMException(n.DOMException.NOT_FOUND_ERR))}var a,u=this;e.extend(this,{uid:e.guid("uid_"),readyState:s.EMPTY,result:null,error:null,readAsBinaryString:function(e){i.call(this,"readAsBinaryString",e)},readAsDataURL:function(e){i.call(this,"readAsDataURL",e);
},readAsText:function(e){i.call(this,"readAsText",e)},abort:function(){this.result=null,e.inArray(this.readyState,[s.EMPTY,s.DONE])===-1&&(this.readyState===s.LOADING&&(this.readyState=s.DONE),a&&a.getRuntime().exec.call(this,"FileReader","abort"),this.trigger("abort"),this.trigger("loadend"))},destroy:function(){this.abort(),a&&(a.getRuntime().exec.call(this,"FileReader","destroy"),a.disconnectRuntime()),u=a=null}})}var l=["loadstart","progress","load","abort","error","loadend"];return s.EMPTY=0,s.LOADING=1,s.DONE=2,s.prototype=i.instance,s}),i("moxie/core/utils/Url",[],function(){var e=function(t,n){for(var i=["source","scheme","authority","userInfo","user","pass","host","port","relative","path","directory","file","query","fragment"],r=i.length,a={http:80,https:443},o={},s=/^(?:([^:\/?#]+):)?(?:\/\/()(?:(?:()(?:([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?()(?:(()(?:(?:[^?#\/]*\/)*)()(?:[^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,l=s.exec(t||"");r--;)l[r]&&(o[i[r]]=l[r]);if(!o.scheme){n&&"string"!=typeof n||(n=e(n||document.location.href)),o.scheme=n.scheme,o.host=n.host,o.port=n.port;var u="";/^[^\/]/.test(o.path)&&(u=n.path,/(\/|\/[^\.]+)$/.test(u)?u+="/":u=u.replace(/\/[^\/]+$/,"/")),o.path=u+(o.path||"")}return o.port||(o.port=a[o.scheme]||80),o.port=parseInt(o.port,10),o.path||(o.path="/"),delete o.source,o},t=function(t){var n={http:80,https:443},i=e(t);return i.scheme+"://"+i.host+(i.port!==n[i.scheme]?":"+i.port:"")+i.path+(i.query?i.query:"")},n=function(t){function n(e){return[e.scheme,e.host,e.port].join("/")}return"string"==typeof t&&(t=e(t)),n(e())===n(t)};return{parseUrl:e,resolveUrl:t,hasSameOrigin:n}}),i("moxie/file/FileReaderSync",["moxie/core/utils/Basic","moxie/runtime/RuntimeClient","moxie/core/utils/Encode"],function(e,t,n){return function(){function i(e,t){if(!t.isDetached()){var i=this.connectRuntime(t.ruid).exec.call(this,"FileReaderSync","read",e,t);return this.disconnectRuntime(),i}var r=t.getSource();switch(e){case"readAsBinaryString":return r;case"readAsDataURL":return"data:"+t.type+";base64,"+n.btoa(r);case"readAsText":for(var a="",o=0,s=r.length;o<s;o++)a+=String.fromCharCode(r[o]);return a}}t.call(this),e.extend(this,{uid:e.guid("uid_"),readAsBinaryString:function(e){return i.call(this,"readAsBinaryString",e)},readAsDataURL:function(e){return i.call(this,"readAsDataURL",e)},readAsText:function(e){return i.call(this,"readAsText",e)}})}}),i("moxie/xhr/FormData",["moxie/core/Exceptions","moxie/core/utils/Basic","moxie/file/Blob"],function(e,t,n){function i(){var e,i=[];t.extend(this,{append:function(r,a){var o=this,s=t.typeOf(a);a instanceof n?e={name:r,value:a}:"array"===s?(r+="[]",t.each(a,function(e){o.append(r,e)})):"object"===s?t.each(a,function(e,t){o.append(r+"["+t+"]",e)}):"null"===s||"undefined"===s||"number"===s&&isNaN(a)?o.append(r,"false"):i.push({name:r,value:a.toString()})},hasBlob:function(){return!!this.getBlob()},getBlob:function(){return e&&e.value||null},getBlobName:function(){return e&&e.name||null},each:function(n){t.each(i,function(e){n(e.value,e.name)}),e&&n(e.value,e.name)},destroy:function(){e=null,i=[]}})}return i}),i("moxie/xhr/XMLHttpRequest",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/core/EventTarget","moxie/core/utils/Encode","moxie/core/utils/Url","moxie/runtime/Runtime","moxie/runtime/RuntimeTarget","moxie/file/Blob","moxie/file/FileReaderSync","moxie/xhr/FormData","moxie/core/utils/Env","moxie/core/utils/Mime"],function(e,t,n,i,r,a,o,s,l,u,c,d){function h(){this.uid=e.guid("uid_")}function f(){function n(e,t){if(T.hasOwnProperty(e))return 1===arguments.length?c.can("define_property")?T[e]:E[e]:void(c.can("define_property")?T[e]=t:E[e]=t)}function l(t){function i(){k.destroy(),k=null,s.dispatchEvent("loadend"),s=null}function r(r){k.bind("LoadStart",function(e){n("readyState",f.LOADING),s.dispatchEvent("readystatechange"),s.dispatchEvent(e),O&&s.upload.dispatchEvent(e)}),k.bind("Progress",function(e){n("readyState")!==f.LOADING&&(n("readyState",f.LOADING),s.dispatchEvent("readystatechange")),s.dispatchEvent(e)}),k.bind("UploadProgress",function(e){O&&s.upload.dispatchEvent({type:"progress",lengthComputable:!1,total:e.total,loaded:e.loaded})}),k.bind("Load",function(t){n("readyState",f.DONE),n("status",Number(r.exec.call(k,"XMLHttpRequest","getStatus")||0)),n("statusText",p[n("status")]||""),n("response",r.exec.call(k,"XMLHttpRequest","getResponse",n("responseType"))),~e.inArray(n("responseType"),["text",""])?n("responseText",n("response")):"document"===n("responseType")&&n("responseXML",n("response")),B=r.exec.call(k,"XMLHttpRequest","getAllResponseHeaders"),s.dispatchEvent("readystatechange"),n("status")>0?(O&&s.upload.dispatchEvent(t),s.dispatchEvent(t)):(L=!0,s.dispatchEvent("error")),i()}),k.bind("Abort",function(e){s.dispatchEvent(e),i()}),k.bind("Error",function(e){L=!0,n("readyState",f.DONE),s.dispatchEvent("readystatechange"),P=!0,s.dispatchEvent(e),i()}),r.exec.call(k,"XMLHttpRequest","send",{url:v,method:y,async:C,user:_,password:b,headers:D,mimeType:A,encoding:M,responseType:s.responseType,withCredentials:s.withCredentials,options:U},t)}var s=this;x=(new Date).getTime(),k=new o,"string"==typeof U.required_caps&&(U.required_caps=a.parseCaps(U.required_caps)),U.required_caps=e.extend({},U.required_caps,{return_response_type:s.responseType}),t instanceof u&&(U.required_caps.send_multipart=!0),F||(U.required_caps.do_cors=!0),U.ruid?r(k.connectRuntime(U)):(k.bind("RuntimeInit",function(e,t){r(t)}),k.bind("RuntimeError",function(e,t){s.dispatchEvent("RuntimeError",t)}),k.connectRuntime(U))}function m(){n("responseText",""),n("responseXML",null),n("response",null),n("status",0),n("statusText",""),x=w=null}var v,y,_,b,x,w,k,S,E=this,T={timeout:0,readyState:f.UNSENT,withCredentials:!1,status:0,statusText:"",responseType:"",responseXML:null,responseText:null,response:null},C=!0,D={},M=null,A=null,R=!1,I=!1,O=!1,P=!1,L=!1,F=!1,N=null,z=null,U={},B="";e.extend(this,T,{uid:e.guid("uid_"),upload:new h,open:function(a,o,s,l,u){var c;if(!a||!o)throw new t.DOMException(t.DOMException.SYNTAX_ERR);if(/[\u0100-\uffff]/.test(a)||i.utf8_encode(a)!==a)throw new t.DOMException(t.DOMException.SYNTAX_ERR);if(~e.inArray(a.toUpperCase(),["CONNECT","DELETE","GET","HEAD","OPTIONS","POST","PUT","TRACE","TRACK"])&&(y=a.toUpperCase()),~e.inArray(y,["CONNECT","TRACE","TRACK"]))throw new t.DOMException(t.DOMException.SECURITY_ERR);if(o=i.utf8_encode(o),c=r.parseUrl(o),F=r.hasSameOrigin(c),v=r.resolveUrl(o),(l||u)&&!F)throw new t.DOMException(t.DOMException.INVALID_ACCESS_ERR);if(_=l||c.user,b=u||c.pass,C=s||!0,C===!1&&(n("timeout")||n("withCredentials")||""!==n("responseType")))throw new t.DOMException(t.DOMException.INVALID_ACCESS_ERR);R=!C,I=!1,D={},m.call(this),n("readyState",f.OPENED),this.convertEventPropsToHandlers(["readystatechange"]),this.dispatchEvent("readystatechange")},setRequestHeader:function(r,a){var o=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"];if(n("readyState")!==f.OPENED||I)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(/[\u0100-\uffff]/.test(r)||i.utf8_encode(r)!==r)throw new t.DOMException(t.DOMException.SYNTAX_ERR);return r=e.trim(r).toLowerCase(),!~e.inArray(r,o)&&!/^(proxy\-|sec\-)/.test(r)&&(D[r]?D[r]+=", "+a:D[r]=a,!0)},getAllResponseHeaders:function(){return B||""},getResponseHeader:function(t){return t=t.toLowerCase(),L||~e.inArray(t,["set-cookie","set-cookie2"])?null:B&&""!==B&&(S||(S={},e.each(B.split(/\r\n/),function(t){var n=t.split(/:\s+/);2===n.length&&(n[0]=e.trim(n[0]),S[n[0].toLowerCase()]={header:n[0],value:e.trim(n[1])})})),S.hasOwnProperty(t))?S[t].header+": "+S[t].value:null},overrideMimeType:function(i){var r,a;if(~e.inArray(n("readyState"),[f.LOADING,f.DONE]))throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(i=e.trim(i.toLowerCase()),/;/.test(i)&&(r=i.match(/^([^;]+)(?:;\scharset\=)?(.*)$/))&&(i=r[1],r[2]&&(a=r[2])),!d.mimes[i])throw new t.DOMException(t.DOMException.SYNTAX_ERR);N=i,z=a},send:function(n,r){if(U="string"===e.typeOf(r)?{ruid:r}:r?r:{},this.convertEventPropsToHandlers(g),this.upload.convertEventPropsToHandlers(g),this.readyState!==f.OPENED||I)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(n instanceof s)U.ruid=n.ruid,A=n.type||"application/octet-stream";else if(n instanceof u){if(n.hasBlob()){var a=n.getBlob();U.ruid=a.ruid,A=a.type||"application/octet-stream"}}else"string"==typeof n&&(M="UTF-8",A="text/plain;charset=UTF-8",n=i.utf8_encode(n));this.withCredentials||(this.withCredentials=U.required_caps&&U.required_caps.send_browser_cookies&&!F),O=!R&&this.upload.hasEventListener(),L=!1,P=!n,R||(I=!0),l.call(this,n)},abort:function(){if(L=!0,R=!1,~e.inArray(n("readyState"),[f.UNSENT,f.OPENED,f.DONE]))n("readyState",f.UNSENT);else{if(n("readyState",f.DONE),I=!1,!k)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);k.getRuntime().exec.call(k,"XMLHttpRequest","abort",P),P=!0}},destroy:function(){k&&("function"===e.typeOf(k.destroy)&&k.destroy(),k=null),this.unbindAll(),this.upload&&(this.upload.unbindAll(),this.upload=null)}})}var p={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"Reserved",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",426:"Upgrade Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",510:"Not Extended"};h.prototype=n.instance;var g=["loadstart","progress","abort","error","load","timeout","loadend"];return f.UNSENT=0,f.OPENED=1,f.HEADERS_RECEIVED=2,f.LOADING=3,f.DONE=4,f.prototype=n.instance,f}),i("moxie/runtime/Transporter",["moxie/core/utils/Basic","moxie/core/utils/Encode","moxie/runtime/RuntimeClient","moxie/core/EventTarget"],function(e,t,n,i){function r(){function i(){c=d=0,u=this.result=null}function a(t,n){var i=this;l=n,i.bind("TransportingProgress",function(t){d=t.loaded,d<c&&e.inArray(i.state,[r.IDLE,r.DONE])===-1&&o.call(i)},999),i.bind("TransportingComplete",function(){d=c,i.state=r.DONE,u=null,i.result=l.exec.call(i,"Transporter","getAsBlob",t||"")},999),i.state=r.BUSY,i.trigger("TransportingStarted"),o.call(i)}function o(){var e,n=this,i=c-d;h>i&&(h=i),e=t.btoa(u.substr(d,h)),l.exec.call(n,"Transporter","receive",e,c)}var s,l,u,c,d,h;n.call(this),e.extend(this,{uid:e.guid("uid_"),state:r.IDLE,result:null,transport:function(t,n,r){var o=this;if(r=e.extend({chunk_size:204798},r),(s=r.chunk_size%3)&&(r.chunk_size+=3-s),h=r.chunk_size,i.call(this),u=t,c=t.length,"string"===e.typeOf(r)||r.ruid)a.call(o,n,this.connectRuntime(r));else{var l=function(e,t){o.unbind("RuntimeInit",l),a.call(o,n,t)};this.bind("RuntimeInit",l),this.connectRuntime(r)}},abort:function(){var e=this;e.state=r.IDLE,l&&(l.exec.call(e,"Transporter","clear"),e.trigger("TransportingAborted")),i.call(e)},destroy:function(){this.unbindAll(),l=null,this.disconnectRuntime(),i.call(this)}})}return r.IDLE=0,r.BUSY=1,r.DONE=2,r.prototype=i.instance,r}),i("moxie/image/Image",["moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/file/FileReaderSync","moxie/xhr/XMLHttpRequest","moxie/runtime/Runtime","moxie/runtime/RuntimeClient","moxie/runtime/Transporter","moxie/core/utils/Env","moxie/core/EventTarget","moxie/file/Blob","moxie/file/File","moxie/core/utils/Encode"],function(e,t,n,i,r,a,o,s,l,u,c,d,h){function f(){function i(e){e||(e=this.getRuntime().exec.call(this,"Image","getInfo")),this.size=e.size,this.width=e.width,this.height=e.height,this.type=e.type,this.meta=e.meta,""===this.name&&(this.name=e.name)}function u(t){var i=e.typeOf(t);try{if(t instanceof f){if(!t.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);g.apply(this,arguments)}else if(t instanceof c){if(!~e.inArray(t.type,["image/jpeg","image/png"]))throw new n.ImageError(n.ImageError.WRONG_FORMAT);m.apply(this,arguments)}else if(e.inArray(i,["blob","file"])!==-1)u.call(this,new d(null,t),arguments[1]);else if("string"===i)/^data:[^;]*;base64,/.test(t)?u.call(this,new c(null,{data:t}),arguments[1]):v.apply(this,arguments);else{if("node"!==i||"img"!==t.nodeName.toLowerCase())throw new n.DOMException(n.DOMException.TYPE_MISMATCH_ERR);u.call(this,t.src,arguments[1])}}catch(r){this.trigger("error",r)}}function g(t,n){var i=this.connectRuntime(t.ruid);this.ruid=i.uid,i.exec.call(this,"Image","loadFromImage",t,"undefined"===e.typeOf(n)||n)}function m(t,n){function i(e){r.ruid=e.uid,e.exec.call(r,"Image","loadFromBlob",t)}var r=this;r.name=t.name||"",t.isDetached()?(this.bind("RuntimeInit",function(e,t){i(t)}),n&&"string"==typeof n.required_caps&&(n.required_caps=a.parseCaps(n.required_caps)),this.connectRuntime(e.extend({required_caps:{access_image_binary:!0,resize_image:!0}},n))):i(this.connectRuntime(t.ruid))}function v(e,t){var n,i=this;n=new r,n.open("get",e),n.responseType="blob",n.onprogress=function(e){i.trigger(e)},n.onload=function(){m.call(i,n.response,!0)},n.onerror=function(e){i.trigger(e)},n.onloadend=function(){n.destroy()},n.bind("RuntimeError",function(e,t){i.trigger("RuntimeError",t)}),n.send(null,t)}o.call(this),e.extend(this,{uid:e.guid("uid_"),ruid:null,name:"",size:0,width:0,height:0,type:"",meta:{},clone:function(){this.load.apply(this,arguments)},load:function(){this.bind("Load Resize",function(){i.call(this)},999),this.convertEventPropsToHandlers(p),u.apply(this,arguments)},downsize:function(t,i,r,a){try{if(!this.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);if(this.width>f.MAX_RESIZE_WIDTH||this.height>f.MAX_RESIZE_HEIGHT)throw new n.ImageError(n.ImageError.MAX_RESOLUTION_ERR);(t||i)&&"undefined"!==e.typeOf(r)||(r=!1),t=t||this.width,i=i||this.height,a="undefined"===e.typeOf(a)||!!a,this.getRuntime().exec.call(this,"Image","downsize",t,i,r,a)}catch(o){this.trigger("error",o)}},crop:function(e,t,n){this.downsize(e,t,!0,n)},getAsCanvas:function(){if(!l.can("create_canvas"))throw new n.RuntimeError(n.RuntimeError.NOT_SUPPORTED_ERR);var e=this.connectRuntime(this.ruid);return e.exec.call(this,"Image","getAsCanvas")},getAsBlob:function(e,t){if(!this.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);return e||(e="image/jpeg"),"image/jpeg"!==e||t||(t=90),this.getRuntime().exec.call(this,"Image","getAsBlob",e,t)},getAsDataURL:function(e,t){if(!this.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);return this.getRuntime().exec.call(this,"Image","getAsDataURL",e,t)},getAsBinaryString:function(e,t){var n=this.getAsDataURL(e,t);return h.atob(n.substring(n.indexOf("base64,")+7))},embed:function(i){function r(){if(l.can("create_canvas")){var t=a.getAsCanvas();if(t)return i.appendChild(t),t=null,a.destroy(),void p.trigger("embedded")}var r=a.getAsDataURL(o,u);if(!r)throw new n.ImageError(n.ImageError.WRONG_FORMAT);if(l.can("use_data_uri_of",r.length))i.innerHTML='<img src="'+r+'" width="'+a.width+'" height="'+a.height+'" />',a.destroy(),p.trigger("embedded");else{var c=new s;c.bind("TransportingComplete",function(){d=p.connectRuntime(this.result.ruid),p.bind("Embedded",function(){e.extend(d.getShimContainer().style,{top:"0px",left:"0px",width:a.width+"px",height:a.height+"px"}),d=null},999),d.exec.call(p,"ImageView","display",this.result.uid,m,v),a.destroy()}),c.transport(h.atob(r.substring(r.indexOf("base64,")+7)),o,e.extend({},g,{required_caps:{display_media:!0},runtime_order:"flash,silverlight",container:i}))}}var a,o,u,c,d,p=this,g=arguments[1]||{},m=this.width,v=this.height;try{if(!(i=t.get(i)))throw new n.DOMException(n.DOMException.INVALID_NODE_TYPE_ERR);if(!this.size)throw new n.DOMException(n.DOMException.INVALID_STATE_ERR);if(this.width>f.MAX_RESIZE_WIDTH||this.height>f.MAX_RESIZE_HEIGHT)throw new n.ImageError(n.ImageError.MAX_RESOLUTION_ERR);if(o=g.type||this.type||"image/jpeg",u=g.quality||90,c="undefined"!==e.typeOf(g.crop)&&g.crop,g.width)m=g.width,v=g.height||m;else{var y=t.getSize(i);y.w&&y.h&&(m=y.w,v=y.h)}return a=new f,a.bind("Resize",function(){r.call(p)}),a.bind("Load",function(){a.downsize(m,v,c,!1)}),a.clone(this,!1),a}catch(_){this.trigger("error",_)}},destroy:function(){this.ruid&&(this.getRuntime().exec.call(this,"Image","destroy"),this.disconnectRuntime()),this.unbindAll()}})}var p=["progress","load","error","resize","embedded"];return f.MAX_RESIZE_WIDTH=6500,f.MAX_RESIZE_HEIGHT=6500,f.prototype=u.instance,f}),i("moxie/runtime/html5/Runtime",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/Runtime","moxie/core/utils/Env"],function(e,t,n,i){function r(t){var r=this,s=n.capTest,l=n.capTrue,u=e.extend({access_binary:s(window.FileReader||window.File&&window.File.getAsDataURL),access_image_binary:function(){return r.can("access_binary")&&!!o.Image},display_media:s(i.can("create_canvas")||i.can("use_data_uri_over32kb")),do_cors:s(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),drag_and_drop:s(function(){var e=document.createElement("div");return("draggable"in e||"ondragstart"in e&&"ondrop"in e)&&("IE"!==i.browser||i.version>9)}()),filter_by_extension:s(function(){return"Chrome"===i.browser&&i.version>=28||"IE"===i.browser&&i.version>=10}()),return_response_headers:l,return_response_type:function(e){return!("json"!==e||!window.JSON)||i.can("return_response_type",e)},return_status_code:l,report_upload_progress:s(window.XMLHttpRequest&&(new XMLHttpRequest).upload),resize_image:function(){return r.can("access_binary")&&i.can("create_canvas")},select_file:function(){return i.can("use_fileinput")&&window.File},select_folder:function(){return r.can("select_file")&&"Chrome"===i.browser&&i.version>=21},select_multiple:function(){return r.can("select_file")&&!("Safari"===i.browser&&"Windows"===i.os)&&!("iOS"===i.os&&i.verComp(i.osVersion,"7.0.4","<"))},send_binary_string:s(window.XMLHttpRequest&&((new XMLHttpRequest).sendAsBinary||window.Uint8Array&&window.ArrayBuffer)),send_custom_headers:s(window.XMLHttpRequest),send_multipart:function(){return!!(window.XMLHttpRequest&&(new XMLHttpRequest).upload&&window.FormData)||r.can("send_binary_string")},slice_blob:s(window.File&&(File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice)),stream_upload:function(){return r.can("slice_blob")&&r.can("send_multipart")},summon_file_dialog:s(function(){return"Firefox"===i.browser&&i.version>=4||"Opera"===i.browser&&i.version>=12||"IE"===i.browser&&i.version>=10||!!~e.inArray(i.browser,["Chrome","Safari"])}()),upload_filesize:l},arguments[2]);n.call(this,t,arguments[1]||a,u),e.extend(this,{init:function(){this.trigger("Init")},destroy:function(e){return function(){e.call(r),e=r=null}}(this.destroy)}),e.extend(this.getShim(),o)}var a="html5",o={};return n.addConstructor(a,r),o}),i("moxie/runtime/html5/file/Blob",["moxie/runtime/html5/Runtime","moxie/file/Blob"],function(e,t){function n(){function e(e,t,n){var i;if(!window.File.prototype.slice)return(i=window.File.prototype.webkitSlice||window.File.prototype.mozSlice)?i.call(e,t,n):null;try{return e.slice(),e.slice(t,n)}catch(r){return e.slice(t,n-t)}}this.slice=function(){return new t(this.getRuntime().uid,e.apply(this,arguments))}}return e.Blob=n}),i("moxie/core/utils/Events",["moxie/core/utils/Basic"],function(e){function t(){this.returnValue=!1}function n(){this.cancelBubble=!0}var i={},r="moxie_"+e.guid(),a=function(a,o,s,l){var u,c;o=o.toLowerCase(),a.addEventListener?(u=s,a.addEventListener(o,u,!1)):a.attachEvent&&(u=function(){var e=window.event;e.target||(e.target=e.srcElement),e.preventDefault=t,e.stopPropagation=n,s(e)},a.attachEvent("on"+o,u)),a[r]||(a[r]=e.guid()),i.hasOwnProperty(a[r])||(i[a[r]]={}),c=i[a[r]],c.hasOwnProperty(o)||(c[o]=[]),c[o].push({func:u,orig:s,key:l})},o=function(t,n,a){var o,s;if(n=n.toLowerCase(),t[r]&&i[t[r]]&&i[t[r]][n]){o=i[t[r]][n];for(var l=o.length-1;l>=0&&(o[l].orig!==a&&o[l].key!==a||(t.removeEventListener?t.removeEventListener(n,o[l].func,!1):t.detachEvent&&t.detachEvent("on"+n,o[l].func),o[l].orig=null,o[l].func=null,o.splice(l,1),a===s));l--);if(o.length||delete i[t[r]][n],e.isEmptyObj(i[t[r]])){delete i[t[r]];try{delete t[r]}catch(u){t[r]=s}}}},s=function(t,n){t&&t[r]&&e.each(i[t[r]],function(e,i){o(t,i,n)})};return{addEvent:a,removeEvent:o,removeAllEvents:s}}),i("moxie/runtime/html5/file/FileInput",["moxie/runtime/html5/Runtime","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Events","moxie/core/utils/Mime","moxie/core/utils/Env"],function(e,t,n,i,r,a){function o(){var e,o=[];t.extend(this,{init:function(s){var l,u,c,d,h,f,p=this,g=p.getRuntime();e=s,o=[],c=e.accept.mimes||r.extList2mimes(e.accept,g.can("filter_by_extension")),u=g.getShimContainer(),u.innerHTML='<input id="'+g.uid+'" type="file" style="font-size:999px;opacity:0;"'+(e.multiple&&g.can("select_multiple")?"multiple":"")+(e.directory&&g.can("select_folder")?"webkitdirectory directory":"")+(c?' accept="'+c.join(",")+'"':"")+" />",l=n.get(g.uid),t.extend(l.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"}),d=n.get(e.browse_button),g.can("summon_file_dialog")&&("static"===n.getStyle(d,"position")&&(d.style.position="relative"),h=parseInt(n.getStyle(d,"z-index"),10)||1,d.style.zIndex=h,u.style.zIndex=h-1,i.addEvent(d,"click",function(e){var t=n.get(g.uid);t&&!t.disabled&&t.click(),e.preventDefault()},p.uid)),f=g.can("summon_file_dialog")?d:u,i.addEvent(f,"mouseover",function(){p.trigger("mouseenter")},p.uid),i.addEvent(f,"mouseout",function(){p.trigger("mouseleave")},p.uid),i.addEvent(f,"mousedown",function(){p.trigger("mousedown")},p.uid),i.addEvent(n.get(e.container),"mouseup",function(){p.trigger("mouseup")},p.uid),l.onchange=function m(){if(o=[],e.directory?t.each(this.files,function(e){"."!==e.name&&o.push(e)}):o=[].slice.call(this.files),"IE"!==a.browser)this.value="";else{var n=this.cloneNode(!0);this.parentNode.replaceChild(n,this),n.onchange=m}p.trigger("change")},p.trigger({type:"ready",async:!0}),u=null},getFiles:function(){return o},disable:function(e){var t,i=this.getRuntime();(t=n.get(i.uid))&&(t.disabled=!!e)},destroy:function(){var t=this.getRuntime(),r=t.getShim(),a=t.getShimContainer();i.removeAllEvents(a,this.uid),i.removeAllEvents(e&&n.get(e.container),this.uid),i.removeAllEvents(e&&n.get(e.browse_button),this.uid),a&&(a.innerHTML=""),r.removeInstance(this.uid),o=e=a=r=null}})}return e.FileInput=o}),i("moxie/runtime/html5/file/FileDrop",["moxie/runtime/html5/Runtime","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Events","moxie/core/utils/Mime"],function(e,t,n,i,r){function a(){function e(e){for(var n=[],i=0;i<e.length;i++)[].push.apply(n,e[i].extensions.split(/\s*,\s*/));return t.inArray("*",n)===-1?n:[]}function a(e){var n=r.getFileExtension(e.name);return!n||!h.length||t.inArray(n,h)!==-1}function o(e,n){var i=[];t.each(e,function(e){var t=e.webkitGetAsEntry();if(t)if(t.isFile){var n=e.getAsFile();a(n)&&d.push(n)}else i.push(t)}),i.length?s(i,n):n()}function s(e,n){var i=[];t.each(e,function(e){i.push(function(t){l(e,t)})}),t.inSeries(i,function(){n()})}function l(e,t){e.isFile?e.file(function(e){a(e)&&d.push(e),t()},function(){t()}):e.isDirectory?u(e,t):t()}function u(e,t){function n(e){r.readEntries(function(t){t.length?([].push.apply(i,t),n(e)):e()},e)}var i=[],r=e.createReader();n(function(){s(i,t)})}var c,d=[],h=[];t.extend(this,{init:function(n){var r,s=this;c=n,h=e(c.accept),r=c.container,i.addEvent(r,"dragover",function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy"},s.uid),i.addEvent(r,"drop",function(e){e.preventDefault(),e.stopPropagation(),d=[],e.dataTransfer.items&&e.dataTransfer.items[0].webkitGetAsEntry?o(e.dataTransfer.items,function(){s.trigger("drop")}):(t.each(e.dataTransfer.files,function(e){a(e)&&d.push(e)}),s.trigger("drop"))},s.uid),i.addEvent(r,"dragenter",function(e){e.preventDefault(),e.stopPropagation(),s.trigger("dragenter")},s.uid),i.addEvent(r,"dragleave",function(e){e.preventDefault(),e.stopPropagation(),s.trigger("dragleave")},s.uid)},getFiles:function(){return d},destroy:function(){i.removeAllEvents(c&&n.get(c.container),this.uid),d=h=c=null}})}return e.FileDrop=a}),i("moxie/runtime/html5/file/FileReader",["moxie/runtime/html5/Runtime","moxie/core/utils/Encode","moxie/core/utils/Basic"],function(e,t,n){function i(){function e(e){return t.atob(e.substring(e.indexOf("base64,")+7))}var i,r=!1;n.extend(this,{read:function(e,t){var a=this;i=new window.FileReader,i.addEventListener("progress",function(e){a.trigger(e)}),i.addEventListener("load",function(e){a.trigger(e)}),i.addEventListener("error",function(e){a.trigger(e,i.error)}),i.addEventListener("loadend",function(){i=null}),"function"===n.typeOf(i[e])?(r=!1,i[e](t.getSource())):"readAsBinaryString"===e&&(r=!0,i.readAsDataURL(t.getSource()))},getResult:function(){return i&&i.result?r?e(i.result):i.result:null},abort:function(){i&&i.abort()},destroy:function(){i=null}})}return e.FileReader=i}),i("moxie/runtime/html5/xhr/XMLHttpRequest",["moxie/runtime/html5/Runtime","moxie/core/utils/Basic","moxie/core/utils/Mime","moxie/core/utils/Url","moxie/file/File","moxie/file/Blob","moxie/xhr/FormData","moxie/core/Exceptions","moxie/core/utils/Env"],function(e,t,n,i,r,a,o,s,l){function u(){function e(e,t){var n,i,r=this;n=t.getBlob().getSource(),i=new window.FileReader,i.onload=function(){t.append(t.getBlobName(),new a(null,{type:n.type,data:i.result})),p.send.call(r,e,t)},i.readAsBinaryString(n)}function u(){return!window.XMLHttpRequest||"IE"===l.browser&&l.version<8?function(){for(var e=["Msxml2.XMLHTTP.6.0","Microsoft.XMLHTTP"],t=0;t<e.length;t++)try{return new ActiveXObject(e[t])}catch(n){}}():new window.XMLHttpRequest}function c(e){var t=e.responseXML,n=e.responseText;return"IE"===l.browser&&n&&t&&!t.documentElement&&/[^\/]+\/[^\+]+\+xml/.test(e.getResponseHeader("Content-Type"))&&(t=new window.ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.validateOnParse=!1,t.loadXML(n)),t&&("IE"===l.browser&&0!==t.parseError||!t.documentElement||"parsererror"===t.documentElement.tagName)?null:t}function d(e){var t="----moxieboundary"+(new Date).getTime(),n="--",i="\r\n",r="",o=this.getRuntime();if(!o.can("send_binary_string"))throw new s.RuntimeError(s.RuntimeError.NOT_SUPPORTED_ERR);return h.setRequestHeader("Content-Type","multipart/form-data; boundary="+t),e.each(function(e,o){r+=e instanceof a?n+t+i+'Content-Disposition: form-data; name="'+o+'"; filename="'+unescape(encodeURIComponent(e.name||"blob"))+'"'+i+"Content-Type: "+(e.type||"application/octet-stream")+i+i+e.getSource()+i:n+t+i+'Content-Disposition: form-data; name="'+o+'"'+i+i+unescape(encodeURIComponent(e))+i}),r+=n+t+n+i}var h,f,p=this;t.extend(this,{send:function(n,r){var s=this,c="Mozilla"===l.browser&&l.version>=4&&l.version<7,p="Android Browser"===l.browser,g=!1;if(f=n.url.replace(/^.+?\/([\w\-\.]+)$/,"$1").toLowerCase(),h=u(),h.open(n.method,n.url,n.async,n.user,n.password),r instanceof a)r.isDetached()&&(g=!0),r=r.getSource();else if(r instanceof o){if(r.hasBlob())if(r.getBlob().isDetached())r=d.call(s,r),g=!0;else if((c||p)&&"blob"===t.typeOf(r.getBlob().getSource())&&window.FileReader)return void e.call(s,n,r);if(r instanceof o){var m=new window.FormData;r.each(function(e,t){e instanceof a?m.append(t,e.getSource()):m.append(t,e)}),r=m}}h.upload?(n.withCredentials&&(h.withCredentials=!0),h.addEventListener("load",function(e){s.trigger(e)}),h.addEventListener("error",function(e){s.trigger(e)}),h.addEventListener("progress",function(e){s.trigger(e)}),h.upload.addEventListener("progress",function(e){s.trigger({type:"UploadProgress",loaded:e.loaded,total:e.total})})):h.onreadystatechange=function(){switch(h.readyState){case 1:break;case 2:break;case 3:var e,t;try{i.hasSameOrigin(n.url)&&(e=h.getResponseHeader("Content-Length")||0),h.responseText&&(t=h.responseText.length)}catch(r){e=t=0}s.trigger({type:"progress",lengthComputable:!!e,total:parseInt(e,10),loaded:t});break;case 4:h.onreadystatechange=function(){},0===h.status?s.trigger("error"):s.trigger("load")}},t.isEmptyObj(n.headers)||t.each(n.headers,function(e,t){h.setRequestHeader(t,e)}),""!==n.responseType&&"responseType"in h&&("json"!==n.responseType||l.can("return_response_type","json")?h.responseType=n.responseType:h.responseType="text"),g?h.sendAsBinary?h.sendAsBinary(r):!function(){for(var e=new Uint8Array(r.length),t=0;t<r.length;t++)e[t]=255&r.charCodeAt(t);h.send(e.buffer)}():h.send(r),s.trigger("loadstart")},getStatus:function(){try{if(h)return h.status}catch(e){}return 0},getResponse:function(e){var t=this.getRuntime();try{switch(e){case"blob":var i=new r(t.uid,h.response),a=h.getResponseHeader("Content-Disposition");if(a){var o=a.match(/filename=([\'\"'])([^\1]+)\1/);o&&(f=o[2])}return i.name=f,i.type||(i.type=n.getFileMime(f)),i;case"json":return l.can("return_response_type","json")?h.response:200===h.status&&window.JSON?JSON.parse(h.responseText):null;case"document":return c(h);default:return""!==h.responseText?h.responseText:null}}catch(s){return null}},getAllResponseHeaders:function(){try{return h.getAllResponseHeaders()}catch(e){}return""},abort:function(){h&&h.abort()},destroy:function(){p=f=null}})}return e.XMLHttpRequest=u}),i("moxie/runtime/html5/utils/BinaryReader",[],function(){return function(){function e(e,t){var n,i=a?0:-8*(t-1),o=0;for(n=0;n<t;n++)o|=r.charCodeAt(e+n)<<Math.abs(i+8*n);return o}function n(e,t,n){n=3===arguments.length?n:r.length-t-1,r=r.substr(0,t)+e+r.substr(n+t)}function i(e,t,i){var r,o="",s=a?0:-8*(i-1);for(r=0;r<i;r++)o+=String.fromCharCode(t>>Math.abs(s+8*r)&255);n(o,e,i)}var r,a=!1;return{II:function(e){return e===t?a:void(a=e)},init:function(e){a=!1,r=e},SEGMENT:function(e,t,i){switch(arguments.length){case 1:return r.substr(e,r.length-e-1);case 2:return r.substr(e,t);case 3:n(i,e,t);break;default:return r}},BYTE:function(t){return e(t,1)},SHORT:function(t){return e(t,2)},LONG:function(n,r){return r===t?e(n,4):void i(n,r,4)},SLONG:function(t){var n=e(t,4);return n>2147483647?n-4294967296:n},STRING:function(t,n){var i="";for(n+=t;t<n;t++)i+=String.fromCharCode(e(t,1));return i}}}}),i("moxie/runtime/html5/image/JPEGHeaders",["moxie/runtime/html5/utils/BinaryReader"],function(e){return function t(n){var i,r,a,o=[],s=0;if(i=new e,i.init(n),65496===i.SHORT(0)){for(r=2;r<=n.length;)if(a=i.SHORT(r),a>=65488&&a<=65495)r+=2;else{if(65498===a||65497===a)break;s=i.SHORT(r+2)+2,a>=65505&&a<=65519&&o.push({hex:a,name:"APP"+(15&a),start:r,length:s,segment:i.SEGMENT(r,s)}),r+=s}return i.init(null),{headers:o,restore:function(e){var t,n;for(i.init(e),r=65504==i.SHORT(2)?4+i.SHORT(4):2,n=0,t=o.length;n<t;n++)i.SEGMENT(r,0,o[n].segment),r+=o[n].length;return e=i.SEGMENT(),i.init(null),e},strip:function(e){var n,r,a;for(r=new t(e),n=r.headers,r.purge(),i.init(e),a=n.length;a--;)i.SEGMENT(n[a].start,n[a].length,"");return e=i.SEGMENT(),i.init(null),e},get:function(e){for(var t=[],n=0,i=o.length;n<i;n++)o[n].name===e.toUpperCase()&&t.push(o[n].segment);return t},set:function(e,t){var n,i,r,a=[];for("string"==typeof t?a.push(t):a=t,n=i=0,r=o.length;n<r&&(o[n].name===e.toUpperCase()&&(o[n].segment=a[i],o[n].length=a[i].length,i++),!(i>=a.length));n++);
},purge:function(){o=[],i.init(null),i=null}}}}}),i("moxie/runtime/html5/image/ExifParser",["moxie/core/utils/Basic","moxie/runtime/html5/utils/BinaryReader"],function(e,n){return function(){function i(e,n){var i,r,a,s,l,d,h,f,p=o.SHORT(e),g=[],m={};for(i=0;i<p;i++)if(h=d=e+12*i+2,a=n[o.SHORT(h)],a!==t){switch(s=o.SHORT(h+=2),l=o.LONG(h+=2),h+=4,g=[],s){case 1:case 7:for(l>4&&(h=o.LONG(h)+c.tiffHeader),r=0;r<l;r++)g[r]=o.BYTE(h+r);break;case 2:l>4&&(h=o.LONG(h)+c.tiffHeader),m[a]=o.STRING(h,l-1);continue;case 3:for(l>2&&(h=o.LONG(h)+c.tiffHeader),r=0;r<l;r++)g[r]=o.SHORT(h+2*r);break;case 4:for(l>1&&(h=o.LONG(h)+c.tiffHeader),r=0;r<l;r++)g[r]=o.LONG(h+4*r);break;case 5:for(h=o.LONG(h)+c.tiffHeader,r=0;r<l;r++)g[r]=o.LONG(h+4*r)/o.LONG(h+4*r+4);break;case 9:for(h=o.LONG(h)+c.tiffHeader,r=0;r<l;r++)g[r]=o.SLONG(h+4*r);break;case 10:for(h=o.LONG(h)+c.tiffHeader,r=0;r<l;r++)g[r]=o.SLONG(h+4*r)/o.SLONG(h+4*r+4);break;default:continue}f=1==l?g[0]:g,u.hasOwnProperty(a)&&"object"!=typeof f?m[a]=u[a][f]:m[a]=f}return m}function r(){var e=c.tiffHeader;return o.II(18761==o.SHORT(e)),42===o.SHORT(e+=2)&&(c.IFD0=c.tiffHeader+o.LONG(e+=2),l=i(c.IFD0,s.tiff),"ExifIFDPointer"in l&&(c.exifIFD=c.tiffHeader+l.ExifIFDPointer,delete l.ExifIFDPointer),"GPSInfoIFDPointer"in l&&(c.gpsIFD=c.tiffHeader+l.GPSInfoIFDPointer,delete l.GPSInfoIFDPointer),!0)}function a(e,t,n){var i,r,a,l=0;if("string"==typeof t){var u=s[e.toLowerCase()];for(var d in u)if(u[d]===t){t=d;break}}i=c[e.toLowerCase()+"IFD"],r=o.SHORT(i);for(var h=0;h<r;h++)if(a=i+12*h+2,o.SHORT(a)==t){l=a+8;break}return!!l&&(o.LONG(l,n),!0)}var o,s,l,u,c={};return o=new n,s={tiff:{274:"Orientation",270:"ImageDescription",271:"Make",272:"Model",305:"Software",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer"},exif:{36864:"ExifVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",36867:"DateTimeOriginal",33434:"ExposureTime",33437:"FNumber",34855:"ISOSpeedRatings",37377:"ShutterSpeedValue",37378:"ApertureValue",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",41988:"DigitalZoomRatio",41992:"Contrast",41993:"Saturation",41994:"Sharpness"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude"}},u={ColorSpace:{1:"sRGB",0:"Uncalibrated"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{1:"Daylight",2:"Fliorescent",3:"Tungsten",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 -5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire.",1:"Flash fired.",5:"Strobe return light not detected.",7:"Strobe return light detected.",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},ExposureMode:{0:"Auto exposure",1:"Manual exposure",2:"Auto bracket"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},GPSLatitudeRef:{N:"North latitude",S:"South latitude"},GPSLongitudeRef:{E:"East longitude",W:"West longitude"}},{init:function(e){return c={tiffHeader:10},!(e===t||!e.length)&&(o.init(e),65505===o.SHORT(0)&&"EXIF\0"===o.STRING(4,5).toUpperCase()&&r())},TIFF:function(){return l},EXIF:function(){var t;if(t=i(c.exifIFD,s.exif),t.ExifVersion&&"array"===e.typeOf(t.ExifVersion)){for(var n=0,r="";n<t.ExifVersion.length;n++)r+=String.fromCharCode(t.ExifVersion[n]);t.ExifVersion=r}return t},GPS:function(){var t;return t=i(c.gpsIFD,s.gps),t.GPSVersionID&&"array"===e.typeOf(t.GPSVersionID)&&(t.GPSVersionID=t.GPSVersionID.join(".")),t},setExif:function(e,t){return("PixelXDimension"===e||"PixelYDimension"===e)&&a("exif",e,t)},getBinary:function(){return o.SEGMENT()},purge:function(){o.init(null),o=l=null,c={}}}}}),i("moxie/runtime/html5/image/JPEG",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/html5/image/JPEGHeaders","moxie/runtime/html5/utils/BinaryReader","moxie/runtime/html5/image/ExifParser"],function(e,t,n,i,r){function a(a){function o(){for(var e,t,n=0;n<=l.length;){if(e=u.SHORT(n+=2),e>=65472&&e<=65475)return n+=5,{height:u.SHORT(n),width:u.SHORT(n+=2)};t=u.SHORT(n+=2),n+=t-2}return null}function s(){d&&c&&u&&(d.purge(),c.purge(),u.init(null),l=h=c=d=u=null)}var l,u,c,d,h,f;if(l=a,u=new i,u.init(l),65496!==u.SHORT(0))throw new t.ImageError(t.ImageError.WRONG_FORMAT);c=new n(a),d=new r,f=!!d.init(c.get("app1")[0]),h=o.call(this),e.extend(this,{type:"image/jpeg",size:l.length,width:h&&h.width||0,height:h&&h.height||0,setExif:function(t,n){return!!f&&("object"===e.typeOf(t)?e.each(t,function(e,t){d.setExif(t,e)}):d.setExif(t,n),void c.set("app1",d.getBinary()))},writeHeaders:function(){return arguments.length?c.restore(arguments[0]):l=c.restore(l)},stripHeaders:function(e){return c.strip(e)},purge:function(){s.call(this)}}),f&&(this.meta={tiff:d.TIFF(),exif:d.EXIF(),gps:d.GPS()})}return a}),i("moxie/runtime/html5/image/PNG",["moxie/core/Exceptions","moxie/core/utils/Basic","moxie/runtime/html5/utils/BinaryReader"],function(e,t,n){function i(i){function r(){var e,t;return e=o.call(this,8),"IHDR"==e.type?(t=e.start,{width:l.LONG(t),height:l.LONG(t+=4)}):null}function a(){l&&(l.init(null),s=d=u=c=l=null)}function o(e){var t,n,i,r;return t=l.LONG(e),n=l.STRING(e+=4,4),i=e+=4,r=l.LONG(e+t),{length:t,type:n,start:i,CRC:r}}var s,l,u,c,d;s=i,l=new n,l.init(s),function(){var t=0,n=0,i=[35152,20039,3338,6666];for(n=0;n<i.length;n++,t+=2)if(i[n]!=l.SHORT(t))throw new e.ImageError(e.ImageError.WRONG_FORMAT)}(),d=r.call(this),t.extend(this,{type:"image/png",size:s.length,width:d.width,height:d.height,purge:function(){a.call(this)}}),a.call(this)}return i}),i("moxie/runtime/html5/image/ImageInfo",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/html5/image/JPEG","moxie/runtime/html5/image/PNG"],function(e,t,n,i){return function(r){var a,o=[n,i];a=function(){for(var e=0;e<o.length;e++)try{return new o[e](r)}catch(n){}throw new t.ImageError(t.ImageError.WRONG_FORMAT)}(),e.extend(this,{type:"",size:0,width:0,height:0,setExif:function(){},writeHeaders:function(e){return e},stripHeaders:function(e){return e},purge:function(){}}),e.extend(this,a),this.purge=function(){a.purge(),a=null}}}),i("moxie/runtime/html5/image/MegaPixel",[],function(){function e(e,i,r){var a=e.naturalWidth,o=e.naturalHeight,s=r.width,l=r.height,u=r.x||0,c=r.y||0,d=i.getContext("2d");t(e)&&(a/=2,o/=2);var h=1024,f=document.createElement("canvas");f.width=f.height=h;for(var p=f.getContext("2d"),g=n(e,a,o),m=0;m<o;){for(var v=m+h>o?o-m:h,y=0;y<a;){var _=y+h>a?a-y:h;p.clearRect(0,0,h,h),p.drawImage(e,-y,-m);var b=y*s/a+u<<0,x=Math.ceil(_*s/a),w=m*l/o/g+c<<0,k=Math.ceil(v*l/o/g);d.drawImage(f,0,0,_,v,b,w,x,k),y+=h}m+=h}f=p=null}function t(e){var t=e.naturalWidth,n=e.naturalHeight;if(t*n>1048576){var i=document.createElement("canvas");i.width=i.height=1;var r=i.getContext("2d");return r.drawImage(e,-t+1,0),0===r.getImageData(0,0,1,1).data[3]}return!1}function n(e,t,n){var i=document.createElement("canvas");i.width=1,i.height=n;var r=i.getContext("2d");r.drawImage(e,0,0);for(var a=r.getImageData(0,0,1,n).data,o=0,s=n,l=n;l>o;){var u=a[4*(l-1)+3];0===u?s=l:o=l,l=s+o>>1}i=null;var c=l/n;return 0===c?1:c}return{isSubsampled:t,renderTo:e}}),i("moxie/runtime/html5/image/Image",["moxie/runtime/html5/Runtime","moxie/core/utils/Basic","moxie/core/Exceptions","moxie/core/utils/Encode","moxie/file/File","moxie/runtime/html5/image/ImageInfo","moxie/runtime/html5/image/MegaPixel","moxie/core/utils/Mime","moxie/core/utils/Env"],function(e,t,n,i,r,a,o,s,l){function u(){function e(){if(!_&&!v)throw new n.ImageError(n.DOMException.INVALID_STATE_ERR);return _||v}function u(e){return i.atob(e.substring(e.indexOf("base64,")+7))}function c(e,t){return"data:"+(t||"")+";base64,"+i.btoa(e)}function d(e){var t=this;v=new Image,v.onerror=function(){m.call(this),t.trigger("error",new n.ImageError(n.ImageError.WRONG_FORMAT))},v.onload=function(){t.trigger("load")},v.src=/^data:[^;]*;base64,/.test(e)?e:c(e,x.type)}function h(e,t){var i,r=this;return window.FileReader?(i=new FileReader,i.onload=function(){t(this.result)},i.onerror=function(){r.trigger("error",new n.FileException(n.FileException.NOT_READABLE_ERR))},i.readAsDataURL(e),void 0):t(e.getAsDataURL())}function f(n,i,r,a){var o,s,l,u,c,d,h=this,f=0,m=0;if(S=a,d=this.meta&&this.meta.tiff&&this.meta.tiff.Orientation||1,t.inArray(d,[5,6,7,8])!==-1){var v=n;n=i,i=v}return l=e(),s=r?Math.max:Math.min,o=s(n/l.width,i/l.height),o>1&&(!r||a)?void this.trigger("Resize"):(_||(_=document.createElement("canvas")),u=Math.round(l.width*o),c=Math.round(l.height*o),r?(_.width=n,_.height=i,u>n&&(f=Math.round((u-n)/2)),c>i&&(m=Math.round((c-i)/2))):(_.width=u,_.height=c),S||g(_.width,_.height,d),p.call(this,l,_,-f,-m,u,c),this.width=_.width,this.height=_.height,k=!0,void h.trigger("Resize"))}function p(e,t,n,i,r,a){if("iOS"===l.OS)o.renderTo(e,t,{width:r,height:a,x:n,y:i});else{var s=t.getContext("2d");s.drawImage(e,n,i,r,a)}}function g(e,t,n){switch(n){case 5:case 6:case 7:case 8:_.width=t,_.height=e;break;default:_.width=e,_.height=t}var i=_.getContext("2d");switch(n){case 2:i.translate(e,0),i.scale(-1,1);break;case 3:i.translate(e,t),i.rotate(Math.PI);break;case 4:i.translate(0,t),i.scale(1,-1);break;case 5:i.rotate(.5*Math.PI),i.scale(1,-1);break;case 6:i.rotate(.5*Math.PI),i.translate(0,-t);break;case 7:i.rotate(.5*Math.PI),i.translate(e,-t),i.scale(-1,1);break;case 8:i.rotate(-.5*Math.PI),i.translate(-e,0)}}function m(){y&&(y.purge(),y=null),b=v=_=x=null,k=!1}var v,y,_,b,x,w=this,k=!1,S=!0;t.extend(this,{loadFromBlob:function(e){var t=this,i=t.getRuntime(),r=!(arguments.length>1)||arguments[1];if(!i.can("access_binary"))throw new n.RuntimeError(n.RuntimeError.NOT_SUPPORTED_ERR);return x=e,e.isDetached()?(b=e.getSource(),void d.call(this,b)):void h.call(this,e.getSource(),function(e){r&&(b=u(e)),d.call(t,e)})},loadFromImage:function(e,t){this.meta=e.meta,x=new r(null,{name:e.name,size:e.size,type:e.type}),d.call(this,t?b=e.getAsBinaryString():e.getAsDataURL())},getInfo:function(){var t,n=this.getRuntime();return!y&&b&&n.can("access_image_binary")&&(y=new a(b)),t={width:e().width||0,height:e().height||0,type:x.type||s.getFileMime(x.name),size:b&&b.length||x.size||0,name:x.name||"",meta:y&&y.meta||this.meta||{}}},downsize:function(){f.apply(this,arguments)},getAsCanvas:function(){return _&&(_.id=this.uid+"_canvas"),_},getAsBlob:function(e,t){return e!==this.type&&f.call(this,this.width,this.height,!1),new r(null,{name:x.name||"",type:e,data:w.getAsBinaryString.call(this,e,t)})},getAsDataURL:function(e){var t=arguments[1]||90;if(!k)return v.src;if("image/jpeg"!==e)return _.toDataURL("image/png");try{return _.toDataURL("image/jpeg",t/100)}catch(n){return _.toDataURL("image/jpeg")}},getAsBinaryString:function(e,t){if(!k)return b||(b=u(w.getAsDataURL(e,t))),b;if("image/jpeg"!==e)b=u(w.getAsDataURL(e,t));else{var n;t||(t=90);try{n=_.toDataURL("image/jpeg",t/100)}catch(i){n=_.toDataURL("image/jpeg")}b=u(n),y&&(b=y.stripHeaders(b),S&&(y.meta&&y.meta.exif&&y.setExif({PixelXDimension:this.width,PixelYDimension:this.height}),b=y.writeHeaders(b)),y.purge(),y=null)}return k=!1,b},destroy:function(){w=null,m.call(this),this.getRuntime().getShim().removeInstance(this.uid)}})}return e.Image=u}),i("moxie/runtime/flash/Runtime",["moxie/core/utils/Basic","moxie/core/utils/Env","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/runtime/Runtime"],function(e,t,n,i,r){function a(){var e;try{e=navigator.plugins["Shockwave Flash"],e=e.description}catch(t){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(n){e="0.0"}}return e=e.match(/\d+/g),parseFloat(e[0]+"."+e[1])}function o(o){var u,c=this;o=e.extend({swf_url:t.swf_url},o),r.call(this,o,s,{access_binary:function(e){return e&&"browser"===c.mode},access_image_binary:function(e){return e&&"browser"===c.mode},display_media:r.capTrue,do_cors:r.capTrue,drag_and_drop:!1,report_upload_progress:function(){return"client"===c.mode},resize_image:r.capTrue,return_response_headers:!1,return_response_type:function(t){return!("json"!==t||!window.JSON)||(!e.arrayDiff(t,["","text","document"])||"browser"===c.mode)},return_status_code:function(t){return"browser"===c.mode||!e.arrayDiff(t,[200,404])},select_file:r.capTrue,select_multiple:r.capTrue,send_binary_string:function(e){return e&&"browser"===c.mode},send_browser_cookies:function(e){return e&&"browser"===c.mode},send_custom_headers:function(e){return e&&"browser"===c.mode},send_multipart:r.capTrue,slice_blob:r.capTrue,stream_upload:function(e){return e&&"browser"===c.mode},summon_file_dialog:!1,upload_filesize:function(t){return e.parseSizeStr(t)<=2097152||"client"===c.mode},use_http_method:function(t){return!e.arrayDiff(t,["GET","POST"])}},{access_binary:function(e){return e?"browser":"client"},access_image_binary:function(e){return e?"browser":"client"},report_upload_progress:function(e){return e?"browser":"client"},return_response_type:function(t){return e.arrayDiff(t,["","text","json","document"])?"browser":["client","browser"]},return_status_code:function(t){return e.arrayDiff(t,[200,404])?"browser":["client","browser"]},send_binary_string:function(e){return e?"browser":"client"},send_browser_cookies:function(e){return e?"browser":"client"},send_custom_headers:function(e){return e?"browser":"client"},stream_upload:function(e){return e?"client":"browser"},upload_filesize:function(t){return e.parseSizeStr(t)>=2097152?"client":"browser"}},"client"),a()<10&&(this.mode=!1),e.extend(this,{getShim:function(){return n.get(this.uid)},shimExec:function(e,t){var n=[].slice.call(arguments,2);return c.getShim().exec(this.uid,e,t,n)},init:function(){var n,r,a;a=this.getShimContainer(),e.extend(a.style,{position:"absolute",top:"-8px",left:"-8px",width:"9px",height:"9px",overflow:"hidden"}),n='<object id="'+this.uid+'" type="application/x-shockwave-flash" data="'+o.swf_url+'" ',"IE"===t.browser&&(n+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '),n+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+o.swf_url+'" /><param name="flashvars" value="uid='+escape(this.uid)+"&target="+t.global_event_dispatcher+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>',"IE"===t.browser?(r=document.createElement("div"),a.appendChild(r),r.outerHTML=n,r=a=null):a.innerHTML=n,u=setTimeout(function(){c&&!c.initialized&&c.trigger("Error",new i.RuntimeError(i.RuntimeError.NOT_INIT_ERR))},5e3)},destroy:function(e){return function(){e.call(c),clearTimeout(u),o=u=e=c=null}}(this.destroy)},l)}var s="flash",l={};return r.addConstructor(s,o),l}),i("moxie/runtime/flash/file/Blob",["moxie/runtime/flash/Runtime","moxie/file/Blob"],function(e,t){var n={slice:function(e,n,i,r){var a=this.getRuntime();return n<0?n=Math.max(e.size+n,0):n>0&&(n=Math.min(n,e.size)),i<0?i=Math.max(e.size+i,0):i>0&&(i=Math.min(i,e.size)),e=a.shimExec.call(this,"Blob","slice",n,i,r||""),e&&(e=new t(a.uid,e)),e}};return e.Blob=n}),i("moxie/runtime/flash/file/FileInput",["moxie/runtime/flash/Runtime"],function(e){var t={init:function(e){this.getRuntime().shimExec.call(this,"FileInput","init",{name:e.name,accept:e.accept,multiple:e.multiple}),this.trigger("ready")}};return e.FileInput=t}),i("moxie/runtime/flash/file/FileReader",["moxie/runtime/flash/Runtime","moxie/core/utils/Encode"],function(e,t){function n(e,n){switch(n){case"readAsText":return t.atob(e,"utf8");case"readAsBinaryString":return t.atob(e);case"readAsDataURL":return e}return null}var i="",r={read:function(e,t){var r=this,a=r.getRuntime();return"readAsDataURL"===e&&(i="data:"+(t.type||"")+";base64,"),r.bind("Progress",function(t,r){r&&(i+=n(r,e))}),a.shimExec.call(this,"FileReader","readAsBase64",t.uid)},getResult:function(){return i},destroy:function(){i=null}};return e.FileReader=r}),i("moxie/runtime/flash/file/FileReaderSync",["moxie/runtime/flash/Runtime","moxie/core/utils/Encode"],function(e,t){function n(e,n){switch(n){case"readAsText":return t.atob(e,"utf8");case"readAsBinaryString":return t.atob(e);case"readAsDataURL":return e}return null}var i={read:function(e,t){var i,r=this.getRuntime();return(i=r.shimExec.call(this,"FileReaderSync","readAsBase64",t.uid))?("readAsDataURL"===e&&(i="data:"+(t.type||"")+";base64,"+i),n(i,e,t.type)):null}};return e.FileReaderSync=i}),i("moxie/runtime/flash/xhr/XMLHttpRequest",["moxie/runtime/flash/Runtime","moxie/core/utils/Basic","moxie/file/Blob","moxie/file/File","moxie/file/FileReaderSync","moxie/xhr/FormData","moxie/runtime/Transporter"],function(e,t,n,i,r,a,o){var s={send:function(e,i){function r(){e.transport=c.mode,c.shimExec.call(u,"XMLHttpRequest","send",e,i)}function s(e,t){c.shimExec.call(u,"XMLHttpRequest","appendBlob",e,t.uid),i=null,r()}function l(e,t){var n=new o;n.bind("TransportingComplete",function(){t(this.result)}),n.transport(e.getSource(),e.type,{ruid:c.uid})}var u=this,c=u.getRuntime();if(t.isEmptyObj(e.headers)||t.each(e.headers,function(e,t){c.shimExec.call(u,"XMLHttpRequest","setRequestHeader",t,e.toString())}),i instanceof a){var d;if(i.each(function(e,t){e instanceof n?d=t:c.shimExec.call(u,"XMLHttpRequest","append",t,e)}),i.hasBlob()){var h=i.getBlob();h.isDetached()?l(h,function(e){h.destroy(),s(d,e)}):s(d,h)}else i=null,r()}else i instanceof n?i.isDetached()?l(i,function(e){i.destroy(),i=e.uid,r()}):(i=i.uid,r()):r()},getResponse:function(e){var n,a,o=this.getRuntime();if(a=o.shimExec.call(this,"XMLHttpRequest","getResponseAsBlob")){if(a=new i(o.uid,a),"blob"===e)return a;try{if(n=new r,~t.inArray(e,["","text"]))return n.readAsText(a);if("json"===e&&window.JSON)return JSON.parse(n.readAsText(a))}finally{a.destroy()}}return null},abort:function(e){var t=this.getRuntime();t.shimExec.call(this,"XMLHttpRequest","abort"),this.dispatchEvent("readystatechange"),this.dispatchEvent("abort")}};return e.XMLHttpRequest=s}),i("moxie/runtime/flash/runtime/Transporter",["moxie/runtime/flash/Runtime","moxie/file/Blob"],function(e,t){var n={getAsBlob:function(e){var n=this.getRuntime(),i=n.shimExec.call(this,"Transporter","getAsBlob",e);return i?new t(n.uid,i):null}};return e.Transporter=n}),i("moxie/runtime/flash/image/Image",["moxie/runtime/flash/Runtime","moxie/core/utils/Basic","moxie/runtime/Transporter","moxie/file/Blob","moxie/file/FileReaderSync"],function(e,t,n,i,r){var a={loadFromBlob:function(e){function t(e){r.shimExec.call(i,"Image","loadFromBlob",e.uid),i=r=null}var i=this,r=i.getRuntime();if(e.isDetached()){var a=new n;a.bind("TransportingComplete",function(){t(a.result.getSource())}),a.transport(e.getSource(),e.type,{ruid:r.uid})}else t(e.getSource())},loadFromImage:function(e){var t=this.getRuntime();return t.shimExec.call(this,"Image","loadFromImage",e.uid)},getAsBlob:function(e,t){var n=this.getRuntime(),r=n.shimExec.call(this,"Image","getAsBlob",e,t);return r?new i(n.uid,r):null},getAsDataURL:function(){var e,t=this.getRuntime(),n=t.Image.getAsBlob.apply(this,arguments);return n?(e=new r,e.readAsDataURL(n)):null}};return e.Image=a}),i("moxie/runtime/silverlight/Runtime",["moxie/core/utils/Basic","moxie/core/utils/Env","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/runtime/Runtime"],function(e,t,n,i,r){function a(e){var t,n,i,r,a,o=!1,s=null,l=0;try{try{s=new ActiveXObject("AgControl.AgControl"),s.IsVersionSupported(e)&&(o=!0),s=null}catch(u){var c=navigator.plugins["Silverlight Plug-In"];if(c){for(t=c.description,"1.0.30226.2"===t&&(t="2.0.30226.2"),n=t.split(".");n.length>3;)n.pop();for(;n.length<4;)n.push(0);for(i=e.split(".");i.length>4;)i.pop();do r=parseInt(i[l],10),a=parseInt(n[l],10),l++;while(l<i.length&&r===a);r<=a&&!isNaN(r)&&(o=!0)}}}catch(d){o=!1}return o}function o(o){var u,c=this;o=e.extend({xap_url:t.xap_url},o),r.call(this,o,s,{access_binary:r.capTrue,access_image_binary:r.capTrue,display_media:r.capTrue,do_cors:r.capTrue,drag_and_drop:!1,report_upload_progress:r.capTrue,resize_image:r.capTrue,return_response_headers:function(e){return e&&"client"===c.mode},return_response_type:function(e){return"json"!==e||!!window.JSON},return_status_code:function(t){return"client"===c.mode||!e.arrayDiff(t,[200,404])},select_file:r.capTrue,select_multiple:r.capTrue,send_binary_string:r.capTrue,send_browser_cookies:function(e){return e&&"browser"===c.mode},send_custom_headers:function(e){return e&&"client"===c.mode},send_multipart:r.capTrue,slice_blob:r.capTrue,stream_upload:!0,summon_file_dialog:!1,upload_filesize:r.capTrue,use_http_method:function(t){return"client"===c.mode||!e.arrayDiff(t,["GET","POST"])}},{return_response_headers:function(e){return e?"client":"browser"},return_status_code:function(t){return e.arrayDiff(t,[200,404])?"client":["client","browser"]},send_browser_cookies:function(e){return e?"browser":"client"},send_custom_headers:function(e){return e?"client":"browser"},use_http_method:function(t){return e.arrayDiff(t,["GET","POST"])?"client":["client","browser"]}}),a("2.0.31005.0")&&"Opera"!==t.browser||(this.mode=!1),e.extend(this,{getShim:function(){return n.get(this.uid).content.Moxie},shimExec:function(e,t){var n=[].slice.call(arguments,2);return c.getShim().exec(this.uid,e,t,n)},init:function(){var e;e=this.getShimContainer(),e.innerHTML='<object id="'+this.uid+'" data="data:application/x-silverlight," type="application/x-silverlight-2" width="100%" height="100%" style="outline:none;"><param name="source" value="'+o.xap_url+'"/><param name="background" value="Transparent"/><param name="windowless" value="true"/><param name="enablehtmlaccess" value="true"/><param name="initParams" value="uid='+this.uid+",target="+t.global_event_dispatcher+'"/></object>',u=setTimeout(function(){c&&!c.initialized&&c.trigger("Error",new i.RuntimeError(i.RuntimeError.NOT_INIT_ERR))},"Windows"!==t.OS?1e4:5e3)},destroy:function(e){return function(){e.call(c),clearTimeout(u),o=u=e=c=null}}(this.destroy)},l)}var s="silverlight",l={};return r.addConstructor(s,o),l}),i("moxie/runtime/silverlight/file/Blob",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/file/Blob"],function(e,t,n){return e.Blob=t.extend({},n)}),i("moxie/runtime/silverlight/file/FileInput",["moxie/runtime/silverlight/Runtime"],function(e){var t={init:function(e){function t(e){for(var t="",n=0;n<e.length;n++)t+=(""!==t?"|":"")+e[n].title+" | *."+e[n].extensions.replace(/,/g,";*.");return t}this.getRuntime().shimExec.call(this,"FileInput","init",t(e.accept),e.name,e.multiple),this.trigger("ready")}};return e.FileInput=t}),i("moxie/runtime/silverlight/file/FileDrop",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Dom","moxie/core/utils/Events"],function(e,t,n){var i={init:function(){var e,i=this,r=i.getRuntime();return e=r.getShimContainer(),n.addEvent(e,"dragover",function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy"},i.uid),n.addEvent(e,"dragenter",function(e){e.preventDefault();var n=t.get(r.uid).dragEnter(e);n&&e.stopPropagation()},i.uid),n.addEvent(e,"drop",function(e){e.preventDefault();var n=t.get(r.uid).dragDrop(e);n&&e.stopPropagation()},i.uid),r.shimExec.call(this,"FileDrop","init")}};return e.FileDrop=i}),i("moxie/runtime/silverlight/file/FileReader",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/file/FileReader"],function(e,t,n){return e.FileReader=t.extend({},n)}),i("moxie/runtime/silverlight/file/FileReaderSync",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/file/FileReaderSync"],function(e,t,n){return e.FileReaderSync=t.extend({},n)}),i("moxie/runtime/silverlight/xhr/XMLHttpRequest",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/xhr/XMLHttpRequest"],function(e,t,n){return e.XMLHttpRequest=t.extend({},n)}),i("moxie/runtime/silverlight/runtime/Transporter",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/runtime/Transporter"],function(e,t,n){return e.Transporter=t.extend({},n)}),i("moxie/runtime/silverlight/image/Image",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/image/Image"],function(e,t,n){return e.Image=t.extend({},n,{getInfo:function(){var e=this.getRuntime(),n=["tiff","exif","gps"],i={meta:{}},r=e.shimExec.call(this,"Image","getInfo");return r.meta&&t.each(n,function(e){var t,n,a,o,s=r.meta[e];if(s&&s.keys)for(i.meta[e]={},n=0,a=s.keys.length;n<a;n++)t=s.keys[n],o=s[t],o&&(/^(\d|[1-9]\d+)$/.test(o)?o=parseInt(o,10):/^\d*\.\d+$/.test(o)&&(o=parseFloat(o)),i.meta[e][t]=o)}),i.width=parseInt(r.width,10),i.height=parseInt(r.height,10),i.size=parseInt(r.size,10),i.type=r.type,i.name=r.name,i}})}),i("moxie/runtime/html4/Runtime",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/Runtime","moxie/core/utils/Env"],function(e,t,n,i){function r(t){var r=this,s=n.capTest,l=n.capTrue;n.call(this,t,a,{access_binary:s(window.FileReader||window.File&&File.getAsDataURL),access_image_binary:!1,display_media:s(o.Image&&(i.can("create_canvas")||i.can("use_data_uri_over32kb"))),do_cors:!1,drag_and_drop:!1,filter_by_extension:s(function(){return"Chrome"===i.browser&&i.version>=28||"IE"===i.browser&&i.version>=10}()),resize_image:function(){return o.Image&&r.can("access_binary")&&i.can("create_canvas")},report_upload_progress:!1,return_response_headers:!1,return_response_type:function(t){return!("json"!==t||!window.JSON)||!!~e.inArray(t,["text","document",""])},return_status_code:function(t){return!e.arrayDiff(t,[200,404])},select_file:function(){return i.can("use_fileinput")},select_multiple:!1,send_binary_string:!1,send_custom_headers:!1,send_multipart:!0,slice_blob:!1,stream_upload:function(){return r.can("select_file")},summon_file_dialog:s(function(){return"Firefox"===i.browser&&i.version>=4||"Opera"===i.browser&&i.version>=12||!!~e.inArray(i.browser,["Chrome","Safari"])}()),upload_filesize:l,use_http_method:function(t){return!e.arrayDiff(t,["GET","POST"])}}),e.extend(this,{init:function(){this.trigger("Init")},destroy:function(e){return function(){e.call(r),e=r=null}}(this.destroy)}),e.extend(this.getShim(),o)}var a="html4",o={};return n.addConstructor(a,r),o}),i("moxie/runtime/html4/file/FileInput",["moxie/runtime/html4/Runtime","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Events","moxie/core/utils/Mime","moxie/core/utils/Env"],function(e,t,n,i,r,a){function o(){function e(){var r,c,d,h,f,p,g=this,m=g.getRuntime();p=t.guid("uid_"),r=m.getShimContainer(),o&&(d=n.get(o+"_form"),d&&t.extend(d.style,{top:"100%"})),h=document.createElement("form"),h.setAttribute("id",p+"_form"),h.setAttribute("method","post"),h.setAttribute("enctype","multipart/form-data"),h.setAttribute("encoding","multipart/form-data"),t.extend(h.style,{overflow:"hidden",position:"absolute",top:0,left:0,width:"100%",height:"100%"}),f=document.createElement("input"),f.setAttribute("id",p),f.setAttribute("type","file"),f.setAttribute("name",s.name||"Filedata"),f.setAttribute("accept",u.join(",")),t.extend(f.style,{fontSize:"999px",opacity:0}),h.appendChild(f),r.appendChild(h),t.extend(f.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"}),"IE"===a.browser&&a.version<10&&t.extend(f.style,{filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)"}),f.onchange=function(){var t;this.value&&(t=this.files?this.files[0]:{name:this.value},l=[t],this.onchange=function(){},e.call(g),g.bind("change",function i(){var e,t=n.get(p),r=n.get(p+"_form");g.unbind("change",i),g.files.length&&t&&r&&(e=g.files[0],t.setAttribute("id",e.uid),r.setAttribute("id",e.uid+"_form"),r.setAttribute("target",e.uid+"_iframe")),t=r=null},998),f=h=null,g.trigger("change"))},m.can("summon_file_dialog")&&(c=n.get(s.browse_button),i.removeEvent(c,"click",g.uid),i.addEvent(c,"click",function(e){f&&!f.disabled&&f.click(),e.preventDefault()},g.uid)),o=p,r=d=c=null}var o,s,l=[],u=[];t.extend(this,{init:function(t){var a,o=this,l=o.getRuntime();s=t,u=t.accept.mimes||r.extList2mimes(t.accept,l.can("filter_by_extension")),a=l.getShimContainer(),function(){var e,r,s;e=n.get(t.browse_button),l.can("summon_file_dialog")&&("static"===n.getStyle(e,"position")&&(e.style.position="relative"),r=parseInt(n.getStyle(e,"z-index"),10)||1,e.style.zIndex=r,a.style.zIndex=r-1),s=l.can("summon_file_dialog")?e:a,i.addEvent(s,"mouseover",function(){o.trigger("mouseenter")},o.uid),i.addEvent(s,"mouseout",function(){o.trigger("mouseleave")},o.uid),i.addEvent(s,"mousedown",function(){o.trigger("mousedown")},o.uid),i.addEvent(n.get(t.container),"mouseup",function(){o.trigger("mouseup")},o.uid),e=null}(),e.call(this),a=null,o.trigger({type:"ready",async:!0})},getFiles:function(){return l},disable:function(e){var t;(t=n.get(o))&&(t.disabled=!!e)},destroy:function(){var e=this.getRuntime(),t=e.getShim(),r=e.getShimContainer();i.removeAllEvents(r,this.uid),i.removeAllEvents(s&&n.get(s.container),this.uid),i.removeAllEvents(s&&n.get(s.browse_button),this.uid),r&&(r.innerHTML=""),t.removeInstance(this.uid),o=l=u=s=r=t=null}})}return e.FileInput=o}),i("moxie/runtime/html4/file/FileReader",["moxie/runtime/html4/Runtime","moxie/runtime/html5/file/FileReader"],function(e,t){return e.FileReader=t}),i("moxie/runtime/html4/xhr/XMLHttpRequest",["moxie/runtime/html4/Runtime","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Url","moxie/core/Exceptions","moxie/core/utils/Events","moxie/file/Blob","moxie/xhr/FormData"],function(e,t,n,i,r,a,o,s){function l(){function e(e){var t,i,r,o,s=this,l=!1;if(c){if(t=c.id.replace(/_iframe$/,""),i=n.get(t+"_form")){for(r=i.getElementsByTagName("input"),o=r.length;o--;)switch(r[o].getAttribute("type")){case"hidden":r[o].parentNode.removeChild(r[o]);break;case"file":l=!0}r=[],l||i.parentNode.removeChild(i),i=null}setTimeout(function(){a.removeEvent(c,"load",s.uid),c.parentNode&&c.parentNode.removeChild(c);var t=s.getRuntime().getShimContainer();t.children.length||t.parentNode.removeChild(t),t=c=null,e()},1)}}var l,u,c;t.extend(this,{send:function(d,h){function f(){var n=_.getShimContainer()||document.body,r=document.createElement("div");r.innerHTML='<iframe id="'+p+'_iframe" name="'+p+'_iframe" src="javascript:&quot;&quot;" style="display:none"></iframe>',c=r.firstChild,n.appendChild(c),a.addEvent(c,"load",function(){var n;try{n=c.contentWindow.document||c.contentDocument||window.frames[c.id].document,/^4(0[0-9]|1[0-7]|2[2346])\s/.test(n.title)?l=n.title.replace(/^(\d+).*$/,"$1"):(l=200,u=t.trim(n.body.innerHTML),y.trigger({type:"progress",loaded:u.length,total:u.length}),v&&y.trigger({type:"uploadprogress",loaded:v.size||1025,
total:v.size||1025}))}catch(r){if(!i.hasSameOrigin(d.url))return void e.call(y,function(){y.trigger("error")});l=404}e.call(y,function(){y.trigger("load")})},y.uid)}var p,g,m,v,y=this,_=y.getRuntime();if(l=u=null,h instanceof s&&h.hasBlob()){if(v=h.getBlob(),p=v.uid,m=n.get(p),g=n.get(p+"_form"),!g)throw new r.DOMException(r.DOMException.NOT_FOUND_ERR)}else p=t.guid("uid_"),g=document.createElement("form"),g.setAttribute("id",p+"_form"),g.setAttribute("method",d.method),g.setAttribute("enctype","multipart/form-data"),g.setAttribute("encoding","multipart/form-data"),g.setAttribute("target",p+"_iframe"),_.getShimContainer().appendChild(g);h instanceof s&&h.each(function(e,n){if(e instanceof o)m&&m.setAttribute("name",n);else{var i=document.createElement("input");t.extend(i,{type:"hidden",name:n,value:e}),m?g.insertBefore(i,m):g.appendChild(i)}}),g.setAttribute("action",d.url),f(),g.submit(),y.trigger("loadstart")},getStatus:function(){return l},getResponse:function(e){if("json"===e&&"string"===t.typeOf(u)&&window.JSON)try{return JSON.parse(u.replace(/^\s*<pre[^>]*>/,"").replace(/<\/pre>\s*$/,""))}catch(n){return null}return u},abort:function(){var t=this;c&&c.contentWindow&&(c.contentWindow.stop?c.contentWindow.stop():c.contentWindow.document.execCommand?c.contentWindow.document.execCommand("Stop"):c.src="about:blank"),e.call(this,function(){t.dispatchEvent("abort")})}})}return e.XMLHttpRequest=l}),i("moxie/runtime/html4/image/Image",["moxie/runtime/html4/Runtime","moxie/runtime/html5/image/Image"],function(e,t){return e.Image=t}),a(["moxie/core/utils/Basic","moxie/core/I18n","moxie/core/utils/Mime","moxie/core/utils/Env","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/core/EventTarget","moxie/core/utils/Encode","moxie/runtime/Runtime","moxie/runtime/RuntimeClient","moxie/file/Blob","moxie/file/File","moxie/file/FileInput","moxie/file/FileDrop","moxie/runtime/RuntimeTarget","moxie/file/FileReader","moxie/core/utils/Url","moxie/file/FileReaderSync","moxie/xhr/FormData","moxie/xhr/XMLHttpRequest","moxie/runtime/Transporter","moxie/image/Image","moxie/core/utils/Events"])}(this),function(){"use strict";var e={},t=moxie.core.utils.Basic.inArray;return function n(i){var r,a;for(r in i)a=typeof i[r],"object"!==a||~t(r,["Exceptions","Env","Mime"])?"function"===a&&(e[r]=i[r]):n(i[r])}(window.moxie),e.Env=window.moxie.core.utils.Env,e.Mime=window.moxie.core.utils.Mime,e.Exceptions=window.moxie.core.Exceptions,window.mOxie=e,window.o||(window.o=e),e}(),function(e,t,n){function i(e){function t(e,t,n){var r={chunks:"slice_blob",jpgresize:"send_binary_string",pngresize:"send_binary_string",progress:"report_upload_progress",multi_selection:"select_multiple",dragdrop:"drag_and_drop",drop_element:"drag_and_drop",headers:"send_custom_headers",canSendBinary:"send_binary",triggerDialog:"summon_file_dialog"};r[e]?i[r[e]]=t:n||(i[e]=t)}var n=e.required_features,i={};return"string"==typeof n?o.each(n.split(/\s*,\s*/),function(e){t(e,!0)}):"object"==typeof n?o.each(n,function(e,n){t(n,e)}):n===!0&&(e.multipart||(i.send_binary_string=!0),e.chunk_size>0&&(i.slice_blob=!0),e.resize.enabled&&(i.send_binary_string=!0),o.each(e,function(e,n){t(n,!!e,!0)})),i}var r=e.setTimeout,a={},o={VERSION:"2.1.1",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,FILE_DUPLICATE_ERROR:-602,IMAGE_FORMAT_ERROR:-700,IMAGE_MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,mimeTypes:t.mimes,ua:t.ua,typeOf:t.typeOf,extend:t.extend,guid:t.guid,get:function(e){var n,i=[];"array"!==t.typeOf(e)&&(e=[e]);for(var r=e.length;r--;)n=t.get(e[r]),n&&i.push(n);return i.length?i:null},each:t.each,getPos:t.getPos,getSize:t.getSize,xmlEncode:function(e){var t={"<":"lt",">":"gt","&":"amp",'"':"quot","'":"#39"},n=/[<>&\"\']/g;return e?(""+e).replace(n,function(e){return t[e]?"&"+t[e]+";":e}):e},toArray:t.toArray,inArray:t.inArray,addI18n:t.addI18n,translate:t.translate,isEmptyObj:t.isEmptyObj,hasClass:t.hasClass,addClass:t.addClass,removeClass:t.removeClass,getStyle:t.getStyle,addEvent:t.addEvent,removeEvent:t.removeEvent,removeAllEvents:t.removeAllEvents,cleanName:function(e){var t,n;for(n=[/[\300-\306]/g,"A",/[\340-\346]/g,"a",/\307/g,"C",/\347/g,"c",/[\310-\313]/g,"E",/[\350-\353]/g,"e",/[\314-\317]/g,"I",/[\354-\357]/g,"i",/\321/g,"N",/\361/g,"n",/[\322-\330]/g,"O",/[\362-\370]/g,"o",/[\331-\334]/g,"U",/[\371-\374]/g,"u"],t=0;t<n.length;t+=2)e=e.replace(n[t],n[t+1]);return e=e.replace(/\s+/g,"_"),e=e.replace(/[^a-z0-9_\-\.]+/gi,"")},buildUrl:function(e,t){var n="";return o.each(t,function(e,t){n+=(n?"&":"")+encodeURIComponent(t)+"="+encodeURIComponent(e)}),n&&(e+=(e.indexOf("?")>0?"&":"?")+n),e},formatSize:function(e){function t(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}if(e===n||/\D/.test(e))return o.translate("N/A");var i=Math.pow(1024,4);return e>i?t(e/i,1)+" "+o.translate("tb"):e>(i/=1024)?t(e/i,1)+" "+o.translate("gb"):e>(i/=1024)?t(e/i,1)+" "+o.translate("mb"):e>1024?Math.round(e/1024)+" "+o.translate("kb"):e+" "+o.translate("b")},parseSize:t.parseSizeStr,predictRuntime:function(e,n){var i,r;return i=new o.Uploader(e),r=t.Runtime.thatCan(i.getOption().required_features,n||e.runtimes),i.destroy(),r},addFileFilter:function(e,t){a[e]=t}};o.addFileFilter("mime_types",function(e,t,n){e.length&&!e.regexp.test(t.name)?(this.trigger("Error",{code:o.FILE_EXTENSION_ERROR,message:o.translate("File extension error."),file:t}),n(!1)):n(!0)}),o.addFileFilter("max_file_size",function(e,t,n){var i;e=o.parseSize(e),t.size!==i&&e&&t.size>e?(this.trigger("Error",{code:o.FILE_SIZE_ERROR,message:o.translate("File size error."),file:t}),n(!1)):n(!0)}),o.addFileFilter("prevent_duplicates",function(e,t,n){if(e)for(var i=this.files.length;i--;)if(t.name===this.files[i].name&&t.size===this.files[i].size)return this.trigger("Error",{code:o.FILE_DUPLICATE_ERROR,message:o.translate("Duplicate file error."),file:t}),void n(!1);n(!0)}),o.Uploader=function(e){function s(){var e,t,n=0;if(this.state==o.STARTED){for(t=0;t<A.length;t++)e||A[t].status!=o.QUEUED?n++:(e=A[t],this.trigger("BeforeUpload",e)&&(e.status=o.UPLOADING,this.trigger("UploadFile",e)));n==A.length&&(this.state!==o.STOPPED&&(this.state=o.STOPPED,this.trigger("StateChanged")),this.trigger("UploadComplete",A))}}function l(e){e.percent=e.size>0?Math.ceil(e.loaded/e.size*100):100,u()}function u(){var e,t;for(C.reset(),e=0;e<A.length;e++)t=A[e],t.size!==n?(C.size+=t.origSize,C.loaded+=t.loaded*t.origSize/t.size):C.size=n,t.status==o.DONE?C.uploaded++:t.status==o.FAILED?C.failed++:C.queued++;C.size===n?C.percent=A.length>0?Math.ceil(C.uploaded/A.length*100):0:(C.bytesPerSec=Math.ceil(C.loaded/((+new Date-T||1)/1e3)),C.percent=C.size>0?Math.ceil(C.loaded/C.size*100):0)}function c(){var e=I[0]||O[0];return!!e&&e.getRuntime().uid}function d(e,n){if(e.ruid){var i=t.Runtime.getInfo(e.ruid);if(i)return i.can(n)}return!1}function h(){this.bind("FilesAdded",m),this.bind("CancelUpload",x),this.bind("BeforeUpload",v),this.bind("UploadFile",y),this.bind("UploadProgress",_),this.bind("StateChanged",b),this.bind("QueueChanged",u),this.bind("Error",k),this.bind("FileUploaded",w),this.bind("Destroy",S)}function f(e,n){var i=this,r=0,a=[],s={accept:e.filters.mime_types,runtime_order:e.runtimes,required_caps:e.required_features,preferred_caps:R,swf_url:e.flash_swf_url,xap_url:e.silverlight_xap_url};o.each(e.runtimes.split(/\s*,\s*/),function(t){e[t]&&(s[t]=e[t])}),e.browse_button&&o.each(e.browse_button,function(n){a.push(function(a){var l=new t.FileInput(o.extend({},s,{name:e.file_data_name,multiple:e.multi_selection,container:e.container,browse_button:n}));l.onready=function(){var e=t.Runtime.getInfo(this.ruid);t.extend(i.features,{chunks:e.can("slice_blob"),multipart:e.can("send_multipart"),multi_selection:e.can("select_multiple")}),r++,I.push(this),a()},l.onchange=function(){i.addFile(this.files)},l.bind("mouseenter mouseleave mousedown mouseup",function(i){P||(e.browse_button_hover&&("mouseenter"===i.type?t.addClass(n,e.browse_button_hover):"mouseleave"===i.type&&t.removeClass(n,e.browse_button_hover)),e.browse_button_active&&("mousedown"===i.type?t.addClass(n,e.browse_button_active):"mouseup"===i.type&&t.removeClass(n,e.browse_button_active)))}),l.bind("error runtimeerror",function(){l=null,a()}),l.init()})}),e.drop_element&&o.each(e.drop_element,function(e){a.push(function(n){var a=new t.FileDrop(o.extend({},s,{drop_zone:e}));a.onready=function(){var e=t.Runtime.getInfo(this.ruid);i.features.dragdrop=e.can("drag_and_drop"),r++,O.push(this),n()},a.ondrop=function(){i.addFile(this.files)},a.bind("error runtimeerror",function(){a=null,n()}),a.init()})}),t.inSeries(a,function(){"function"==typeof n&&n(r)})}function p(e,n,i){var r=new t.Image;try{r.onload=function(){r.downsize(n.width,n.height,n.crop,n.preserve_headers)},r.onresize=function(){i(this.getAsBlob(e.type,n.quality)),this.destroy()},r.onerror=function(){i(e)},r.load(e)}catch(a){i(e)}}function g(e,n,r){function a(e,t,n){var i=E[e];switch(e){case"max_file_size":"max_file_size"===e&&(E.max_file_size=E.filters.max_file_size=t);break;case"chunk_size":(t=o.parseSize(t))&&(E[e]=t);break;case"filters":"array"===o.typeOf(t)&&(t={mime_types:t}),n?o.extend(E.filters,t):E.filters=t,t.mime_types&&(E.filters.mime_types.regexp=function(e){var t=[];return o.each(e,function(e){o.each(e.extensions.split(/,/),function(e){/^\s*\*\s*$/.test(e)?t.push("\\.*"):t.push("\\."+e.replace(new RegExp("["+"/^$.*+?|()[]{}\\".replace(/./g,"\\$&")+"]","g"),"\\$&"))})}),new RegExp("("+t.join("|")+")$","i")}(E.filters.mime_types));break;case"resize":n?o.extend(E.resize,t,{enabled:!0}):E.resize=t;break;case"prevent_duplicates":E.prevent_duplicates=E.filters.prevent_duplicates=!!t;break;case"browse_button":case"drop_element":t=o.get(t);case"container":case"runtimes":case"multi_selection":case"flash_swf_url":case"silverlight_xap_url":E[e]=t,n||(l=!0);break;default:E[e]=t}n||s.trigger("OptionChanged",e,t,i)}var s=this,l=!1;"object"==typeof e?o.each(e,function(e,t){a(t,e,r)}):a(e,n,r),r?(E.required_features=i(o.extend({},E)),R=i(o.extend({},E,{required_features:!0}))):l&&(s.trigger("Destroy"),f.call(s,E,function(e){e?(s.runtime=t.Runtime.getInfo(c()).type,s.trigger("Init",{runtime:s.runtime}),s.trigger("PostInit")):s.trigger("Error",{code:o.INIT_ERROR,message:o.translate("Init error.")})}))}function m(e,t){[].push.apply(A,t),e.trigger("QueueChanged"),e.refresh()}function v(e,t){if(E.unique_names){var n=t.name.match(/\.([^.]+)$/),i="part";n&&(i=n[1]),t.target_name=t.id+"."+i}}function y(e,n){function i(){c-- >0?r(a,1e3):(n.loaded=f,e.trigger("Error",{code:o.HTTP_ERROR,message:o.translate("HTTP Error."),file:n,response:D.responseText,status:D.status,responseHeaders:D.getAllResponseHeaders()}))}function a(){var d,p,g,m;n.status!=o.DONE&&n.status!=o.FAILED&&e.state!=o.STOPPED&&(g={name:n.target_name||n.name},u&&h.chunks&&s.size>u?(m=Math.min(u,s.size-f),d=s.slice(f,f+m)):(m=s.size,d=s),u&&h.chunks&&(e.settings.send_chunk_number?(g.chunk=Math.ceil(f/u),g.chunks=Math.ceil(s.size/u)):(g.offset=f,g.total=s.size)),D=new t.XMLHttpRequest,D.upload&&(D.upload.onprogress=function(t){n.loaded=Math.min(n.size,f+t.loaded),e.trigger("UploadProgress",n)}),D.onload=function(){return D.status>=400?void i():(c=e.settings.max_retries,m<s.size?(d.destroy(),f+=m,n.loaded=Math.min(f,s.size),e.trigger("ChunkUploaded",n,{offset:n.loaded,total:s.size,response:D.responseText,status:D.status,responseHeaders:D.getAllResponseHeaders()}),"Android Browser"===t.Env.browser&&e.trigger("UploadProgress",n)):n.loaded=n.size,d=p=null,void(!f||f>=s.size?(n.size!=n.origSize&&(s.destroy(),s=null),e.trigger("UploadProgress",n),n.status=o.DONE,e.trigger("FileUploaded",n,{response:D.responseText,status:D.status,responseHeaders:D.getAllResponseHeaders()})):r(a,1)))},D.onerror=function(){i()},D.onloadend=function(){this.destroy(),D=null},e.settings.multipart&&h.multipart?(g.name=n.target_name||n.name,D.open("post",l,!0),o.each(e.settings.headers,function(e,t){D.setRequestHeader(t,e)}),p=new t.FormData,o.each(o.extend(g,e.settings.multipart_params),function(e,t){p.append(t,e)}),p.append(e.settings.file_data_name,d),D.send(p,{runtime_order:e.settings.runtimes,required_caps:e.settings.required_features,preferred_caps:R,swf_url:e.settings.flash_swf_url,xap_url:e.settings.silverlight_xap_url})):(l=o.buildUrl(e.settings.url,o.extend(g,e.settings.multipart_params)),D.open("post",l,!0),D.setRequestHeader("Content-Type","application/octet-stream"),o.each(e.settings.headers,function(e,t){D.setRequestHeader(t,e)}),D.send(d,{runtime_order:e.settings.runtimes,required_caps:e.settings.required_features,preferred_caps:R,swf_url:e.settings.flash_swf_url,xap_url:e.settings.silverlight_xap_url})))}var s,l=e.settings.url,u=e.settings.chunk_size,c=e.settings.max_retries,h=e.features,f=0;n.loaded&&(f=n.loaded=u*Math.floor(n.loaded/u)),s=n.getSource(),e.settings.resize.enabled&&d(s,"send_binary_string")&&~t.inArray(s.type,["image/jpeg","image/png"])?p.call(this,s,e.settings.resize,function(e){s=e,n.size=e.size,a()}):a()}function _(e,t){l(t)}function b(e){if(e.state==o.STARTED)T=+new Date;else if(e.state==o.STOPPED)for(var t=e.files.length-1;t>=0;t--)e.files[t].status==o.UPLOADING&&(e.files[t].status=o.QUEUED,u())}function x(){D&&D.abort()}function w(e){u(),r(function(){s.call(e)},1)}function k(e,t){t.file&&(t.file.status=o.FAILED,l(t.file),e.state==o.STARTED&&(e.trigger("CancelUpload"),r(function(){s.call(e)},1)))}function S(e){e.stop(),o.each(A,function(e){e.destroy()}),A=[],I.length&&(o.each(I,function(e){e.destroy()}),I=[]),O.length&&(o.each(O,function(e){e.destroy()}),O=[]),R={},P=!1,T=D=null,C.reset()}var E,T,C,D,M=o.guid(),A=[],R={},I=[],O=[],P=!1;E={runtimes:t.Runtime.order,max_retries:0,chunk_size:0,multipart:!0,multi_selection:!0,file_data_name:"file",flash_swf_url:"js/Moxie.swf",silverlight_xap_url:"js/Moxie.xap",filters:{mime_types:[],prevent_duplicates:!1,max_file_size:0},resize:{enabled:!1,preserve_headers:!0,crop:!1},send_chunk_number:!0},g.call(this,e,null,!0),C=new o.QueueProgress,o.extend(this,{id:M,uid:M,state:o.STOPPED,features:{},runtime:null,files:A,settings:E,total:C,init:function(){var e=this;return"function"==typeof E.preinit?E.preinit(e):o.each(E.preinit,function(t,n){e.bind(n,t)}),E.browse_button&&E.url?(h.call(this),void f.call(this,E,function(n){"function"==typeof E.init?E.init(e):o.each(E.init,function(t,n){e.bind(n,t)}),n?(e.runtime=t.Runtime.getInfo(c()).type,e.trigger("Init",{runtime:e.runtime}),e.trigger("PostInit")):e.trigger("Error",{code:o.INIT_ERROR,message:o.translate("Init error.")})})):void this.trigger("Error",{code:o.INIT_ERROR,message:o.translate("Init error.")})},setOption:function(e,t){g.call(this,e,t,!this.runtime)},getOption:function(e){return e?E[e]:E},refresh:function(){I.length&&o.each(I,function(e){e.trigger("Refresh")}),this.trigger("Refresh")},start:function(){this.state!=o.STARTED&&(this.state=o.STARTED,this.trigger("StateChanged"),s.call(this))},stop:function(){this.state!=o.STOPPED&&(this.state=o.STOPPED,this.trigger("StateChanged"),this.trigger("CancelUpload"))},disableBrowse:function(){P=arguments[0]===n||arguments[0],I.length&&o.each(I,function(e){e.disable(P)}),this.trigger("DisableBrowse",P)},getFile:function(e){var t;for(t=A.length-1;t>=0;t--)if(A[t].id===e)return A[t]},addFile:function(e,n){function i(e,n){var i=[];t.each(u.settings.filters,function(t,n){a[n]&&i.push(function(i){a[n].call(u,t,e,function(e){i(!e)})})}),t.inSeries(i,n)}function s(e){var a=t.typeOf(e);if(e instanceof t.File){if(!e.ruid&&!e.isDetached()){if(!l)return!1;e.ruid=l,e.connectRuntime(l)}s(new o.File(e))}else e instanceof t.Blob?(s(e.getSource()),e.destroy()):e instanceof o.File?(n&&(e.name=n),d.push(function(t){i(e,function(n){n||(h.push(e),u.trigger("FileFiltered",e)),r(t,1)})})):t.inArray(a,["file","blob"])!==-1?s(new t.File(null,e)):"node"===a&&"filelist"===t.typeOf(e.files)?t.each(e.files,s):"array"===a&&(n=null,t.each(e,s))}var l,u=this,d=[],h=[];l=c(),s(e),d.length&&t.inSeries(d,function(){h.length&&u.trigger("FilesAdded",h)})},removeFile:function(e){for(var t="string"==typeof e?e:e.id,n=A.length-1;n>=0;n--)if(A[n].id===t)return this.splice(n,1)[0]},splice:function(e,t){var i=A.splice(e===n?0:e,t===n?A.length:t),r=!1;return this.state==o.STARTED&&(r=!0,this.stop()),this.trigger("FilesRemoved",i),o.each(i,function(e){e.destroy()}),this.trigger("QueueChanged"),this.refresh(),r&&this.start(),i},bind:function(e,t,n){var i=this;o.Uploader.prototype.bind.call(this,e,function(){var e=[].slice.call(arguments);return e.splice(0,1,i),t.apply(this,e)},0,n)},destroy:function(){this.trigger("Destroy"),E=C=null,this.unbindAll()}})},o.Uploader.prototype=t.EventTarget.instance,o.File=function(){function e(e){o.extend(this,{id:o.guid(),name:e.name||e.fileName,type:e.type||"",size:e.size||e.fileSize,origSize:e.size||e.fileSize,loaded:0,percent:0,status:o.QUEUED,lastModifiedDate:e.lastModifiedDate||(new Date).toLocaleString(),getNative:function(){var e=this.getSource().getSource();return t.inArray(t.typeOf(e),["blob","file"])!==-1?e:null},getSource:function(){return n[this.id]?n[this.id]:null},destroy:function(){var e=this.getSource();e&&(e.destroy(),delete n[this.id])}}),n[this.id]=e}var n={};return e}(),o.QueueProgress=function(){var e=this;e.size=0,e.loaded=0,e.uploaded=0,e.failed=0,e.queued=0,e.percent=0,e.bytesPerSec=0,e.reset=function(){e.size=e.loaded=e.uploaded=e.failed=e.queued=e.percent=e.bytesPerSec=0}},e.plupload=o}(window,mOxie),plupload.addI18n({"Stop Upload":"停止上传","Upload URL might be wrong or doesn't exist.":"上传的URL可能是错误的或不存在。",tb:"tb",Size:"大小",Close:"关闭","Init error.":"初始化错误。","Add files to the upload queue and click the start button.":"将文件添加到上传队列，然后点击”开始上传“按钮。",Filename:"文件名","Image format either wrong or not supported.":"图片格式错误或者不支持。",Status:"状态","HTTP Error.":"HTTP 错误。","Start Upload":"开始上传",mb:"mb",kb:"kb","Duplicate file error.":"重复文件错误。","File size error.":"文件大小错误。","N/A":"N/A",gb:"gb","Error: Invalid file extension:":"错误：无效的文件扩展名:","Select files":"选择文件","%s already present in the queue.":"%s 已经在当前队列里。","File: %s":"文件: %s",b:"b","Uploaded %d/%d files":"已上传 %d/%d 个文件","Upload element accepts only %d file(s) at a time. Extra files were stripped.":"每次只接受同时上传 %d 个文件，多余的文件将会被删除。","%d files queued":"%d 个文件加入到队列","File: %s, size: %d, max file size: %d":"文件: %s, 大小: %d, 最大文件大小: %d","Drag files here.":"把文件拖到这里。","Runtime ran out of available memory.":"运行时已消耗所有可用内存。","File count error.":"文件数量错误。","File extension error.":"文件扩展名错误。","Error: File too large:":"错误: 文件太大:","Add Files":"增加文件"}),function(global){function createCookie(e,t,n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var r="; expires="+i.toGMTString();document.cookie=e+"="+t+r+"; path=/"}function readCookie(e){for(var t=e+"=",n=document.cookie.split(";"),i=0,r=n.length;i<r;i++){for(var a=n[i];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return null}function QiniuJsSDK(){function log(e,t){for(var n="[qiniu-js-sdk]["+e+"]",i=n,r=0;r<t.length;r++)i+="string"==typeof t[r]?" "+t[r]:" "+that.stringifyJSON(t[r]);that.detectIEVersion()?console.log(i):(t.unshift(n),console.log.apply(console,t)),document.getElementById("qiniu-js-sdk-log")&&(document.getElementById("qiniu-js-sdk-log").innerHTML+="<p>"+i+"</p>")}function makeLogFunc(e){var t=e.toLowerCase();logger[t]=function(){if(window.console&&window.console.log&&logger.level>=logger[e]){var n=Array.prototype.slice.call(arguments);log(t,n)}}}var that=this;this.detectIEVersion=function(){for(var e=4,t=document.createElement("div"),n=t.getElementsByTagName("i");t.innerHTML="<!--[if gt IE "+e+"]><i></i><![endif]-->",n[0];)e++;return e>4&&e};var logger={MUTE:0,FATA:1,ERROR:2,WARN:3,INFO:4,DEBUG:5,TRACE:6,level:0};for(var property in logger)logger.hasOwnProperty(property)&&"number"==typeof logger[property]&&!logger.hasOwnProperty(property.toLowerCase())&&makeLogFunc(property);var qiniuUploadUrl;qiniuUploadUrl="https:"===window.location.protocol?"https://up.qbox.me":"http://upload.qiniu.com";var qiniuUploadUrls=["http://upload.qiniu.com","http://up.qiniu.com"],changeUrlTimes=0;this.resetUploadUrl=function(){if("https:"===window.location.protocol)qiniuUploadUrl="https://up.qbox.me";else{var e=changeUrlTimes%qiniuUploadUrls.length;qiniuUploadUrl=qiniuUploadUrls[e],changeUrlTimes++}logger.debug("resetUploadUrl: "+qiniuUploadUrl)},this.resetUploadUrl(),this.isImage=function(e){return e=e.split(/[?#]/)[0],/\.(png|jpg|jpeg|gif|bmp)$/i.test(e)},this.getFileExtension=function(e){var t,n=e.split(".");return t=1===n.length||""===n[0]&&2===n.length?"":n.pop().toLowerCase()},this.utf8_encode=function(e){if(null===e||"undefined"==typeof e)return"";var t,n,i=e+"",r="",a=0;t=n=0,a=i.length;for(var o=0;o<a;o++){var s=i.charCodeAt(o),l=null;if(s<128)n++;else if(s>127&&s<2048)l=String.fromCharCode(s>>6|192,63&s|128);else if(63488&s^!0)l=String.fromCharCode(s>>12|224,s>>6&63|128,63&s|128);else{if(64512&s^!0)throw new RangeError("Unmatched trail surrogate at "+o);var u=i.charCodeAt(++o);if(64512&u^!0)throw new RangeError("Unmatched lead surrogate at "+(o-1));s=((1023&s)<<10)+(1023&u)+65536,l=String.fromCharCode(s>>18|240,s>>12&63|128,s>>6&63|128,63&s|128)}null!==l&&(n>t&&(r+=i.slice(t,n)),r+=l,t=n=o+1)}return n>t&&(r+=i.slice(t,a)),r},this.base64_encode=function(e){var t,n,i,r,a,o,s,l,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=0,d=0,h="",f=[];if(!e)return e;e=this.utf8_encode(e+"");do t=e.charCodeAt(c++),n=e.charCodeAt(c++),i=e.charCodeAt(c++),l=t<<16|n<<8|i,r=l>>18&63,a=l>>12&63,o=l>>6&63,s=63&l,f[d++]=u.charAt(r)+u.charAt(a)+u.charAt(o)+u.charAt(s);while(c<e.length);switch(h=f.join(""),e.length%3){case 1:h=h.slice(0,-2)+"==";break;case 2:h=h.slice(0,-1)+"="}return h},this.URLSafeBase64Encode=function(e){return e=this.base64_encode(e),e.replace(/\//g,"_").replace(/\+/g,"-")},this.createAjax=function(e){var t={};return t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},this.parseJSON=function(data){if(window.JSON&&window.JSON.parse)return window.JSON.parse(data);var rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,text=String(data);return rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),eval("("+text+")")},this.stringifyJSON=function(e){if(window.JSON&&window.JSON.stringify)return window.JSON.stringify(e);switch(typeof e){case"string":return'"'+e.replace(/(["\\])/g,"\\$1")+'"';case"array":return"["+e.map(that.stringifyJSON).join(",")+"]";case"object":if(e instanceof Array){for(var t=[],n=e.length,i=0;i<n;i++)t.push(that.stringifyJSON(e[i]));return"["+t.join(",")+"]"}if(null===e)return"null";var r=[];for(var a in e)e.hasOwnProperty(a)&&r.push(that.stringifyJSON(a)+":"+that.stringifyJSON(e[a]));return"{"+r.join(",")+"}";case"number":return e;case!1:return e;case"boolean":return e}},this.trim=function(e){return null===e?"":e.replace(/^\s+|\s+$/g,"")},this.uploader=function(e){var t=function(){var t,n,i,r=that.detectIEVersion(),a="Safari"===mOxie.Env.browser&&mOxie.Env.version<=5&&"Windows"===mOxie.Env.os&&"7"===mOxie.Env.osVersion||"Safari"===mOxie.Env.browser&&"iOS"===mOxie.Env.os&&"7"===mOxie.Env.osVersion;r&&r<9&&e.chunk_size&&e.runtimes.indexOf("flash")>=0?e.chunk_size=0:a?e.chunk_size=0:(t=20,n=4<<t,i=plupload.parseSize(e.chunk_size),i>n&&(e.chunk_size=n))},n=function(t){if(e.uptoken)return void(that.token=e.uptoken);{if(!e.uptoken_url)return e.uptoken_func?(logger.debug("get uptoken from uptoken_func"),that.token=e.uptoken_func(t),void logger.debug("get new uptoken: ",that.token)):void logger.error("one of [uptoken, uptoken_url, uptoken_func] settings in options is required!");logger.debug("get uptoken from: ",that.uptoken_url);var n=that.createAjax();if(n.open("GET",that.uptoken_url,!1),n.setRequestHeader("If-Modified-Since","0"),n.send(),200===n.status){var i=that.parseJSON(n.responseText);that.token=i.uptoken,logger.debug("get new uptoken: ",i.uptoken)}else logger.error("get uptoken error: ",n.responseText)}},i=function(t,n,i){var r="",a=!1;if(!e.save_key)if(a=t.getOption&&t.getOption("unique_names"),a=a||t.settings&&t.settings.unique_names){var o=that.getFileExtension(n.name);r=o?n.id+"."+o:n.id}else r="function"==typeof i?i(t,n):n.name;return r};if(e.log_level&&(logger.level=e.log_level),!e.domain)throw"domain setting in options is required!";if(!e.browse_button)throw"browse_button setting in options is required!";if(!e.uptoken&&!e.uptoken_url&&!e.uptoken_func)throw"one of [uptoken, uptoken_url, uptoken_func] settings in options is required!";logger.debug("init uploader start"),logger.debug("environment: ",mOxie.Env),logger.debug("userAgent: ",navigator.userAgent);var r={},a=e.init&&e.init.Error,o=e.init&&e.init.FileUploaded;e.init.Error=function(){},e.init.FileUploaded=function(){},that.uptoken_url=e.uptoken_url,that.token="",that.key_handler="function"==typeof e.init.Key?e.init.Key:"",this.domain=e.domain;var s="",l={isResumeUpload:!1,resumeFilesize:0,startTime:"",currentTime:""};t(),logger.debug("invoke reset_chunk_size()"),logger.debug("op.chunk_size: ",e.chunk_size),plupload.extend(r,e,{url:qiniuUploadUrl,multipart_params:{token:""}}),logger.debug("option: ",r);var u=new plupload.Uploader(r);logger.debug("new plupload.Uploader(option)"),u.bind("Init",function(t,i){logger.debug("Init event activated"),e.get_new_uptoken||n(null)}),logger.debug("bind Init event"),u.bind("FilesAdded",function(e,t){logger.debug("FilesAdded event activated");var n=e.getOption&&e.getOption("auto_start");n=n||e.settings&&e.settings.auto_start,logger.debug("auto_start: ",n),logger.debug("files: ",t);var i=function(){return"ios"===mOxie.Env.OS.toLowerCase()};if(i())for(var r=0;r<t.length;r++){var a=t[r],o=that.getFileExtension(a.name);a.name=a.id+"."+o}n&&setTimeout(function(){e.start(),logger.debug("invoke up.start()")},0),e.refresh()}),logger.debug("bind FilesAdded event"),u.bind("BeforeUpload",function(t,r){logger.debug("BeforeUpload event activated"),r.speed=r.speed||0,s="",e.get_new_uptoken&&n(r);var a=function(t,n,r){l.startTime=(new Date).getTime();var a;a=e.save_key?{token:that.token}:{key:i(t,n,r),token:that.token},logger.debug("directUpload multipart_params_obj: ",a);var s=e.x_vars;if(void 0!==s&&"object"==typeof s)for(var u in s)s.hasOwnProperty(u)&&("function"==typeof s[u]?a["x:"+u]=s[u](t,n):"object"!=typeof s[u]&&(a["x:"+u]=s[u]));t.setOption({url:qiniuUploadUrl,multipart:!0,chunk_size:o()?e.max_file_size:void 0,multipart_params:a})},o=function(){var e=navigator.userAgent.toLowerCase();return!(!e.match(/MicroMessenger/i)&&"QQBrowser"!==mOxie.Env.browser&&!e.match(/V1_AND_SQ/i)||"android"!==mOxie.Env.OS.toLowerCase())},c=t.getOption&&t.getOption("chunk_size");if(c=c||t.settings&&t.settings.chunk_size,logger.debug("uploader.runtime: ",u.runtime),logger.debug("chunk_size: ",c),"html5"!==u.runtime&&"flash"!==u.runtime||!c)logger.debug("directUpload because uploader.runtime !== 'html5' || uploader.runtime !== 'flash' || !chunk_size"),a(t,r,that.key_handler);else if(r.size<c||o())logger.debug("directUpload because file.size < chunk_size || is_android_weixin_or_qq()"),a(t,r,that.key_handler);else{var d=localStorage.getItem(r.name),h=c;if(d){d=that.parseJSON(d);var f=(new Date).getTime(),p=d.time||0,g=864e5;f-p<g&&100!==d.percent&&r.size===d.total?(r.percent=d.percent,r.loaded=d.offset,s=d.ctx,l.isResumeUpload=!0,l.resumeFilesize=d.offset,d.offset+h>r.size&&(h=r.size-d.offset)):localStorage.removeItem(r.name)}l.startTime=(new Date).getTime(),t.setOption({url:qiniuUploadUrl+"/mkblk/"+h,multipart:!1,chunk_size:c,required_features:"chunks",headers:{Authorization:"UpToken "+that.token},multipart_params:{}})}}),logger.debug("bind BeforeUpload event"),u.bind("UploadProgress",function(e,t){logger.trace("UploadProgress event activated"),l.currentTime=(new Date).getTime();var n=l.currentTime-l.startTime,i=t.loaded||0;l.isResumeUpload&&(i=t.loaded-l.resumeFilesize),t.speed=(i/n*1e3).toFixed(0)||0}),logger.debug("bind UploadProgress event"),u.bind("ChunkUploaded",function(e,t,n){logger.debug("ChunkUploaded event activated"),logger.debug("file: ",t),logger.debug("info: ",n);var i=that.parseJSON(n.response);logger.debug("res: ",i),s=s?s+","+i.ctx:i.ctx;var r=n.total-n.offset,a=e.getOption&&e.getOption("chunk_size");a=a||e.settings&&e.settings.chunk_size,r<a&&(e.setOption({url:qiniuUploadUrl+"/mkblk/"+r}),logger.debug("up.setOption url: ",qiniuUploadUrl+"/mkblk/"+r)),localStorage.setItem(t.name,that.stringifyJSON({ctx:s,percent:t.percent,total:n.total,offset:n.offset,time:(new Date).getTime()}))}),logger.debug("bind ChunkUploaded event");var c=qiniuUploadUrls.length,d=function(e){return c-- >0?(setTimeout(function(){that.resetUploadUrl(),e.status=plupload.QUEUED,u.stop(),u.start()},0),!0):(c=qiniuUploadUrls.length,!1)};return u.bind("Error",function(e){return function(t,n){logger.error("Error event activated"),logger.error("err: ",n);var i="",r=n.file;if(r){switch(n.code){case plupload.FAILED:i="上传失败。请稍后再试。";break;case plupload.FILE_SIZE_ERROR:var a=t.getOption&&t.getOption("max_file_size");a=a||t.settings&&t.settings.max_file_size,i="浏览器最大可上传"+a+"。更大文件请使用命令行工具。";break;case plupload.FILE_EXTENSION_ERROR:i="文件验证失败。请稍后重试。";break;case plupload.HTTP_ERROR:if(""===n.response){if(i=n.message||"未知网络错误。",!d(r))return;break}var o=that.parseJSON(n.response),s=o.error;switch(n.status){case 400:i="请求报文格式错误。";break;case 401:i="客户端认证授权失败。请重试或提交反馈。";break;case 405:i="客户端请求错误。请重试或提交反馈。";break;case 579:i="资源上传成功，但回调失败。";break;case 599:if(i="网络连接异常。请重试或提交反馈。",!d(r))return;break;case 614:i="文件已存在。";try{o=that.parseJSON(o.error),s=o.error||"file exists"}catch(l){s=o.error||"file exists"}break;case 631:i="指定空间不存在。";break;case 701:i="上传数据块校验出错。请重试或提交反馈。";break;default:if(i="未知错误。",!d(r))return}i=i+"("+n.status+"："+s+")";break;case plupload.SECURITY_ERROR:i="安全配置错误。请联系网站管理员。";break;case plupload.GENERIC_ERROR:i="上传失败。请稍后再试。";break;case plupload.IO_ERROR:i="上传失败。请稍后再试。";break;case plupload.INIT_ERROR:i="网站配置错误。请联系网站管理员。",u.destroy();break;default:if(i=n.message+n.details,!d(r))return}e&&e(t,n,i)}t.refresh()}}(a)),logger.debug("bind Error event"),u.bind("FileUploaded",function(t){return function(n,r,a){logger.debug("FileUploaded event activated"),logger.debug("file: ",r),logger.debug("info: ",a);var o=function(n,i,r){if(e.downtoken_url){var a=that.createAjax();a.open("POST",e.downtoken_url,!0),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status){var e;try{e=that.parseJSON(a.responseText)}catch(o){throw"invalid json format"}var s={};plupload.extend(s,that.parseJSON(r),e),t&&t(n,i,that.stringifyJSON(s))}else u.trigger("Error",{status:a.status,response:a.responseText,file:i,code:plupload.HTTP_ERROR})},a.send("key="+that.parseJSON(r).key+"&domain="+e.domain)}else t&&t(n,i,r)},l=that.parseJSON(a.response);if(s=s?s:l.ctx,logger.debug("ctx: ",s),s){var c="";logger.debug("save_key: ",e.save_key),e.save_key||(c=i(n,r,that.key_handler),c=c?"/key/"+that.URLSafeBase64Encode(c):"");var d="/fname/"+that.URLSafeBase64Encode(r.name);logger.debug("op.x_vars: ",e.x_vars);var h=e.x_vars,f="",p="";if(void 0!==h&&"object"==typeof h)for(var g in h)h.hasOwnProperty(g)&&("function"==typeof h[g]?f=that.URLSafeBase64Encode(h[g](n,r)):"object"!=typeof h[g]&&(f=that.URLSafeBase64Encode(h[g])),p+="/x:"+g+"/"+f);var m,v=qiniuUploadUrl+"/mkfile/"+r.size+c+d+p,y=that.detectIEVersion();y&&y<=9?(m=new mOxie.XMLHttpRequest,mOxie.Env.swf_url=e.flash_swf_url):m=that.createAjax(),m.open("POST",v,!0),m.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),m.setRequestHeader("Authorization","UpToken "+that.token);var _=function(){if(logger.debug("ajax.readyState: ",m.readyState),4===m.readyState){localStorage.removeItem(r.name);
var e;200===m.status?(e=m.responseText,logger.debug("mkfile is success: ",e),o(n,r,e)):(e={status:m.status,response:m.responseText,file:r,code:-200},logger.debug("mkfile is error: ",e),u.trigger("Error",e))}};y&&y<=9?m.bind("readystatechange",_):m.onreadystatechange=_,m.send(s),logger.debug("mkfile: ",v)}else o(n,r,a.response)}}(o)),logger.debug("bind FileUploaded event"),u.init(),logger.debug("invoke uploader.init()"),logger.debug("init uploader end"),u},this.getUrl=function(e){if(!e)return!1;e=encodeURI(e);var t=this.domain;return"/"!==t.slice(t.length-1)&&(t+="/"),t+e},this.imageView2=function(e,t){var n=e.mode||"",i=e.w||"",r=e.h||"",a=e.q||"",o=e.format||"";if(!n)return!1;if(!i&&!r)return!1;var s="imageView2/"+n;return s+=i?"/w/"+i:"",s+=r?"/h/"+r:"",s+=a?"/q/"+a:"",s+=o?"/format/"+o:"",t&&(s=this.getUrl(t)+"?"+s),s},this.imageMogr2=function(e,t){var n=e["auto-orient"]||"",i=e.thumbnail||"",r=e.strip||"",a=e.gravity||"",o=e.crop||"",s=e.quality||"",l=e.rotate||"",u=e.format||"",c=e.blur||"",d="imageMogr2";return d+=n?"/auto-orient":"",d+=i?"/thumbnail/"+i:"",d+=r?"/strip":"",d+=a?"/gravity/"+a:"",d+=s?"/quality/"+s:"",d+=o?"/crop/"+o:"",d+=l?"/rotate/"+l:"",d+=u?"/format/"+u:"",d+=c?"/blur/"+c:"",t&&(d=this.getUrl(t)+"?"+d),d},this.watermark=function(e,t){var n=e.mode;if(!n)return!1;var i="watermark/"+n;if(1===n){var r=e.image||"";if(!r)return!1;i+=r?"/image/"+this.URLSafeBase64Encode(r):""}else{if(2!==n)return!1;var a=e.text?e.text:"",o=e.font?e.font:"",s=e.fontsize?e.fontsize:"",l=e.fill?e.fill:"";if(!a)return!1;i+=a?"/text/"+this.URLSafeBase64Encode(a):"",i+=o?"/font/"+this.URLSafeBase64Encode(o):"",i+=s?"/fontsize/"+s:"",i+=l?"/fill/"+this.URLSafeBase64Encode(l):""}var u=e.dissolve||"",c=e.gravity||"",d=e.dx||"",h=e.dy||"";return i+=u?"/dissolve/"+u:"",i+=c?"/gravity/"+c:"",i+=d?"/dx/"+d:"",i+=h?"/dy/"+h:"",t&&(i=this.getUrl(t)+"?"+i),i},this.imageInfo=function(e){if(!e)return!1;var t,n=this.getUrl(e)+"?imageInfo",i=this.createAjax(),r=this;return i.open("GET",n,!1),i.onreadystatechange=function(){4===i.readyState&&200===i.status&&(t=r.parseJSON(i.responseText))},i.send(),t},this.exif=function(e){if(!e)return!1;var t,n=this.getUrl(e)+"?exif",i=this.createAjax(),r=this;return i.open("GET",n,!1),i.onreadystatechange=function(){4===i.readyState&&200===i.status&&(t=r.parseJSON(i.responseText))},i.send(),t},this.get=function(e,t){return!(!t||!e)&&("exif"===e?this.exif(t):"imageInfo"===e&&this.imageInfo(t))},this.pipeline=function(e,t){var n,i,r="[object Array]"===Object.prototype.toString.call(e),a="";if(r){for(var o=0,s=e.length;o<s;o++){if(n=e[o],!n.fop)return!1;switch(n.fop){case"watermark":a+=this.watermark(n)+"|";break;case"imageView2":a+=this.imageView2(n)+"|";break;case"imageMogr2":a+=this.imageMogr2(n)+"|";break;default:i=!0}if(i)return!1}if(t){a=this.getUrl(t)+"?"+a;var l=a.length;"|"===a.slice(l-1)&&(a=a.slice(0,l-1))}return a}return!1}}window.localStorage||(window.localStorage={setItem:function(e,t){createCookie(e,t,30)},getItem:function(e){return readCookie(e)},removeItem:function(e){createCookie(e,"",-1)}});var Qiniu=new QiniuJsSDK;global.Qiniu=Qiniu,global.QiniuJsSDK=QiniuJsSDK}(window),function(window,undefined){function _isArray(e){return!!e&&"[object Array]"===Object.prototype.toString.call(e)}function _isFunction(e){return!!e&&"[object Function]"===Object.prototype.toString.call(e)}function _inArray(e,t){for(var n=0,i=t.length;n<i;n++)if(e===t[n])return n;return-1}function _each(e,t){if(_isArray(e))for(var n=0,i=e.length;n<i&&t.call(e[n],n,e[n])!==!1;n++);else for(var r in e)if(e.hasOwnProperty(r)&&t.call(e[r],r,e[r])===!1)break}function _trim(e){return e.replace(/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,"")}function _inString(e,t,n){return n=n===undefined?",":n,(n+t+n).indexOf(n+e+n)>=0}function _addUnit(e,t){return t=t||"px",e&&/^-?\d+(?:\.\d+)?$/.test(e)?e+t:e}function _removeUnit(e){var t;return e&&(t=/(\d+)/.exec(e))?parseInt(t[1],10):0}function _escape(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function _unescape(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&amp;/g,"&")}function _toCamel(e){var t=e.split("-");return e="",_each(t,function(t,n){e+=t>0?n.charAt(0).toUpperCase()+n.substr(1):n}),e}function _toHex(e){function t(e){var t=parseInt(e,10).toString(16).toUpperCase();return t.length>1?t:"0"+t}return e.replace(/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/gi,function(e,n,i,r){return"#"+t(n)+t(i)+t(r)})}function _toMap(e,t){t=t===undefined?",":t;var n,i={},r=_isArray(e)?e:e.split(t);return _each(r,function(e,t){if(n=/^(\d+)\.\.(\d+)$/.exec(t))for(var r=parseInt(n[1],10);r<=parseInt(n[2],10);r++)i[r.toString()]=!0;else i[t]=!0}),i}function _toArray(e,t){return Array.prototype.slice.call(e,t||0)}function _undef(e,t){return e===undefined?t:e}function _invalidUrl(e){return!e||/[<>"]/.test(e)}function _addParam(e,t){return e.indexOf("?")>=0?e+"&"+t:e+"?"+t}function _extend(e,t,n){n||(n=t,t=null);var i;if(t){var r=function(){};r.prototype=t.prototype,i=new r,_each(n,function(e,t){i[e]=t})}else i=n;i.constructor=e,e.prototype=i,e.parent=t?t.prototype:null}function _json(text){var match;(match=/\{[\s\S]*\}|\[[\s\S]*\]/.exec(text))&&(text=match[0]);var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;if(cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return eval("("+text+")");throw"JSON parse error"}function _getBasePath(){for(var e,t=document.getElementsByTagName("script"),n=0,i=t.length;n<i;n++)if(e=t[n].src||"",/kindeditor[\w\-\.]*\.js/.test(e))return e.substring(0,e.lastIndexOf("/")+1);return""}function _bindEvent(e,t,n){e.addEventListener?e.addEventListener(t,n,_useCapture):e.attachEvent&&e.attachEvent("on"+t,n)}function _unbindEvent(e,t,n){e.removeEventListener?e.removeEventListener(t,n,_useCapture):e.detachEvent&&e.detachEvent("on"+t,n)}function KEvent(e,t){this.init(e,t)}function _getId(e){return e[_eventExpendo]||null}function _setId(e){return e[_eventExpendo]=++_eventId,_eventId}function _removeId(e){try{delete e[_eventExpendo]}catch(t){e.removeAttribute&&e.removeAttribute(_eventExpendo)}}function _bind(e,t,n){if(t.indexOf(",")>=0)return void _each(t.split(","),function(){_bind(e,this,n)});var i=_getId(e);i||(i=_setId(e)),_eventData[i]===undefined&&(_eventData[i]={});var r=_eventData[i][t];r&&r.length>0?_unbindEvent(e,t,r[0]):(_eventData[i][t]=[],_eventData[i].el=e),r=_eventData[i][t],0===r.length&&(r[0]=function(t){var n=t?new KEvent(e,t):undefined;_each(r,function(t,i){t>0&&i&&i.call(e,n)})}),_inArray(n,r)<0&&r.push(n),_bindEvent(e,t,r[0])}function _unbind(e,t,n){if(t&&t.indexOf(",")>=0)return void _each(t.split(","),function(){_unbind(e,this,n)});var i=_getId(e);if(i){if(t===undefined)return void(i in _eventData&&(_each(_eventData[i],function(t,n){"el"!=t&&n.length>0&&_unbindEvent(e,t,n[0])}),delete _eventData[i],_removeId(e)));if(_eventData[i]){var r=_eventData[i][t];if(r&&r.length>0){n===undefined?(_unbindEvent(e,t,r[0]),delete _eventData[i][t]):(_each(r,function(e,t){e>0&&t===n&&r.splice(e,1)}),1==r.length&&(_unbindEvent(e,t,r[0]),delete _eventData[i][t]));var a=0;_each(_eventData[i],function(){a++}),a<2&&(delete _eventData[i],_removeId(e))}}}}function _fire(e,t){if(t.indexOf(",")>=0)return void _each(t.split(","),function(){_fire(e,this)});var n=_getId(e);if(n){var i=_eventData[n][t];_eventData[n]&&i&&i.length>0&&i[0]()}}function _ctrl(e,t,n){t=/^\d{2,}$/.test(t)?t:t.toUpperCase().charCodeAt(0),_bind(e,"keydown",function(i){!i.ctrlKey||i.which!=t||i.shiftKey||i.altKey||(n.call(e),i.stop())})}function _ready(e){function t(){r||(r=!0,e(KindEditor),_readyFinished=!0)}function n(){if(!r){try{document.documentElement.doScroll("left")}catch(e){return void setTimeout(n,100)}t()}}function i(){"complete"===document.readyState&&t()}if(_readyFinished)return void e(KindEditor);var r=!1;if(document.addEventListener)_bind(document,"DOMContentLoaded",t);else if(document.attachEvent){_bind(document,"readystatechange",i);var a=!1;try{a=null==window.frameElement}catch(o){}document.documentElement.doScroll&&a&&n()}_bind(window,"load",t)}function _getCssList(e){for(var t,n={},i=/\s*([\w\-]+)\s*:([^;]*)(;|$)/g;t=i.exec(e);){var r=_trim(t[1].toLowerCase()),a=_trim(_toHex(t[2]));n[r]=a}return n}function _getAttrList(e){for(var t,n={},i=/\s+(?:([\w\-:]+)|(?:([\w\-:]+)=([^\s"'<>]+))|(?:([\w\-:"]+)="([^"]*)")|(?:([\w\-:"]+)='([^']*)'))(?=(?:\s|\/|>)+)/g;t=i.exec(e);){var r=(t[1]||t[2]||t[4]||t[6]).toLowerCase(),a=(t[2]?t[3]:t[4]?t[5]:t[7])||"";n[r]=a}return n}function _addClassToTag(e,t){return e=/\s+class\s*=/.test(e)?e.replace(/(\s+class=["']?)([^"']*)(["']?[\s>])/,function(e,n,i,r){return(" "+i+" ").indexOf(" "+t+" ")<0?""===i?n+t+r:n+i+" "+t+r:e}):e.substr(0,e.length-1)+' class="'+t+'">'}function _formatCss(e){var t="";return _each(_getCssList(e),function(e,n){t+=e+":"+n+";"}),t}function _formatUrl(e,t,n,i){function r(e){for(var t=e.split("/"),n=[],i=0,r=t.length;i<r;i++){var a=t[i];".."==a?n.length>0&&n.pop():""!==a&&"."!=a&&n.push(a)}return"/"+n.join("/")}function a(t,n){if(e.substr(0,t.length)===t){for(var r=[],o=0;o<n;o++)r.push("..");var l=".";return r.length>0&&(l+="/"+r.join("/")),"/"==i&&(l+="/"),l+e.substr(t.length)}if(s=/^(.*)\//.exec(t))return a(s[1],++n)}if(t=_undef(t,"").toLowerCase(),"data:"!=e.substr(0,5)&&(e=e.replace(/([^:])\/\//g,"$1/")),_inArray(t,["absolute","relative","domain"])<0)return e;if(n=n||location.protocol+"//"+location.host,i===undefined){var o=location.pathname.match(/^(\/.*)\//);i=o?o[1]:""}var s;if(s=/^(\w+:\/\/[^\/]*)/.exec(e)){if(s[1]!==n)return e}else if(/^\w+:/.test(e))return e;return/^\//.test(e)?e=n+r(e.substr(1)):/^\w+:\/\//.test(e)||(e=n+r(i+"/"+e)),"relative"===t?e=a(n+i,0).substr(2):"absolute"===t&&e.substr(0,n.length)===n&&(e=e.substr(n.length)),e}function _formatHtml(e,t,n,i,r){null==e&&(e=""),e=e.replace(/textarea__/gi,"textarea"),n=n||"",i=_undef(i,!1),r=_undef(r,"\t");var a="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),o={},s=0;e=e.replace(/(<script\s[^>]*>)([\s\S]*?)(<\/script>)/gi,function(e,t,n,i){var r=n+"";if(r){var a="{$script__"+s+"$}";return o[a]=r,s++,t+a+i}return e}),e=e.replace(/(<(?:pre|pre\s[^>]*)>)([\s\S]*?)(<\/pre>)/gi,function(e,t,n,i){return t+n.replace(/<(?:br|br\s[^>]*)>/gi,"\n")+i}),e=e.replace(/<(?:br|br\s[^>]*)\s*\/?>\s*<\/p>/gi,"</p>"),e=e.replace(/(<(?:p|p\s[^>]*)>)\s*(<\/p>)/gi,"$1<br />$2"),e=e.replace(/\u200B/g,""),e=e.replace(/\u00A9/g,"&copy;"),e=e.replace(/\u00AE/g,"&reg;"),e=e.replace(/<[^>]+/g,function(e){return e.replace(/\s+/g," ")});var l={};t&&(_each(t,function(e,t){for(var n=e.split(","),i=0,r=n.length;i<r;i++)l[n[i]]=_toMap(t)}),l.script||(e=e.replace(/(<(?:script|script\s[^>]*)>)([\s\S]*?)(<\/script>)/gi,"")),l.style||(e=e.replace(/(<(?:style|style\s[^>]*)>)([\s\S]*?)(<\/style>)/gi,"")));var u=/(\s*)<(\/)?([\w\-:]+)((?:\s+|(?:\s+[\w\-:]+)|(?:\s+[\w\-:]+=[^\s"'<>]+)|(?:\s+[\w\-:"]+="[^"]*")|(?:\s+[\w\-:"]+='[^']*'))*)(\/)?>(\s*)/g,c=[];e=e.replace(u,function(e,o,s,u,d,h,f){var p=e,g=o||"",m=s||"",v=u.toLowerCase(),y=d||"",_=h?" "+h:"",b=f||"";if(t&&!l[v])return"";if(""===_&&_SINGLE_TAG_MAP[v]&&(_=" /"),_INLINE_TAG_MAP[v]&&(g&&(g=" "),b&&(b=" ")),_PRE_TAG_MAP[v]&&(m?b="\n":g="\n"),i&&"br"==v&&(b="\n"),_BLOCK_TAG_MAP[v]&&!_PRE_TAG_MAP[v])if(i){m&&c.length>0&&c[c.length-1]===v?c.pop():c.push(v),g="\n",b="\n";for(var x=0,w=m?c.length:c.length-1;x<w;x++)g+=r,m||(b+=r);_?c.pop():m||(b+=r)}else g=b="";if(""!==y){var k=_getAttrList(p);if("font"===v){var S={},E="";_each(k,function(e,t){"color"===e&&(S.color=t,delete k[e]),"size"===e&&(S["font-size"]=a[parseInt(t,10)-1]||"",delete k[e]),"face"===e&&(S["font-family"]=t,delete k[e]),"style"===e&&(E=t)}),E&&!/;$/.test(E)&&(E+=";"),_each(S,function(e,t){""!==t&&(/\s/.test(t)&&(t="'"+t+"'"),E+=e+":"+t+";")}),k.style=E}_each(k,function(e,i){if(_FILL_ATTR_MAP[e]&&(k[e]=e),_inArray(e,["src","href"])>=0&&(k[e]=_formatUrl(i,n)),(t&&"style"!==e&&!l[v]["*"]&&!l[v][e]||"body"===v&&"contenteditable"===e||/^kindeditor_\d+$/.test(e))&&delete k[e],"style"===e&&""!==i){var r=_getCssList(i);_each(r,function(e,n){!t||l[v].style||l[v]["."+e]||delete r[e]});var a="";_each(r,function(e,t){a+=e+":"+t+";"}),k.style=a}}),y="",_each(k,function(e,t){"style"===e&&""===t||(t=t.replace(/"/g,"&quot;"),y+=" "+e+'="'+t+'"')})}return"font"===v&&(v="span"),g+"<"+m+v+y+_+">"+b}),e=e.replace(/(<(?:pre|pre\s[^>]*)>)([\s\S]*?)(<\/pre>)/gi,function(e,t,n,i){return t+n.replace(/\n/g,'<span id="__kindeditor_pre_newline__">\n')+i}),e=e.replace(/\n\s*\n/g,"\n"),e=e.replace(/<span id="__kindeditor_pre_newline__">\n/g,"\n");for(var d in o)e=e.replace(d,o[d]);return _trim(e)}function _clearMsWord(e,t){return e=e.replace(/<meta[\s\S]*?>/gi,"").replace(/<![\s\S]*?>/gi,"").replace(/<style[^>]*>[\s\S]*?<\/style>/gi,"").replace(/<script[^>]*>[\s\S]*?<\/script>/gi,"").replace(/<w:[^>]+>[\s\S]*?<\/w:[^>]+>/gi,"").replace(/<o:[^>]+>[\s\S]*?<\/o:[^>]+>/gi,"").replace(/<xml>[\s\S]*?<\/xml>/gi,"").replace(/<(?:table|td)[^>]*>/gi,function(e){return e.replace(/border-bottom:([#\w\s]+)/gi,"border:$1")}),_formatHtml(e,t)}function _mediaType(e){return/\.(rm|rmvb)(\?|$)/i.test(e)?"audio/x-pn-realaudio-plugin":/\.(swf|flv)(\?|$)/i.test(e)?"application/x-shockwave-flash":"video/x-ms-asf-plugin"}function _mediaClass(e){return/realaudio/i.test(e)?"ke-rm":/flash/i.test(e)?"ke-flash":"ke-media"}function _mediaAttrs(e){return _getAttrList(unescape(e))}function _mediaEmbed(e){var t="<embed ";return _each(e,function(e,n){t+=e+'="'+n+'" '}),t+="/>"}function _mediaImg(e,t){var n=t.width,i=t.height,r=t.type||_mediaType(t.src),a=_mediaEmbed(t),o="";/\D/.test(n)?o+="width:"+n+";":n>0&&(o+="width:"+n+"px;"),/\D/.test(i)?o+="height:"+i+";":i>0&&(o+="height:"+i+"px;");var s='<img class="'+_mediaClass(r)+'" src="'+e+'" ';return""!==o&&(s+='style="'+o+'" '),s+='data-ke-tag="'+escape(a)+'" alt="" />'}function _tmpl(e,t){var n=new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return t?n(t):n}function _contains(e,t){if(9==e.nodeType&&9!=t.nodeType)return!0;for(;t=t.parentNode;)if(t==e)return!0;return!1}function _getAttr(e,t){t=t.toLowerCase();var n=null;if(_GET_SET_ATTRIBUTE||"script"==e.nodeName.toLowerCase())try{n=e.getAttribute(t,2)}catch(i){n=e.getAttribute(t,1)}else{var r=e.ownerDocument.createElement("div");r.appendChild(e.cloneNode(!1));var a=_getAttrList(_unescape(r.innerHTML));t in a&&(n=a[t])}return"style"===t&&null!==n&&(n=_formatCss(n)),n}function _queryAll(e,t){function n(e){return"string"!=typeof e?e:e.replace(/([^\w\-])/g,"\\$1")}function i(e){return e.replace(/\\/g,"")}function r(e,t){return"*"===e||e.toLowerCase()===n(t.toLowerCase())}function a(e,t,n){var a=[],o=n.ownerDocument||n,s=o.getElementById(i(e));return s&&r(t,s.nodeName)&&_contains(n,s)&&a.push(s),a}function o(e,t,n){var a,o,s,l,u=n.ownerDocument||n,c=[];if(n.getElementsByClassName)for(a=n.getElementsByClassName(i(e)),o=0,s=a.length;o<s;o++)l=a[o],r(t,l.nodeName)&&c.push(l);else if(u.querySelectorAll)for(a=u.querySelectorAll(("#document"!==n.nodeName?n.nodeName+" ":"")+t+"."+e),o=0,s=a.length;o<s;o++)l=a[o],_contains(n,l)&&c.push(l);else for(a=n.getElementsByTagName(t),e=" "+e+" ",o=0,s=a.length;o<s;o++)if(l=a[o],1==l.nodeType){var d=l.className;d&&(" "+d+" ").indexOf(e)>-1&&c.push(l)}return c}function s(e,t,n){for(var a,o=[],s=n.ownerDocument||n,l=s.getElementsByName(i(e)),u=0,c=l.length;u<c;u++)a=l[u],r(t,a.nodeName)&&_contains(n,a)&&null!==a.getAttribute("name")&&o.push(a);return o}function l(e,t,i,r){for(var a,o=[],s=r.getElementsByTagName(i),l=0,u=s.length;l<u;l++)a=s[l],1==a.nodeType&&(null===t?null!==_getAttr(a,e)&&o.push(a):t===n(_getAttr(a,e))&&o.push(a));return o}function u(e,t){var n,i=[];n=/^((?:\\.|[^.#\s\[<>])+)/.exec(e);var r=n?n[1]:"*";if(n=/#((?:[\w\-]|\\.)+)$/.exec(e))i=a(n[1],r,t);else if(n=/\.((?:[\w\-]|\\.)+)$/.exec(e))i=o(n[1],r,t);else if(n=/\[((?:[\w\-]|\\.)+)\]/.exec(e))i=l(n[1].toLowerCase(),null,r,t);else if(n=/\[((?:[\w\-]|\\.)+)\s*=\s*['"]?((?:\\.|[^'"]+)+)['"]?\]/.exec(e)){var u=n[1].toLowerCase(),c=n[2];i="id"===u?a(c,r,t):"class"===u?o(c,r,t):"name"===u?s(c,r,t):l(u,c,r,t)}else for(var d,h=t.getElementsByTagName(r),f=0,p=h.length;f<p;f++)d=h[f],1==d.nodeType&&i.push(d);return i}var c=e.split(",");if(c.length>1){var d=[];return _each(c,function(){_each(_queryAll(this,t),function(){_inArray(this,d)<0&&d.push(this)})}),d}t=t||document;for(var h,f=[],p=/((?:\\.|[^\s>])+|[\s>])/g;h=p.exec(e);)" "!==h[1]&&f.push(h[1]);var g=[];if(1==f.length)return u(f[0],t);var m,v,y,_,b,x,w,k,S,E,T=!1;for(x=0,lenth=f.length;x<lenth;x++)if(m=f[x],">"!==m){if(x>0){for(v=[],w=0,S=g.length;w<S;w++)for(_=g[w],y=u(m,_),k=0,E=y.length;k<E;k++)b=y[k],T?_===b.parentNode&&v.push(b):v.push(b);g=v}else g=u(m,t);if(0===g.length)return[]}else T=!0;return g}function _query(e,t){var n=_queryAll(e,t);return n.length>0?n[0]:null}function _get(e){return K(e)[0]}function _getDoc(e){return e?e.ownerDocument||e.document||e:document}function _getWin(e){if(!e)return window;var t=_getDoc(e);return t.parentWindow||t.defaultView}function _setHtml(e,t){if(1==e.nodeType){var n=_getDoc(e);try{e.innerHTML='<img id="__kindeditor_temp_tag__" width="0" height="0" style="display:none;" />'+t;var i=n.getElementById("__kindeditor_temp_tag__");i.parentNode.removeChild(i)}catch(r){K(e).empty(),K("@"+t,n).each(function(){e.appendChild(this)})}}}function _hasClass(e,t){return _inString(t,e.className," ")}function _setAttr(e,t,n){_IE&&_V<8&&"class"==t.toLowerCase()&&(t="className"),e.setAttribute(t,""+n)}function _removeAttr(e,t){_IE&&_V<8&&"class"==t.toLowerCase()&&(t="className"),_setAttr(e,t,""),e.removeAttribute(t)}function _getNodeName(e){return e&&e.nodeName?e.nodeName.toLowerCase():""}function _computedCss(e,t){var n=_getWin(e),i=_toCamel(t),r="";if(n.getComputedStyle){var a=n.getComputedStyle(e,null);r=a[i]||a.getPropertyValue(t)||e.style[i]}else e.currentStyle&&(r=e.currentStyle[i]||e.style[i]);return r}function _hasVal(e){return!!_VALUE_TAG_MAP[_getNodeName(e)]}function _docElement(e){return e=e||document,_QUIRKS?e.body:e.documentElement}function _docHeight(e){var t=_docElement(e);return Math.max(t.scrollHeight,t.clientHeight)}function _docWidth(e){var t=_docElement(e);return Math.max(t.scrollWidth,t.clientWidth)}function _getScrollPos(e){e=e||document;var t,n;return _IE||_NEWIE||_OPERA?(t=_docElement(e).scrollLeft,n=_docElement(e).scrollTop):(t=_getWin(e).scrollX,n=_getWin(e).scrollY),{x:t,y:n}}function KNode(e){this.init(e)}function _updateCollapsed(e){return e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e}function _copyAndDelete(e,t,n){function i(i,r,a){var o,l=i.nodeValue.length;if(t){var u=i.cloneNode(!0);o=r>0?u.splitText(r):u,a<l&&o.splitText(a-r)}if(n){var c=i;if(r>0&&(c=i.splitText(r),e.setStart(i,r)),a<l){var d=c.splitText(a-r);e.setEnd(d,0)}s.push(c)}return o}function r(){n&&e.up().collapse(!0);for(var t=0,i=s.length;t<i;t++){var r=s[t];r.parentNode&&r.parentNode.removeChild(r)}}function a(r,f){for(var p,g=r.firstChild;g;){var m=new KRange(o).selectNode(g);if(u=m.compareBoundaryPoints(_START_TO_END,e),u>=0&&c<=0&&(c=m.compareBoundaryPoints(_START_TO_START,e)),c>=0&&d<=0&&(d=m.compareBoundaryPoints(_END_TO_END,e)),d>=0&&h<=0&&(h=m.compareBoundaryPoints(_END_TO_START,e)),h>=0)return!1;if(p=g.nextSibling,u>0)if(1==g.nodeType)if(c>=0&&d<=0)t&&f.appendChild(g.cloneNode(!0)),n&&s.push(g);else{var v;if(t&&(v=g.cloneNode(!1),f.appendChild(v)),a(g,v)===!1)return!1}else if(3==g.nodeType){var y;if(y=g==l.startContainer?i(g,l.startOffset,g.nodeValue.length):g==l.endContainer?i(g,0,l.endOffset):i(g,0,g.nodeValue.length),t)try{f.appendChild(y)}catch(_){}}g=p}}var o=e.doc,s=[],l=e.cloneRange().down(),u=-1,c=-1,d=-1,h=-1,f=e.commonAncestor(),p=o.createDocumentFragment();if(3==f.nodeType){var g=i(f,e.startOffset,e.endOffset);return t&&p.appendChild(g),r(),t?p:e}a(f,p),n&&e.up().collapse(!0);for(var m=0,v=s.length;m<v;m++){var y=s[m];y.parentNode&&y.parentNode.removeChild(y)}return t?p:e}function _moveToElementText(e,t){for(var n=t;n;){var i=K(n);if("marquee"==i.name||"select"==i.name)return;n=n.parentNode}try{e.moveToElementText(t)}catch(r){}}function _getStartEnd(e,t){var n=e.parentElement().ownerDocument,i=e.duplicate();i.collapse(t);var r=i.parentElement(),a=r.childNodes;if(0===a.length)return{node:r.parentNode,offset:K(r).index()};var o=n,s=0,l=-1,u=e.duplicate();_moveToElementText(u,r);for(var c=0,d=a.length;c<d;c++){var h=a[c];if(l=u.compareEndPoints("StartToStart",i),0===l)return{node:h.parentNode,offset:c};if(1==h.nodeType){var f,p=e.duplicate(),g=K(h),m=h;g.isControl()&&(f=n.createElement("span"),g.after(f),m=f,s+=g.text().replace(/\r\n|\n|\r/g,"").length),_moveToElementText(p,m),u.setEndPoint("StartToEnd",p),l>0?s+=p.text.replace(/\r\n|\n|\r/g,"").length:s=0,f&&K(f).remove()}else 3==h.nodeType&&(u.moveStart("character",h.nodeValue.length),s+=h.nodeValue.length);l<0&&(o=h)}if(l<0&&1==o.nodeType)return{node:r,offset:K(r.lastChild).index()+1};if(l>0)for(;o.nextSibling&&1==o.nodeType;)o=o.nextSibling;if(u=e.duplicate(),_moveToElementText(u,r),u.setEndPoint("StartToEnd",i),s-=u.text.replace(/\r\n|\n|\r/g,"").length,l>0&&3==o.nodeType)for(var v=o.previousSibling;v&&3==v.nodeType;)s-=v.nodeValue.length,v=v.previousSibling;return{node:o,offset:s}}function _getEndRange(e,t){var n=e.ownerDocument||e,i=n.body.createTextRange();if(n==e)return i.collapse(!0),i;if(1==e.nodeType&&e.childNodes.length>0){var r,a,o=e.childNodes;if(0===t?(a=o[0],r=!0):(a=o[t-1],r=!1),!a)return i;if("head"===K(a).name)return 1===t&&(r=!0),2===t&&(r=!1),i.collapse(r),i;if(1==a.nodeType){var s,l=K(a);return l.isControl()&&(s=n.createElement("span"),r?l.before(s):l.after(s),a=s),_moveToElementText(i,a),i.collapse(r),s&&K(s).remove(),i}e=a,t=r?0:a.nodeValue.length}var u=n.createElement("span");return K(e).before(u),_moveToElementText(i,u),i.moveStart("character",t),K(u).remove(),i}function _toRange(e){function t(e){"tr"==K(e.node).name&&(e.node=e.node.cells[e.offset],e.offset=0)}var n,i;if(_IERANGE){if(e.item)return n=_getDoc(e.item(0)),i=new KRange(n),i.selectNode(e.item(0)),i;n=e.parentElement().ownerDocument;var r=_getStartEnd(e,!0),a=_getStartEnd(e,!1);return t(r),t(a),i=new KRange(n),i.setStart(r.node,r.offset),i.setEnd(a.node,a.offset),i}var o=e.startContainer;return n=o.ownerDocument||o,i=new KRange(n),i.setStart(o,e.startOffset),i.setEnd(e.endContainer,e.endOffset),i}function KRange(e){this.init(e)}function _range(e){return e.nodeName?new KRange(e):e.constructor===KRange?e:_toRange(e)}function _nativeCommand(e,t,n){try{e.execCommand(t,!1,n)}catch(i){}}function _nativeCommandValue(e,t){var n="";try{n=e.queryCommandValue(t)}catch(i){}return"string"!=typeof n&&(n=""),n}function _getSel(e){var t=_getWin(e);return _IERANGE?e.selection:t.getSelection()}function _getRng(e){var t,n=_getSel(e);try{t=n.rangeCount>0?n.getRangeAt(0):n.createRange()}catch(i){}return!_IERANGE||t&&(t.item||t.parentElement().ownerDocument===e)?t:null}function _singleKeyMap(e){var t,n,i={};return _each(e,function(e,r){t=e.split(",");for(var a=0,o=t.length;a<o;a++)n=t[a],i[n]=r}),i}function _hasAttrOrCss(e,t){return _hasAttrOrCssByKey(e,t,"*")||_hasAttrOrCssByKey(e,t)}function _hasAttrOrCssByKey(e,t,n){if(n=n||e.name,1!==e.type)return!1;var i=_singleKeyMap(t);if(!i[n])return!1;for(var r=i[n].split(","),a=0,o=r.length;a<o;a++){var s=r[a];if("*"===s)return!0;var l=/^(\.?)([^=]+)(?:=([^=]*))?$/.exec(s),u=l[1]?"css":"attr";s=l[2];var c=l[3]||"";if(""===c&&""!==e[u](s))return!0;if(""!==c&&e[u](s)===c)return!0}return!1}function _removeAttrOrCss(e,t){1==e.type&&(_removeAttrOrCssByKey(e,t,"*"),_removeAttrOrCssByKey(e,t))}function _removeAttrOrCssByKey(e,t,n){if(n=n||e.name,1===e.type){var i=_singleKeyMap(t);if(i[n]){for(var r=i[n].split(","),a=!1,o=0,s=r.length;o<s;o++){var l=r[o];if("*"===l){a=!0;break}var u=/^(\.?)([^=]+)(?:=([^=]*))?$/.exec(l);l=u[2],u[1]?(l=_toCamel(l),e[0].style[l]&&(e[0].style[l]="")):e.removeAttr(l)}a&&e.remove(!0)}}}function _getInnerNode(e){for(var t=e;t.first();)t=t.first();return t}function _isEmptyNode(e){return 1==e.type&&!e.isSingle()&&""===e.html().replace(/<[^>]+>/g,"")}function _mergeWrapper(e,t){e=e.clone(!0);for(var n=_getInnerNode(e),i=e,r=!1;t;){for(;i;)i.name===t.name&&(_mergeAttrs(i,t.attr(),t.css()),r=!0),i=i.first();r||n.append(t.clone(!1)),r=!1,t=t.first()}return e}function _wrapNode(e,t){if(t=t.clone(!0),3==e.type)return _getInnerNode(t).append(e.clone(!1)),e.replaceWith(t),t;for(var n,i=e;(n=e.first())&&1==n.children().length;)e=n;n=e.first();for(var r=e.doc.createDocumentFragment();n;)r.appendChild(n[0]),n=n.next();return t=_mergeWrapper(i,t),r.firstChild&&_getInnerNode(t).append(r),i.replaceWith(t),t}function _mergeAttrs(e,t,n){_each(t,function(t,n){"style"!==t&&e.attr(t,n)}),_each(n,function(t,n){e.css(t,n)})}function _inPreElement(e){for(;e&&"body"!=e.name;){if(_PRE_TAG_MAP[e.name]||"div"==e.name&&e.hasClass("ke-script"))return!0;e=e.parent()}return!1}function KCmd(e){this.init(e)}function _cmd(e){if(e.nodeName){var t=_getDoc(e);e=_range(t).selectNodeContents(t.body).collapse(!1)}return new KCmd(e)}function _drag(e){var t=e.moveEl,n=e.moveFn,i=e.clickEl||t,r=e.beforeDrag,a=e.iframeFix===undefined||e.iframeFix,o=[document];a&&K("iframe").each(function(){var e=_formatUrl(this.src||"","absolute");if(!/^https?:\/\//.test(e)){var t;try{t=_iframeDoc(this)}catch(n){}if(t){var i=K(this).pos();K(t).data("pos-x",i.x),K(t).data("pos-y",i.y),o.push(t)}}}),i.mousedown(function(e){function a(e){e.preventDefault();var t=K(_getDoc(e.target)),r=_round((t.data("pos-x")||0)+e.pageX-p),a=_round((t.data("pos-y")||0)+e.pageY-g);n.call(i,c,d,h,f,r,a)}function s(e){e.preventDefault()}function l(e){e.preventDefault(),K(o).unbind("mousemove",a).unbind("mouseup",l).unbind("selectstart",s),u.releaseCapture&&u.releaseCapture()}if(0===e.button||1===e.button){e.stopPropagation();var u=i.get(),c=_removeUnit(t.css("left")),d=_removeUnit(t.css("top")),h=t.width(),f=t.height(),p=e.pageX,g=e.pageY;r&&r(),K(o).mousemove(a).mouseup(l).bind("selectstart",s),u.setCapture&&u.setCapture()}})}function KWidget(e){this.init(e)}function _widget(e){return new KWidget(e)}function _iframeDoc(e){return e=_get(e),e.contentDocument||e.contentWindow.document}function _getInitHtml(e,t,n,i){var r=[""===_direction?"<html>":'<html dir="'+_direction+'">','<head><meta charset="utf-8" /><title></title>','<base href="'+globals.cmsImagePath+'">',"<style>","noscript {display:none;}","table.ke-zeroborder td {border:1px dotted #AAA;}","img.ke-flash {","\tborder:1px solid #AAA;","\tbackground-image:url("+e+"common/flash.gif);","\tbackground-position:center center;","\tbackground-repeat:no-repeat;","\twidth:100px;","\theight:100px;","}","img.ke-rm {","\tborder:1px solid #AAA;","\tbackground-image:url("+e+"common/rm.gif);","\tbackground-position:center center;","\tbackground-repeat:no-repeat;","\twidth:100px;","\theight:100px;","}","img.ke-media {","\tborder:1px solid #AAA;","\tbackground-image:url("+e+"common/media.gif);","\tbackground-position:center center;","\tbackground-repeat:no-repeat;","\twidth:100px;","\theight:100px;","}","img.ke-anchor {","\tborder:1px dashed #666;","\twidth:16px;","\theight:16px;","}",".ke-script, .ke-noscript, .ke-display-none {","\tdisplay:none;","\tfont-size:0;","\twidth:0;","\theight:0;","}",".ke-pagebreak {","\tborder:1px dotted #AAA;","\tfont-size:0;","\theight:2px;","}","</style>"];return _isArray(n)||(n=[n]),_each(n,function(e,t){t&&r.push('<link href="'+t+'" rel="stylesheet" />')}),i&&r.push("<style>"+i+"</style>"),r.push("</head><body "+(t?'class="'+t+'"':"")+"></body></html>"),r.join("\n")}function _elementVal(e,t){if(e.hasVal()){if(t===undefined){var n=e.val();return n=n.replace(/(<(?:p|p\s[^>]*)>) *(<\/p>)/gi,"")}return e.val(t)}return e.html(t)}function KEdit(e){this.init(e)}function _edit(e){return new KEdit(e)}function _selectToolbar(e,t){var n=this,i=n.get(e);if(i){if(i.hasClass("ke-disabled"))return;t(i)}}function KToolbar(e){this.init(e)}function _toolbar(e){return new KToolbar(e)}function KMenu(e){this.init(e)}function _menu(e){return new KMenu(e)}function KColorPicker(e){this.init(e)}function _colorpicker(e){return new KColorPicker(e)}function KUploadButton(e){this.init(e)}function _uploadbutton(e){return new KUploadButton(e)}function _createButton(e){e=e||{};var t=e.name||"",n=K('<span class="ke-button-common ke-button-outer" title="'+t+'"></span>'),i=K('<input class="ke-button-common ke-button" type="button" value="'+t+'" />');return e.click&&i.click(e.click),n.append(i),n}function KDialog(e){this.init(e)}function _dialog(e){return new KDialog(e)}function _tabs(e){var t=_widget(e),n=t.remove,i=e.afterSelect,r=t.div,a=[];r.addClass("ke-tabs").bind("contextmenu,mousedown,mousemove",function(e){e.preventDefault()});var o=K('<ul class="ke-tabs-ul ke-clearfix"></ul>');return r.append(o),t.add=function(e){var t=K('<li class="ke-tabs-li">'+e.title+"</li>");t.data("tab",e),a.push(t),o.append(t)},t.selectedIndex=0,t.select=function(e){t.selectedIndex=e,_each(a,function(n,i){i.unbind(),n===e?(i.addClass("ke-tabs-li-selected"),K(i.data("tab").panel).show("")):(i.removeClass("ke-tabs-li-selected").removeClass("ke-tabs-li-on").mouseover(function(){K(this).addClass("ke-tabs-li-on")}).mouseout(function(){K(this).removeClass("ke-tabs-li-on")}).click(function(){t.select(n)}),K(i.data("tab").panel).hide())}),i&&i.call(t,e)},t.remove=function(){_each(a,function(){this.remove()}),o.remove(),n.call(t)},t}function _loadScript(e,t){var n=document.getElementsByTagName("head")[0]||(_QUIRKS?document.body:document.documentElement),i=document.createElement("script");n.appendChild(i),i.src=e,i.charset="utf-8",i.onload=i.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState||(t&&t(),i.onload=i.onreadystatechange=null,n.removeChild(i))}}function _chopQuery(e){var t=e.indexOf("?");return t>0?e.substr(0,t):e}function _loadStyle(e){for(var t=document.getElementsByTagName("head")[0]||(_QUIRKS?document.body:document.documentElement),n=document.createElement("link"),i=_chopQuery(_formatUrl(e,"absolute")),r=K('link[rel="stylesheet"]',t),a=0,o=r.length;a<o;a++)if(_chopQuery(_formatUrl(r[a].href,"absolute"))===i)return;t.appendChild(n),n.href=e,n.rel="stylesheet"}function _ajax(e,t,n,i,r){n=n||"GET",r=r||"json";var a=window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");if(a.open(n,e,!0),a.onreadystatechange=function(){if(4==a.readyState&&200==a.status&&t){var e=_trim(a.responseText);"json"==r&&(e=_json(e)),t(e)}},"POST"==n){var o=[];_each(i,function(e,t){o.push(encodeURIComponent(e)+"="+encodeURIComponent(t))});try{a.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}catch(s){}a.send(o.join("&"))}else a.send(null)}function _plugin(e,t){return e===undefined?_plugins:t?void(_plugins[e]=t):_plugins[e]}function _parseLangKey(e){var t,n="core";return(t=/^(\w+)\.(\w+)$/.exec(e))&&(n=t[1],e=t[2]),{ns:n,key:e}}function _lang(e,t){if(t=t===undefined?K.options.langType:t,"string"==typeof e){if(!_language[t])return"no language";var n=e.length-1;if("."===e.substr(n))return _language[t][e.substr(0,n)];var i=_parseLangKey(e);return _language[t][i.ns][i.key]}_each(e,function(e,n){var i=_parseLangKey(e);_language[t]||(_language[t]={}),_language[t][i.ns]||(_language[t][i.ns]={}),_language[t][i.ns][i.key]=n})}function _getImageFromRange(e,t){if(!e.collapsed){e=e.cloneRange().up();var n=e.startContainer,i=e.startOffset;if(_WEBKIT||e.isControl()){var r=K(n.childNodes[i]);
if(r&&"img"==r.name)return t(r)?r:void 0}}}function _bindContextmenuEvent(){var e=this,t=e.edit.doc;K(t).contextmenu(function(t){if(e.menu&&e.hideMenu(),!e.useContextmenu)return void t.preventDefault();if(0!==e._contextmenus.length){var n=0,i=[];for(_each(e._contextmenus,function(){return"-"==this.title?void i.push(this):void(this.cond&&this.cond()&&(i.push(this),this.width&&this.width>n&&(n=this.width)))});i.length>0&&"-"==i[0].title;)i.shift();for(;i.length>0&&"-"==i[i.length-1].title;)i.pop();var r=null;if(_each(i,function(e){"-"==this.title&&"-"==r.title&&delete i[e],r=this}),i.length>0){t.preventDefault();var a=K(e.edit.iframe).pos(),o=_menu({x:a.x+t.clientX,y:a.y+t.clientY,width:n,css:{visibility:"hidden"},shadowMode:e.shadowMode});_each(i,function(){this.title&&o.addItem(this)});var s=_docElement(o.doc),l=o.div.height();t.clientY+l>=s.clientHeight-100&&o.pos(o.x,_removeUnit(o.y)-l),o.div.css("visibility","visible"),e.menu=o}}})}function _bindNewlineEvent(){function e(e){for(var t=K(e.commonAncestor());t&&(1!=t.type||t.isStyle());)t=t.parent();return t.name}var t=this,n=t.edit.doc,i=t.newlineTag;if(!(_IE&&"br"!==i||_GECKO&&_V<3&&"p"!==i||_OPERA&&_V<9)){var r=_toMap("h1,h2,h3,h4,h5,h6,pre,li"),a=_toMap("p,h1,h2,h3,h4,h5,h6,pre,li,blockquote");K(n).keydown(function(o){if(!(13!=o.which||o.shiftKey||o.ctrlKey||o.altKey)){t.cmd.selection();var s=e(t.cmd.range);if("marquee"!=s&&"select"!=s)return"br"!==i||r[s]?void(a[s]||_nativeCommand(n,"formatblock","<p>")):(o.preventDefault(),void t.insertHtml("<br />"+(_IE&&_V<9?"":"​")))}}),K(n).keyup(function(r){if(!(13!=r.which||r.shiftKey||r.ctrlKey||r.altKey)&&"br"!=i){if(_GECKO){var o=t.cmd.commonAncestor("p"),s=t.cmd.commonAncestor("a");return void(s&&""==s.text()&&(s.remove(!0),t.cmd.range.selectNodeContents(o[0]).collapse(!0),t.cmd.select()))}t.cmd.selection();var l=e(t.cmd.range);if("marquee"!=l&&"select"!=l){a[l]||_nativeCommand(n,"formatblock","<p>");var u=t.cmd.commonAncestor("div");if(u){for(var c=K("<p></p>"),d=u[0].firstChild;d;){var h=d.nextSibling;c.append(d),d=h}u.before(c),u.remove(),t.cmd.range.selectNodeContents(c[0]),t.cmd.select()}}}})}}function _bindTabEvent(){var e=this,t=e.edit.doc;K(t).keydown(function(n){if(9==n.which){if(n.preventDefault(),e.afterTab)return void e.afterTab.call(e,n);var i=e.cmd,r=i.range;r.shrink(),r.collapsed&&1==r.startContainer.nodeType&&(r.insertNode(K("@&nbsp;",t)[0]),i.select()),e.insertHtml("&nbsp;&nbsp;&nbsp;&nbsp;")}})}function _bindFocusEvent(){var e=this;K(e.edit.textarea[0],e.edit.win).focus(function(t){e.afterFocus&&e.afterFocus.call(e,t)}).blur(function(t){e.afterBlur&&e.afterBlur.call(e,t)})}function _removeBookmarkTag(e){return _trim(e.replace(/<span [^>]*id="?__kindeditor_bookmark_\w+_\d+__"?[^>]*><\/span>/gi,""))}function _removeTempTag(e){return e.replace(/<div[^>]+class="?__kindeditor_paste__"?[^>]*>[\s\S]*?<\/div>/gi,"")}function _addBookmarkToStack(e,t){if(0===e.length)return void e.push(t);var n=e[e.length-1];_removeBookmarkTag(t.html)!==_removeBookmarkTag(n.html)&&e.push(t)}function _undoToRedo(e,t){var n,i,r=this,a=r.edit,o=a.doc.body;if(0===e.length)return r;a.designMode?(n=r.cmd.range,i=n.createBookmark(!0),i.html=o.innerHTML):i={html:o.innerHTML},_addBookmarkToStack(t,i);var s=e.pop();return _removeBookmarkTag(i.html)===_removeBookmarkTag(s.html)&&e.length>0&&(s=e.pop()),a.designMode?(a.html(s.html),s.start&&(n.moveToBookmark(s),r.select())):K(o).html(_removeBookmarkTag(s.html)),r}function KEditor(e){function t(e,t){KEditor.prototype[e]===undefined&&(n[e]=t),n.options[e]=t}var n=this;n.options={},_each(e,function(n,i){t(n,e[n])}),_each(K.options,function(e,i){n[e]===undefined&&t(e,i)});var i=K(n.srcElement||"<textarea/>");n.width||(n.width=i[0].style.width||i.width()),n.height||(n.height=i[0].style.height||i.height()),t("width",_undef(n.width,n.minWidth)),t("height",_undef(n.height,n.minHeight)),t("width",_addUnit(n.width)),t("height",_addUnit(n.height)),_MOBILE&&(!_IOS||_V<534)&&(n.designMode=!1),n.srcElement=i,n.initContent="",n.plugin={},n.isCreated=!1,n._handlers={},n._contextmenus=[],n._undoStack=[],n._redoStack=[],n._firstAddBookmark=!0,n.menu=n.contextmenu=null,n.dialogs=[]}function _editor(e){return new KEditor(e)}function _create(e,t){function n(e){return _each(_plugins,function(t,n){_isFunction(n)&&(n.call(e,KindEditor),e._pluginStatus||(e._pluginStatus={}),e._pluginStatus[t]="inited")}),e.create()}if(t=t||{},t.basePath=_undef(t.basePath,K.basePath),t.themesPath=_undef(t.themesPath,t.basePath+"themes/"),t.langPath=_undef(t.langPath,t.basePath+"lang/"),t.pluginsPath=_undef(t.pluginsPath,t.basePath+"plugins/"),_undef(t.loadStyleMode,K.options.loadStyleMode)){var i=_undef(t.themeType,K.options.themeType);_loadStyle(t.themesPath+"default/default.css"),_loadStyle(t.themesPath+i+"/"+i+".css")}var r=K(e);if(r&&0!==r.length){if(r.length>1)return r.each(function(){_create(this,t)}),_instances[0];t.srcElement=r[0];var a=new KEditor(t);return _instances.push(a),_language[a.langType]?n(a):(_loadScript(a.langPath+a.langType+".js?ver="+encodeURIComponent(K.DEBUG?_TIME:_VERSION),function(){n(a)}),a)}}function _eachEditor(e,t){K(e).each(function(e,n){K.each(_instances,function(e,i){if(i&&i.srcElement[0]==n)return t.call(i,e),!1})})}if(!window.KindEditor){window.console||(window.console={}),console.log||(console.log=function(){});var _VERSION="4.1.11 (2015-09-12)",_ua=navigator.userAgent.toLowerCase(),_IE=_ua.indexOf("msie")>-1&&_ua.indexOf("opera")==-1,_NEWIE=_ua.indexOf("msie")==-1&&_ua.indexOf("trident")>-1,_GECKO=_ua.indexOf("gecko")>-1&&_ua.indexOf("khtml")==-1,_WEBKIT=_ua.indexOf("applewebkit")>-1,_OPERA=_ua.indexOf("opera")>-1,_MOBILE=_ua.indexOf("mobile")>-1,_IOS=/ipad|iphone|ipod/.test(_ua),_QUIRKS="CSS1Compat"!=document.compatMode,_IERANGE=!window.getSelection,_matches=/(?:msie|firefox|webkit|opera)[\/:\s](\d+)/.exec(_ua),_V=_matches?_matches[1]:"0",_TIME=(new Date).getTime(),_round=Math.round,K={DEBUG:!1,VERSION:_VERSION,IE:_IE,GECKO:_GECKO,WEBKIT:_WEBKIT,OPERA:_OPERA,V:_V,TIME:_TIME,each:_each,isArray:_isArray,isFunction:_isFunction,inArray:_inArray,inString:_inString,trim:_trim,addUnit:_addUnit,removeUnit:_removeUnit,escape:_escape,unescape:_unescape,toCamel:_toCamel,toHex:_toHex,toMap:_toMap,toArray:_toArray,undef:_undef,invalidUrl:_invalidUrl,addParam:_addParam,extend:_extend,json:_json},_INLINE_TAG_MAP=_toMap("a,abbr,acronym,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,img,input,ins,kbd,label,map,q,s,samp,select,small,span,strike,strong,sub,sup,textarea,tt,u,var"),_BLOCK_TAG_MAP=_toMap("address,applet,blockquote,body,center,dd,dir,div,dl,dt,fieldset,form,frameset,h1,h2,h3,h4,h5,h6,head,hr,html,iframe,ins,isindex,li,map,menu,meta,noframes,noscript,object,ol,p,pre,script,style,table,tbody,td,tfoot,th,thead,title,tr,ul"),_SINGLE_TAG_MAP=_toMap("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed"),_STYLE_TAG_MAP=_toMap("b,basefont,big,del,em,font,i,s,small,span,strike,strong,sub,sup,u"),_CONTROL_TAG_MAP=_toMap("img,table,input,textarea,button"),_PRE_TAG_MAP=_toMap("pre,style,script"),_NOSPLIT_TAG_MAP=_toMap("html,head,body,td,tr,table,ol,ul,li"),_AUTOCLOSE_TAG_MAP=_toMap("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr"),_FILL_ATTR_MAP=_toMap("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected"),_VALUE_TAG_MAP=_toMap("input,button,textarea,select");K.basePath=_getBasePath(),K.options={designMode:!0,fullscreenMode:!1,filterMode:!0,wellFormatMode:!0,shadowMode:!0,loadStyleMode:!0,basePath:K.basePath,themesPath:K.basePath+"themes/",langPath:K.basePath+"lang/",pluginsPath:K.basePath+"plugins/",themeType:"default",langType:"zh-CN",urlType:"",newlineTag:"p",resizeType:2,syncType:"form",pasteType:2,dialogAlignType:"page",useContextmenu:!0,fullscreenShortcut:!1,bodyClass:"ke-content",indentChar:"\t",cssPath:"",cssData:"",minWidth:650,minHeight:100,minChangeSize:50,zIndex:811213,items:["source","|","undo","redo","|","preview","print","template","code","cut","copy","paste","plainpaste","wordpaste","|","justifyleft","justifycenter","justifyright","justifyfull","insertorderedlist","insertunorderedlist","indent","outdent","subscript","superscript","clearhtml","quickformat","selectall","|","fullscreen","/","formatblock","fontname","fontsize","|","forecolor","hilitecolor","bold","italic","underline","strikethrough","lineheight","removeformat","|","image","multiimage","flash","media","insertfile","table","hr","emoticons","baidumap","pagebreak","anchor","link","unlink","|","about"],noDisableItems:["source","fullscreen"],colorTable:[["#E53333","#E56600","#FF9900","#64451D","#DFC5A4","#FFE500"],["#009900","#006600","#99BB00","#B8D100","#60D978","#00D5FF"],["#337FE5","#003399","#4C33E5","#9933E5","#CC33E5","#EE33EE"],["#FFFFFF","#CCCCCC","#999999","#666666","#333333","#000000"]],fontSizeTable:["9px","10px","12px","14px","16px","18px","24px","32px"],htmlTags:{font:["id","class","color","size","face",".background-color"],span:["id","class",".color",".background-color",".font-size",".font-family",".background",".font-weight",".font-style",".text-decoration",".vertical-align",".line-height"],div:["id","class","align",".border",".margin",".padding",".text-align",".color",".background-color",".font-size",".font-family",".font-weight",".background",".font-style",".text-decoration",".vertical-align",".margin-left"],table:["id","class","border","cellspacing","cellpadding","width","height","align","bordercolor",".padding",".margin",".border","bgcolor",".text-align",".color",".background-color",".font-size",".font-family",".font-weight",".font-style",".text-decoration",".background",".width",".height",".border-collapse"],"td,th":["id","class","align","valign","width","height","colspan","rowspan","bgcolor",".text-align",".color",".background-color",".font-size",".font-family",".font-weight",".font-style",".text-decoration",".vertical-align",".background",".border"],a:["id","class","href","target","name"],embed:["id","class","src","width","height","type","loop","autostart","quality",".width",".height","align","allowscriptaccess","wmode"],img:["id","class","src","width","height","border","alt","title","align",".width",".height",".border"],"p,ol,ul,li,blockquote,h1,h2,h3,h4,h5,h6":["id","class","align",".text-align",".color",".background-color",".font-size",".font-family",".background",".font-weight",".font-style",".text-decoration",".vertical-align",".text-indent",".margin-left"],pre:["id","class"],hr:["id","class",".page-break-after"],"br,tbody,tr,strong,b,sub,sup,em,i,u,strike,s,del":["id","class"],iframe:["id","class","src","frameborder","width","height",".width",".height"]},layout:'<div class="container"><div class="toolbar"></div><div class="edit"></div><div class="statusbar"></div></div>'};var _useCapture=!1,_INPUT_KEY_MAP=_toMap("8,9,13,32,46,48..57,59,61,65..90,106,109..111,188,190..192,219..222"),_CURSORMOVE_KEY_MAP=_toMap("33..40"),_CHANGE_KEY_MAP={};_each(_INPUT_KEY_MAP,function(e,t){_CHANGE_KEY_MAP[e]=t}),_each(_CURSORMOVE_KEY_MAP,function(e,t){_CHANGE_KEY_MAP[e]=t});var _EVENT_PROPS="altKey,attrChange,attrName,bubbles,button,cancelable,charCode,clientX,clientY,ctrlKey,currentTarget,data,detail,eventPhase,fromElement,handler,keyCode,metaKey,newValue,offsetX,offsetY,originalTarget,pageX,pageY,prevValue,relatedNode,relatedTarget,screenX,screenY,shiftKey,srcElement,target,toElement,view,wheelDelta,which".split(",");_extend(KEvent,{init:function(e,t){var n=this,i=e.ownerDocument||e.document||e;if(n.event=t,_each(_EVENT_PROPS,function(e,i){n[i]=t[i]}),n.target||(n.target=n.srcElement||i),3===n.target.nodeType&&(n.target=n.target.parentNode),!n.relatedTarget&&n.fromElement&&(n.relatedTarget=n.fromElement===n.target?n.toElement:n.fromElement),null==n.pageX&&null!=n.clientX){var r=i.documentElement,a=i.body;n.pageX=n.clientX+(r&&r.scrollLeft||a&&a.scrollLeft||0)-(r&&r.clientLeft||a&&a.clientLeft||0),n.pageY=n.clientY+(r&&r.scrollTop||a&&a.scrollTop||0)-(r&&r.clientTop||a&&a.clientTop||0)}switch(!n.which&&(n.charCode||0===n.charCode?n.charCode:n.keyCode)&&(n.which=n.charCode||n.keyCode),!n.metaKey&&n.ctrlKey&&(n.metaKey=n.ctrlKey),n.which||n.button===undefined||(n.which=1&n.button?1:2&n.button?3:4&n.button?2:0),n.which){case 186:n.which=59;break;case 187:case 107:case 43:n.which=61;break;case 189:case 45:n.which=109;break;case 42:n.which=106;break;case 47:n.which=111;break;case 78:n.which=110}n.which>=96&&n.which<=105&&(n.which-=48)},preventDefault:function(){var e=this.event;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){var e=this.event;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},stop:function(){this.preventDefault(),this.stopPropagation()}});var _eventExpendo="kindeditor_"+_TIME,_eventId=0,_eventData={},_readyFinished=!1;window.attachEvent&&window.attachEvent("onunload",function(){_each(_eventData,function(e,t){t.el&&_unbind(t.el)})}),K.ctrl=_ctrl,K.ready=_ready,K.formatUrl=_formatUrl,K.formatHtml=_formatHtml,K.getCssList=_getCssList,K.getAttrList=_getAttrList,K.mediaType=_mediaType,K.mediaAttrs=_mediaAttrs,K.mediaEmbed=_mediaEmbed,K.mediaImg=_mediaImg,K.clearMsWord=_clearMsWord,K.tmpl=_tmpl;var _getSetAttrDiv=document.createElement("div");_getSetAttrDiv.setAttribute("className","t");var _GET_SET_ATTRIBUTE="t"!==_getSetAttrDiv.className;K.query=_query,K.queryAll=_queryAll,_extend(KNode,{init:function(e){var t=this;e=_isArray(e)?e:[e];for(var n=0,i=0,r=e.length;i<r;i++)e[i]&&(t[i]=e[i].constructor===KNode?e[i][0]:e[i],n++);t.length=n,t.doc=_getDoc(t[0]),t.name=_getNodeName(t[0]),t.type=t.length>0?t[0].nodeType:null,t.win=_getWin(t[0])},each:function(e){for(var t=this,n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t;return t},bind:function(e,t){return this.each(function(){_bind(this,e,t)}),this},unbind:function(e,t){return this.each(function(){_unbind(this,e,t)}),this},fire:function(e){return this.length<1?this:(_fire(this[0],e),this)},hasAttr:function(e){return!(this.length<1)&&!!_getAttr(this[0],e)},attr:function(e,t){var n=this;return e===undefined?_getAttrList(n.outer()):"object"==typeof e?(_each(e,function(e,t){n.attr(e,t)}),n):t===undefined?(t=n.length<1?null:_getAttr(n[0],e),null===t?"":t):(n.each(function(){_setAttr(this,e,t)}),n)},removeAttr:function(e){return this.each(function(){_removeAttr(this,e)}),this},get:function(e){return this.length<1?null:this[e||0]},eq:function(e){return this.length<1?null:this[e]?new KNode(this[e]):null},hasClass:function(e){return!(this.length<1)&&_hasClass(this[0],e)},addClass:function(e){return this.each(function(){_hasClass(this,e)||(this.className=_trim(this.className+" "+e))}),this},removeClass:function(e){return this.each(function(){_hasClass(this,e)&&(this.className=_trim(this.className.replace(new RegExp("(^|\\s)"+e+"(\\s|$)")," ")))}),this},html:function(e){var t=this;return e===undefined?t.length<1||1!=t.type?"":_formatHtml(t[0].innerHTML):(t.each(function(){_setHtml(this,e)}),t)},text:function(){var e=this;return e.length<1?"":_IE?e[0].innerText:e[0].textContent},hasVal:function(){return!(this.length<1)&&_hasVal(this[0])},val:function(e){var t=this;return e===undefined?t.length<1?"":t.hasVal()?t[0].value:t.attr("value"):(t.each(function(){_hasVal(this)?this.value=e:_setAttr(this,"value",e)}),t)},css:function(e,t){var n=this;return e===undefined?_getCssList(n.attr("style")):"object"==typeof e?(_each(e,function(e,t){n.css(e,t)}),n):t===undefined?n.length<1?"":n[0].style[_toCamel(e)]||_computedCss(n[0],e)||"":(n.each(function(){this.style[_toCamel(e)]=t}),n)},width:function(e){var t=this;return e===undefined?t.length<1?0:t[0].offsetWidth:t.css("width",_addUnit(e))},height:function(e){var t=this;return e===undefined?t.length<1?0:t[0].offsetHeight:t.css("height",_addUnit(e))},opacity:function(e){return this.each(function(){this.style.opacity===undefined?this.style.filter=1==e?"":"alpha(opacity="+100*e+")":this.style.opacity=1==e?"":e}),this},data:function(e,t){var n=this;return e="kindeditor_data_"+e,t===undefined?n.length<1?null:n[0][e]:(this.each(function(){this[e]=t}),n)},pos:function(){var e=this,t=e[0],n=0,i=0;if(t)if(t.getBoundingClientRect){var r=t.getBoundingClientRect(),a=_getScrollPos(e.doc);n=r.left+a.x,i=r.top+a.y}else for(;t;)n+=t.offsetLeft,i+=t.offsetTop,t=t.offsetParent;return{x:_round(n),y:_round(i)}},clone:function(e){return new KNode(this.length<1?[]:this[0].cloneNode(e))},append:function(e){return this.each(function(){this.appendChild&&this.appendChild(_get(e))}),this},appendTo:function(e){return this.each(function(){_get(e).appendChild(this)}),this},before:function(e){return this.each(function(){this.parentNode.insertBefore(_get(e),this)}),this},after:function(e){return this.each(function(){this.nextSibling?this.parentNode.insertBefore(_get(e),this.nextSibling):this.parentNode.appendChild(_get(e))}),this},replaceWith:function(e){var t=[];return this.each(function(n,i){_unbind(i);var r=_get(e);i.parentNode.replaceChild(r,i),t.push(r)}),K(t)},empty:function(){var e=this;return e.each(function(e,t){for(var n=t.firstChild;n;){if(!t.parentNode)return;var i=n.nextSibling;n.parentNode.removeChild(n),n=i}}),e},remove:function(e){var t=this;return t.each(function(n,i){if(i.parentNode){if(_unbind(i),e)for(var r=i.firstChild;r;){var a=r.nextSibling;i.parentNode.insertBefore(r,i),r=a}i.parentNode.removeChild(i),delete t[n]}}),t.length=0,t},show:function(e){var t=this;return e===undefined&&(e=t._originDisplay||""),"none"!=t.css("display")?t:t.css("display",e)},hide:function(){var e=this;return e.length<1?e:(e._originDisplay=e[0].style.display,e.css("display","none"))},outer:function(){var e=this;if(e.length<1)return"";var t,n=e.doc.createElement("div");return n.appendChild(e[0].cloneNode(!0)),t=_formatHtml(n.innerHTML),n=null,t},isSingle:function(){return!!_SINGLE_TAG_MAP[this.name]},isInline:function(){return!!_INLINE_TAG_MAP[this.name]},isBlock:function(){return!!_BLOCK_TAG_MAP[this.name]},isStyle:function(){return!!_STYLE_TAG_MAP[this.name]},isControl:function(){return!!_CONTROL_TAG_MAP[this.name]},contains:function(e){return!(this.length<1)&&_contains(this[0],_get(e))},parent:function(){if(this.length<1)return null;var e=this[0].parentNode;return e?new KNode(e):null},children:function(){if(this.length<1)return new KNode([]);for(var e=[],t=this[0].firstChild;t;)3==t.nodeType&&""===_trim(t.nodeValue)||e.push(t),t=t.nextSibling;return new KNode(e)},first:function(){var e=this.children();return e.length>0?e.eq(0):null},last:function(){var e=this.children();return e.length>0?e.eq(e.length-1):null},index:function(){if(this.length<1)return-1;for(var e=-1,t=this[0];t;)e++,t=t.previousSibling;return e},prev:function(){if(this.length<1)return null;var e=this[0].previousSibling;return e?new KNode(e):null},next:function(){if(this.length<1)return null;var e=this[0].nextSibling;return e?new KNode(e):null},scan:function(e,t){function n(i){for(var r=t?i.firstChild:i.lastChild;r;){var a=t?r.nextSibling:r.previousSibling;if(e(r)===!1)return!1;if(n(r)===!1)return!1;r=a}}if(!(this.length<1))return t=t===undefined||t,n(this[0]),this}}),_each("blur,focus,focusin,focusout,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error,contextmenu".split(","),function(e,t){KNode.prototype[t]=function(e){return e?this.bind(t,e):this.fire(t)}});var _K=K;K=function(e,t){function n(e){return e[0]||(e=[]),new KNode(e)}if(e!==undefined&&null!==e){if("string"==typeof e){t&&(t=_get(t));var i=e.length;if("@"===e.charAt(0)&&(e=e.substr(1)),e.length!==i||/<.+>/.test(e)){var r=t?t.ownerDocument||t:document,a=r.createElement("div"),o=[];a.innerHTML='<img id="__kindeditor_temp_tag__" width="0" height="0" style="display:none;" />'+e;for(var s=0,l=a.childNodes.length;s<l;s++){var u=a.childNodes[s];"__kindeditor_temp_tag__"!=u.id&&o.push(u)}return n(o)}return n(_queryAll(e,t))}return e&&e.constructor===KNode?e:(e.toArray&&(e=e.toArray()),n(_isArray(e)?e:_toArray(arguments)))}},_each(_K,function(e,t){K[e]=t}),K.NodeClass=KNode,window.KindEditor=K;var _START_TO_START=0,_START_TO_END=1,_END_TO_END=2,_END_TO_START=3,_BOOKMARK_ID=0;_extend(KRange,{init:function(e){var t=this;t.startContainer=e,t.startOffset=0,t.endContainer=e,t.endOffset=0,t.collapsed=!0,t.doc=e},commonAncestor:function(){function e(e){for(var t=[];e;)t.push(e),e=e.parentNode;return t}for(var t,n,i=e(this.startContainer),r=e(this.endContainer),a=0,o=i.length,s=r.length;++a&&(t=i[o-a],n=r[s-a],t&&n&&t===n););return i[o-a+1]},setStart:function(e,t){var n=this,i=n.doc;return n.startContainer=e,n.startOffset=t,n.endContainer===i&&(n.endContainer=e,n.endOffset=t),_updateCollapsed(this)},setEnd:function(e,t){var n=this,i=n.doc;return n.endContainer=e,n.endOffset=t,n.startContainer===i&&(n.startContainer=e,n.startOffset=t),_updateCollapsed(this)},setStartBefore:function(e){return this.setStart(e.parentNode||this.doc,K(e).index())},setStartAfter:function(e){return this.setStart(e.parentNode||this.doc,K(e).index()+1)},setEndBefore:function(e){return this.setEnd(e.parentNode||this.doc,K(e).index())},setEndAfter:function(e){return this.setEnd(e.parentNode||this.doc,K(e).index()+1)},selectNode:function(e){return this.setStartBefore(e).setEndAfter(e)},selectNodeContents:function(e){var t=K(e);if(3==t.type||t.isSingle())return this.selectNode(e);var n=t.children();return n.length>0?this.setStartBefore(n[0]).setEndAfter(n[n.length-1]):this.setStart(e,0).setEnd(e,0)},collapse:function(e){return e?this.setEnd(this.startContainer,this.startOffset):this.setStart(this.endContainer,this.endOffset)},compareBoundaryPoints:function(e,t){var n=this.get(),i=t.get();if(!_IERANGE)return n.compareBoundaryPoints(e,i);var r={};r[_START_TO_START]="StartToStart",r[_START_TO_END]="EndToStart",r[_END_TO_END]="EndToEnd",r[_END_TO_START]="StartToEnd";var a=n.compareEndPoints(r[e],i);if(0!==a)return a;var o,s,l,u,c;if(e!==_START_TO_START&&e!==_END_TO_START||(o=this.startContainer,u=this.startOffset),e!==_START_TO_END&&e!==_END_TO_END||(o=this.endContainer,u=this.endOffset),e!==_START_TO_START&&e!==_START_TO_END||(s=t.startContainer,c=t.startOffset),e!==_END_TO_END&&e!==_END_TO_START||(s=t.endContainer,c=t.endOffset),o===s){var d=u-c;return d>0?1:d<0?-1:0}for(l=s;l&&l.parentNode!==o;)l=l.parentNode;if(l)return K(l).index()>=u?-1:1;for(l=o;l&&l.parentNode!==s;)l=l.parentNode;return l?K(l).index()>=c?1:-1:(l=K(s).next(),l&&l.contains(o)?1:(l=K(o).next(),l&&l.contains(s)?-1:void 0))},cloneRange:function(){return new KRange(this.doc).setStart(this.startContainer,this.startOffset).setEnd(this.endContainer,this.endOffset)},toString:function(){var e=this.get(),t=_IERANGE?e.text:e.toString();return t.replace(/\r\n|\n|\r/g,"")},cloneContents:function(){return _copyAndDelete(this,!0,!1)},deleteContents:function(){return _copyAndDelete(this,!1,!0)},extractContents:function(){return _copyAndDelete(this,!0,!0)},insertNode:function(e){var t,n,i,r=this,a=r.startContainer,o=r.startOffset,s=r.endContainer,l=r.endOffset,u=1;return"#document-fragment"===e.nodeName.toLowerCase()&&(t=e.firstChild,n=e.lastChild,u=e.childNodes.length),1==a.nodeType?(i=a.childNodes[o],i?(a.insertBefore(e,i),a===s&&(l+=u)):a.appendChild(e)):3==a.nodeType&&(0===o?(a.parentNode.insertBefore(e,a),a.parentNode===s&&(l+=u)):o>=a.nodeValue.length?a.nextSibling?a.parentNode.insertBefore(e,a.nextSibling):a.parentNode.appendChild(e):(i=o>0?a.splitText(o):a,a.parentNode.insertBefore(e,i),a===s&&(s=i,l-=o))),t?r.setStartBefore(t).setEndAfter(n):r.selectNode(e),r.compareBoundaryPoints(_END_TO_END,r.cloneRange().setEnd(s,l))>=1?r:r.setEnd(s,l)},surroundContents:function(e){return e.appendChild(this.extractContents()),this.insertNode(e).selectNode(e)},isControl:function(){var e=this,t=e.startContainer,n=e.startOffset,i=e.endContainer,r=e.endOffset;return 1==t.nodeType&&t===i&&n+1===r&&K(t.childNodes[n]).isControl()},get:function(e){var t,n=this,i=n.doc;if(!_IERANGE){t=i.createRange();try{t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset)}catch(r){}return t}if(e&&n.isControl())return t=i.body.createControlRange(),t.addElement(n.startContainer.childNodes[n.startOffset]),t;var a=n.cloneRange().down();return t=i.body.createTextRange(),t.setEndPoint("StartToStart",_getEndRange(a.startContainer,a.startOffset)),t.setEndPoint("EndToStart",_getEndRange(a.endContainer,a.endOffset)),t},html:function(){return K(this.cloneContents()).outer()},down:function(){function e(e,n,i){if(1==e.nodeType){var r=K(e).children();if(0!==r.length){var a,o,s,l;n>0&&(a=r.eq(n-1)),n<r.length&&(o=r.eq(n)),a&&3==a.type&&(s=a[0],l=s.nodeValue.length),o&&3==o.type&&(s=o[0],l=0),s&&(i?t.setStart(s,l):t.setEnd(s,l))}}}var t=this;return e(t.startContainer,t.startOffset,!0),e(t.endContainer,t.endOffset,!1),t},up:function(){function e(e,n,i){3==e.nodeType&&(0===n?i?t.setStartBefore(e):t.setEndBefore(e):n==e.nodeValue.length&&(i?t.setStartAfter(e):t.setEndAfter(e)))}var t=this;return e(t.startContainer,t.startOffset,!0),e(t.endContainer,t.endOffset,!1),t},enlarge:function(e){function t(t,i,r){var a,o=K(t);if(!(3==o.type||_NOSPLIT_TAG_MAP[o.name]||!e&&o.isBlock()))if(0===i){for(;!o.prev()&&(a=o.parent(),a&&!_NOSPLIT_TAG_MAP[a.name]&&(e||!a.isBlock()));)o=a;r?n.setStartBefore(o[0]):n.setEndBefore(o[0])}else if(i==o.children().length){for(;!o.next()&&(a=o.parent(),a&&!_NOSPLIT_TAG_MAP[a.name]&&(e||!a.isBlock()));)o=a;r?n.setStartAfter(o[0]):n.setEndAfter(o[0])}}var n=this;return n.up(),t(n.startContainer,n.startOffset,!0),t(n.endContainer,n.endOffset,!1),n},shrink:function(){for(var e,t=this,n=t.collapsed;1==t.startContainer.nodeType&&(e=t.startContainer.childNodes[t.startOffset])&&1==e.nodeType&&!K(e).isSingle();)t.setStart(e,0);if(n)return t.collapse(n);for(;1==t.endContainer.nodeType&&t.endOffset>0&&(e=t.endContainer.childNodes[t.endOffset-1])&&1==e.nodeType&&!K(e).isSingle();)t.setEnd(e,e.childNodes.length);return t},createBookmark:function(e){var t,n=this,i=n.doc,r=K('<span style="display:none;"></span>',i)[0];return r.id="__kindeditor_bookmark_start_"+_BOOKMARK_ID++ +"__",n.collapsed||(t=r.cloneNode(!0),t.id="__kindeditor_bookmark_end_"+_BOOKMARK_ID++ +"__"),t&&n.cloneRange().collapse(!1).insertNode(t).setEndBefore(t),n.insertNode(r).setStartAfter(r),{start:e?"#"+r.id:r,end:t?e?"#"+t.id:t:null}},moveToBookmark:function(e){var t=this,n=t.doc,i=K(e.start,n),r=e.end?K(e.end,n):null;return!i||i.length<1?t:(t.setStartBefore(i[0]),i.remove(),r&&r.length>0?(t.setEndBefore(r[0]),r.remove()):t.collapse(!0),t)},dump:function(){console.log("--------------------"),console.log(3==this.startContainer.nodeType?this.startContainer.nodeValue:this.startContainer,this.startOffset),console.log(3==this.endContainer.nodeType?this.endContainer.nodeValue:this.endContainer,this.endOffset)}}),K.RangeClass=KRange,K.range=_range,K.START_TO_START=_START_TO_START,K.START_TO_END=_START_TO_END,K.END_TO_END=_END_TO_END,K.END_TO_START=_END_TO_START,_extend(KCmd,{init:function(e){var t=this,n=e.doc;t.doc=n,t.win=_getWin(n),t.sel=_getSel(n),t.range=e},selection:function(e){var t=this,n=t.doc,i=_getRng(n);return t.sel=_getSel(n),i?(t.range=_range(i),"html"==K(t.range.startContainer).name&&t.range.selectNodeContents(n.body).collapse(!1),t):(e&&t.range.selectNodeContents(n.body).collapse(!1),t)},select:function(e){e=_undef(e,!0);var t,n=this,i=n.sel,r=n.range.cloneRange().shrink(),a=r.startContainer,o=r.startOffset,s=(r.endContainer,r.endOffset,_getDoc(a)),l=n.win,u=!1;if(e&&1==a.nodeType&&r.collapsed){if(_IERANGE){var c=K("<span>&nbsp;</span>",s);r.insertNode(c[0]),t=s.body.createTextRange();try{t.moveToElementText(c[0])}catch(d){}return t.collapse(!1),t.select(),c.remove(),l.focus(),n}if(_WEBKIT){var h=a.childNodes;(K(a).isInline()||o>0&&K(h[o-1]).isInline()||h[o]&&K(h[o]).isInline())&&(r.insertNode(s.createTextNode("​")),u=!0)}}if(_IERANGE)try{t=r.get(!0),t.select()}catch(f){}else if(u&&r.collapse(!1),t=r.get(!0),i.removeAllRanges(),i.addRange(t),s!==document){var p=K(t.endContainer).pos();l.scrollTo(p.x,p.y)}return l.focus(),n},wrap:function(e){var t,n=this,i=n.doc,r=n.range;if(t=K(e,i),r.collapsed)return r.shrink(),r.insertNode(t[0]).selectNodeContents(t[0]),n;if(t.isBlock()){for(var a=t.clone(!0),o=a;o.first();)o=o.first();return o.append(r.extractContents()),r.insertNode(a[0]).selectNode(a[0]),n}r.enlarge();var s=r.createBookmark(),l=r.commonAncestor(),u=!1;return K(l).scan(function(e){if(!u&&e==s.start)return void(u=!0);if(u){if(e==s.end)return!1;var n=K(e);if(_inPreElement(n))return;if(3==n.type&&_trim(e.nodeValue).length>0){for(var i;(i=n.parent())&&i.isStyle()&&1==i.children().length;)n=i;_wrapNode(n,t)}}}),r.moveToBookmark(s),n},split:function(e,t){for(var n,i=this.range,r=i.doc,a=i.cloneRange().collapse(e),o=a.startContainer,s=a.startOffset,l=3==o.nodeType?o.parentNode:o,u=!1;l&&l.parentNode;){if(n=K(l),t){if(!n.isStyle())break;if(!_hasAttrOrCss(n,t))break}else if(_NOSPLIT_TAG_MAP[n.name])break;u=!0,l=l.parentNode}if(u){var c=r.createElement("span");i.cloneRange().collapse(!e).insertNode(c),e?a.setStartBefore(l.firstChild).setEnd(o,s):a.setStart(o,s).setEndAfter(l.lastChild);var d=a.extractContents(),h=d.firstChild,f=d.lastChild;e?(a.insertNode(d),i.setStartAfter(f).setEndBefore(c)):(l.appendChild(d),i.setStartBefore(c).setEndBefore(h));var p=c.parentNode;if(p==i.endContainer){var g=K(c).prev(),m=K(c).next();g&&m&&3==g.type&&3==m.type?i.setEnd(g[0],g[0].nodeValue.length):e||i.setEnd(i.endContainer,i.endOffset-1)}p.removeChild(c)}return this},remove:function(e){var t=this,n=t.doc,i=t.range;if(i.enlarge(),0===i.startOffset){for(var r,a=K(i.startContainer);(r=a.parent())&&r.isStyle()&&1==r.children().length;)a=r;i.setStart(a[0],0),a=K(i.startContainer),a.isBlock()&&_removeAttrOrCss(a,e);var o=a.parent();o&&o.isBlock()&&_removeAttrOrCss(o,e)}var s,l;if(i.collapsed){if(t.split(!0,e),s=i.startContainer,l=i.startOffset,l>0){var u=K(s.childNodes[l-1]);u&&_isEmptyNode(u)&&(u.remove(),i.setStart(s,l-1))}var c=K(s.childNodes[l]);return c&&_isEmptyNode(c)&&c.remove(),_isEmptyNode(s)&&(i.startBefore(s),s.remove()),i.collapse(!0),t}t.split(!0,e),t.split(!1,e);var d=n.createElement("span"),h=n.createElement("span");i.cloneRange().collapse(!1).insertNode(h),i.cloneRange().collapse(!0).insertNode(d);var f=[],p=!1;K(i.commonAncestor()).scan(function(e){return p||e!=d?e!=h&&void(p&&f.push(e)):void(p=!0)}),K(d).remove(),K(h).remove(),s=i.startContainer,l=i.startOffset;var g=i.endContainer,m=i.endOffset;if(l>0){var v=K(s.childNodes[l-1]);v&&_isEmptyNode(v)&&(v.remove(),i.setStart(s,l-1),s==g&&i.setEnd(g,m-1));var y=K(s.childNodes[l]);y&&_isEmptyNode(y)&&(y.remove(),s==g&&i.setEnd(g,m-1))}var _=K(g.childNodes[i.endOffset]);_&&_isEmptyNode(_)&&_.remove();var b=i.createBookmark(!0);return _each(f,function(t,n){_removeAttrOrCss(K(n),e)}),i.moveToBookmark(b),t},commonNode:function(e){function t(t){for(var n=t,i=t;i;){if(_hasAttrOrCss(K(i),e))return K(i);i=i.parentNode}for(;n&&(n=n.lastChild);)if(_hasAttrOrCss(K(n),e))return K(n);return null}var n=this.range,i=n.endContainer,r=n.endOffset,a=3==i.nodeType||0===r?i:i.childNodes[r-1],o=t(a);if(o)return o;if(1==a.nodeType||3==i.nodeType&&0===r){var s=K(a).prev();if(s)return t(s)}return null},commonAncestor:function(e){function t(t){for(;t;){if(1==t.nodeType&&t.tagName.toLowerCase()===e)return t;t=t.parentNode}return null}var n=this.range,i=n.startContainer,r=n.startOffset,a=n.endContainer,o=n.endOffset,s=3==i.nodeType||0===r?i:i.childNodes[r-1],l=3==a.nodeType||0===o?a:a.childNodes[o-1],u=t(s),c=t(l);return u&&c&&u===c?K(u):null},state:function(e){var t=this,n=t.doc,i=!1;try{i=n.queryCommandState(e)}catch(r){}return i},val:function(e){function t(e){return e.toLowerCase()}var n=this,i=n.doc;n.range;e=t(e);var r,a="";return"fontfamily"===e||"fontname"===e?(a=_nativeCommandValue(i,"fontname"),a=a.replace(/['"]/g,""),t(a)):"formatblock"===e?(a=_nativeCommandValue(i,e),""===a&&(r=n.commonNode({"h1,h2,h3,h4,h5,h6,p,div,pre,address":"*"}),r&&(a=r.name)),"Normal"===a&&(a="p"),t(a)):"fontsize"===e?(r=n.commonNode({
"*":".font-size"}),r&&(a=r.css("font-size")),t(a)):"forecolor"===e?(r=n.commonNode({"*":".color"}),r&&(a=r.css("color")),a=_toHex(a),""===a&&(a="default"),t(a)):"hilitecolor"===e?(r=n.commonNode({"*":".background-color"}),r&&(a=r.css("background-color")),a=_toHex(a),""===a&&(a="default"),t(a)):a},toggle:function(e,t){var n=this;return n.commonNode(t)?n.remove(t):n.wrap(e),n.select()},bold:function(){return this.toggle("<strong></strong>",{span:".font-weight=bold",strong:"*",b:"*"})},italic:function(){return this.toggle("<em></em>",{span:".font-style=italic",em:"*",i:"*"})},underline:function(){return this.toggle("<u></u>",{span:".text-decoration=underline",u:"*"})},strikethrough:function(){return this.toggle("<s></s>",{span:".text-decoration=line-through",s:"*"})},forecolor:function(e){return this.wrap('<span style="color:'+e+';"></span>').select()},hilitecolor:function(e){return this.wrap('<span style="background-color:'+e+';"></span>').select()},fontsize:function(e){return this.wrap('<span style="font-size:'+e+';"></span>').select()},fontname:function(e){return this.fontfamily(e)},fontfamily:function(e){return this.wrap('<span style="font-family:'+e+';"></span>').select()},removeformat:function(){var e={"*":".font-weight,.font-style,.text-decoration,.color,.background-color,.font-size,.font-family,.text-indent"},t=_STYLE_TAG_MAP;return _each(t,function(t,n){e[t]="*"}),this.remove(e),this.select()},inserthtml:function(e,t){function n(e,t){t='<img id="__kindeditor_temp_tag__" width="0" height="0" style="display:none;" />'+t;var n=e.get();n.item?n.item(0).outerHTML=t:n.pasteHTML(t);var i=e.doc.getElementById("__kindeditor_temp_tag__");i.parentNode.removeChild(i);var a=_toRange(n);e.setEnd(a.endContainer,a.endOffset),e.collapse(!1),r.select(!1)}function i(e,t){var n=e.doc,i=n.createDocumentFragment();K("@"+t,n).each(function(){i.appendChild(this)}),e.deleteContents(),e.insertNode(i),e.collapse(!1),r.select(!1)}var r=this,a=r.range;if(""===e)return r;if(_IERANGE&&t){try{n(a,e)}catch(o){i(a,e)}return r}return i(a,e),r},hr:function(){return this.inserthtml("<hr />")},print:function(){return this.win.print(),this},insertimage:function(e,t,n,i,r,a){t=_undef(t,""),r=_undef(r,0);var o='<img src="'+_escape(e)+'" data-ke-src="'+_escape(e)+'" ';return n&&(o+='width="'+_escape(n)+'" '),i&&(o+='height="'+_escape(i)+'" '),t&&(o+='title="'+_escape(t)+'" '),a&&(o+='align="'+_escape(a)+'" '),o+='alt="'+_escape(t)+'" ',o+="/>",this.inserthtml(o)},createlink:function(e,t){function n(e,t,n){K(e).attr("href",t).attr("data-ke-src",t),n?K(e).attr("target",n):K(e).removeAttr("target")}var i=this,r=i.doc,a=i.range;i.select();var o=i.commonNode({a:"*"});o&&!a.isControl()&&(a.selectNode(o.get()),i.select());var s='<a href="'+_escape(e)+'" data-ke-src="'+_escape(e)+'" ';if(t&&(s+=' target="'+_escape(t)+'"'),a.collapsed)return s+=">"+_escape(e)+"</a>",i.inserthtml(s);if(a.isControl()){var l=K(a.startContainer.childNodes[a.startOffset]);return s+="></a>",l.after(K(s,r)),l.next().append(l),a.selectNode(l[0]),i.select()}var u=a.startContainer,c=a.startOffset,d=a.endContainer,h=a.endOffset;if(1==u.nodeType&&u===d&&c+1===h){var f=u.childNodes[c];if("a"==f.nodeName.toLowerCase())return n(f,e,t),i}return _nativeCommand(r,"createlink","__kindeditor_temp_url__"),K('a[href="__kindeditor_temp_url__"]',r).each(function(){n(this,e,t)}),i},unlink:function(){var e=this,t=e.doc,n=e.range;if(e.select(),n.collapsed){var i=e.commonNode({a:"*"});if(i&&(n.selectNode(i.get()),e.select()),_nativeCommand(t,"unlink",null),_WEBKIT&&"img"===K(n.startContainer).name){var r=K(n.startContainer).parent();"a"===r.name&&r.remove(!0)}}else _nativeCommand(t,"unlink",null);return e}}),_each("formatblock,selectall,justifyleft,justifycenter,justifyright,justifyfull,insertorderedlist,insertunorderedlist,indent,outdent,subscript,superscript".split(","),function(e,t){KCmd.prototype[t]=function(e){var n=this;return n.select(),_nativeCommand(n.doc,t,e),_IERANGE&&_inArray(t,"justifyleft,justifycenter,justifyright,justifyfull".split(","))>=0&&n.selection(),(!_IERANGE||_inArray(t,"formatblock,selectall,insertorderedlist,insertunorderedlist".split(","))>=0)&&n.selection(),n}}),_each("cut,copy,paste".split(","),function(e,t){KCmd.prototype[t]=function(){var e=this;if(!e.doc.queryCommandSupported(t))throw"not supported";return e.select(),_nativeCommand(e.doc,t,null),e}}),K.CmdClass=KCmd,K.cmd=_cmd,_extend(KWidget,{init:function(e){var t=this;if(t.name=e.name||"",t.doc=e.doc||document,t.win=_getWin(t.doc),t.x=_addUnit(e.x),t.y=_addUnit(e.y),t.z=e.z,t.width=_addUnit(e.width),t.height=_addUnit(e.height),t.div=K('<div style="display:block;"></div>'),t.options=e,t._alignEl=e.alignEl,t.width&&t.div.css("width",t.width),t.height&&t.div.css("height",t.height),t.z&&t.div.css({position:"absolute",left:t.x,top:t.y,"z-index":t.z}),!t.z||t.x!==undefined&&t.y!==undefined||t.autoPos(t.width,t.height),e.cls&&t.div.addClass(e.cls),e.shadowMode&&t.div.addClass("ke-shadow"),e.css&&t.div.css(e.css),e.src?K(e.src).replaceWith(t.div):K(t.doc.body).append(t.div),e.html&&t.div.html(e.html),e.autoScroll)if(_IE&&_V<7||_QUIRKS){var n=_getScrollPos();K(t.win).bind("scroll",function(e){var i=_getScrollPos(),r=i.x-n.x,a=i.y-n.y;t.pos(_removeUnit(t.x)+r,_removeUnit(t.y)+a,!1)})}else t.div.css("position","fixed")},pos:function(e,t,n){var i=this;return n=_undef(n,!0),null!==e&&(e=e<0?0:_addUnit(e),i.div.css("left",e),n&&(i.x=e)),null!==t&&(t=t<0?0:_addUnit(t),i.div.css("top",t),n&&(i.y=t)),i},autoPos:function(e,t){var n=this,i=_removeUnit(e)||0,r=_removeUnit(t)||0,a=_getScrollPos();if(n._alignEl){var o=K(n._alignEl),s=o.pos(),l=_round(o[0].clientWidth/2-i/2),u=_round(o[0].clientHeight/2-r/2);x=l<0?s.x:s.x+l,y=u<0?s.y:s.y+u}else{var c=_docElement(n.doc);x=_round(a.x+(c.clientWidth-i)/2),y=_round(a.y+(c.clientHeight-r)/2)}return _IE&&_V<7||_QUIRKS||(x-=a.x,y-=a.y),n.pos(x,y)},remove:function(){var e=this;return(_IE&&_V<7||_QUIRKS)&&K(e.win).unbind("scroll"),e.div.remove(),_each(e,function(t){e[t]=null}),this},show:function(){return this.div.show(),this},hide:function(){return this.div.hide(),this},draggable:function(e){var t=this;return e=e||{},e.moveEl=t.div,e.moveFn=function(e,n,i,r,a,o){(e+=a)<0&&(e=0),(n+=o)<0&&(n=0),t.pos(e,n)},_drag(e),t}}),K.WidgetClass=KWidget,K.widget=_widget;var html,_direction="";(html=document.getElementsByTagName("html"))&&(_direction=html[0].dir),_extend(KEdit,KWidget,{init:function(e){function t(){var t=_iframeDoc(n.iframe);t.open(),s&&(t.domain=document.domain),t.write(_getInitHtml(i,r,a,o)),t.close(),n.win=n.iframe[0].contentWindow,n.doc=t;var l=_cmd(t);n.afterChange(function(e){l.selection()}),_WEBKIT&&K(t).click(function(e){"img"===K(e.target).name&&(l.selection(!0),l.range.selectNode(e.target),l.select())}),_IE&&(n._mousedownHandler=function(){var e=l.range.cloneRange();e.shrink(),e.isControl()&&n.blur()},K(document).mousedown(n._mousedownHandler),K(t).keydown(function(e){if(8==e.which){l.selection();var t=l.range;t.isControl()&&(t.collapse(!0),K(t.startContainer.childNodes[t.startOffset]).remove(),e.preventDefault())}})),n.cmd=l,n.html(_elementVal(n.srcElement)),_IE?(t.body.disabled=!0,t.body.contentEditable=!0,t.body.removeAttribute("disabled")):t.designMode="on",e.afterCreate&&e.afterCreate.call(n)}var n=this;KEdit.parent.init.call(n,e),n.srcElement=K(e.srcElement),n.div.addClass("ke-edit"),n.designMode=_undef(e.designMode,!0),n.beforeGetHtml=e.beforeGetHtml,n.beforeSetHtml=e.beforeSetHtml,n.afterSetHtml=e.afterSetHtml;var i=_undef(e.themesPath,""),r=e.bodyClass,a=e.cssPath,o=e.cssData,s="res:"!=location.protocol&&location.host.replace(/:\d+/,"")!==document.domain,l="document.open();"+(s?'document.domain="'+document.domain+'";':"")+"document.close();",u=_IE?' src="javascript:void(function(){'+encodeURIComponent(l)+'}())"':"";n.iframe=K('<iframe class="ke-edit-iframe" hidefocus="true" frameborder="0"'+u+"></iframe>").css("width","100%"),n.textarea=K('<textarea class="ke-edit-textarea" hidefocus="true"></textarea>').css("width","100%"),n.tabIndex=isNaN(parseInt(e.tabIndex,10))?n.srcElement.attr("tabindex"):parseInt(e.tabIndex,10),n.iframe.attr("tabindex",n.tabIndex),n.textarea.attr("tabindex",n.tabIndex),n.width&&n.setWidth(n.width),n.height&&n.setHeight(n.height),n.designMode?n.textarea.hide():n.iframe.hide(),s&&n.iframe.bind("load",function(e){n.iframe.unbind("load"),_IE?t():setTimeout(t,0)}),n.div.append(n.iframe),n.div.append(n.textarea),n.srcElement.hide(),!s&&t()},setWidth:function(e){var t=this;return e=_addUnit(e),t.width=e,t.div.css("width",e),t},setHeight:function(e){var t=this;return e=_addUnit(e),t.height=e,t.div.css("height",e),t.iframe.css("height",e),(_IE&&_V<8||_QUIRKS)&&(e=_addUnit(_removeUnit(e)-2)),t.textarea.css("height",e),t},remove:function(){var e=this,t=e.doc;K(t.body).unbind(),K(t).unbind(),K(e.win).unbind(),e._mousedownHandler&&K(document).unbind("mousedown",e._mousedownHandler),_elementVal(e.srcElement,e.html()),e.srcElement.show(),e.iframe.unbind(),e.textarea.unbind(),KEdit.parent.remove.call(e)},html:function(e,t){var n=this,i=n.doc;if(n.designMode){var r=i.body;return e===undefined?(e=t?"<!doctype html><html>"+r.parentNode.innerHTML+"</html>":r.innerHTML,n.beforeGetHtml&&(e=n.beforeGetHtml(e)),_GECKO&&"<br />"==e&&(e=""),e):(n.beforeSetHtml&&(e=n.beforeSetHtml(e)),_IE&&_V>=9&&(e=e.replace(/(<.*?checked=")checked(".*>)/gi,"$1$2")),K(r).html(e),n.afterSetHtml&&n.afterSetHtml(),n)}return e===undefined?n.textarea.val():(n.textarea.val(e),n)},design:function(e){var t,n=this;return(e===undefined?!n.designMode:e)?n.designMode||(t=n.html(),n.designMode=!0,n.html(t),n.textarea.hide(),n.iframe.show()):n.designMode&&(t=n.html(),n.designMode=!1,n.html(t),n.iframe.hide(),n.textarea.show()),n.focus()},focus:function(){var e=this;return e.designMode?e.win.focus():e.textarea[0].focus(),e},blur:function(){var e=this;if(_IE){var t=K('<input type="text" style="float:left;width:0;height:0;padding:0;margin:0;border:0;" value="" />',e.div);e.div.append(t),t[0].focus(),t.remove()}else e.designMode?e.win.blur():e.textarea[0].blur();return e},afterChange:function(e){function t(t){setTimeout(function(){e(t)},1)}var n=this,i=n.doc,r=i.body;return K(i).keyup(function(t){t.ctrlKey||t.altKey||!_CHANGE_KEY_MAP[t.which]||e(t)}),K(i).mouseup(e).contextmenu(e),K(n.win).blur(e),K(r).bind("paste",t),K(r).bind("cut",t),n}}),K.EditClass=KEdit,K.edit=_edit,K.iframeDoc=_iframeDoc,_extend(KToolbar,KWidget,{init:function(e){function t(e){var t=K(e);return t.hasClass("ke-outline")?t:t.hasClass("ke-toolbar-icon")?t.parent():void 0}function n(e,n){var i=t(e.target);if(i){if(i.hasClass("ke-disabled"))return;if(i.hasClass("ke-selected"))return;i[n]("ke-on")}}var i=this;KToolbar.parent.init.call(i,e),i.disableMode=_undef(e.disableMode,!1),i.noDisableItemMap=_toMap(_undef(e.noDisableItems,[])),i._itemMap={},i.div.addClass("ke-toolbar").bind("contextmenu,mousedown,mousemove",function(e){e.preventDefault()}).attr("unselectable","on"),i.div.mouseover(function(e){n(e,"addClass")}).mouseout(function(e){n(e,"removeClass")}).click(function(e){var n=t(e.target);if(n){if(n.hasClass("ke-disabled"))return;i.options.click.call(this,e,n.attr("data-name"))}})},get:function(e){return this._itemMap[e]?this._itemMap[e]:this._itemMap[e]=K("span.ke-icon-"+e,this.div).parent()},select:function(e){return _selectToolbar.call(this,e,function(e){e.addClass("ke-selected")}),self},unselect:function(e){return _selectToolbar.call(this,e,function(e){e.removeClass("ke-selected").removeClass("ke-on")}),self},enable:function(e){var t=this,n=e.get?e:t.get(e);return n&&(n.removeClass("ke-disabled"),n.opacity(1)),t},disable:function(e){var t=this,n=e.get?e:t.get(e);return n&&(n.removeClass("ke-selected").addClass("ke-disabled"),n.opacity(.5)),t},disableAll:function(e,t){var n=this,i=n.noDisableItemMap;return t&&(i=_toMap(t)),(e===undefined?!n.disableMode:e)?(K("span.ke-outline",n.div).each(function(){var e=K(this),t=e[0].getAttribute("data-name",2);i[t]||n.disable(e)}),n.disableMode=!0):(K("span.ke-outline",n.div).each(function(){var e=K(this),t=e[0].getAttribute("data-name",2);i[t]||n.enable(e)}),n.disableMode=!1),n}}),K.ToolbarClass=KToolbar,K.toolbar=_toolbar,_extend(KMenu,KWidget,{init:function(e){var t=this;e.z=e.z||811213,KMenu.parent.init.call(t,e),t.centerLineMode=_undef(e.centerLineMode,!0),t.div.addClass("ke-menu").bind("click,mousedown",function(e){e.stopPropagation()}).attr("unselectable","on")},addItem:function(e){var t=this;if("-"===e.title)return void t.div.append(K('<div class="ke-menu-separator"></div>'));var n=K('<div class="ke-menu-item" unselectable="on"></div>'),i=K('<div class="ke-inline-block ke-menu-item-left"></div>'),r=K('<div class="ke-inline-block ke-menu-item-right"></div>'),a=_addUnit(e.height),o=_undef(e.iconClass,"");t.div.append(n),a&&(n.css("height",a),r.css("line-height",a));var s;return t.centerLineMode&&(s=K('<div class="ke-inline-block ke-menu-item-center"></div>'),a&&s.css("height",a)),n.mouseover(function(e){K(this).addClass("ke-menu-item-on"),s&&s.addClass("ke-menu-item-center-on")}).mouseout(function(e){K(this).removeClass("ke-menu-item-on"),s&&s.removeClass("ke-menu-item-center-on")}).click(function(t){e.click.call(K(this)),t.stopPropagation()}).append(i),s&&n.append(s),n.append(r),e.checked&&(o="ke-icon-checked"),""!==o&&i.html('<span class="ke-inline-block ke-toolbar-icon ke-toolbar-icon-url '+o+'"></span>'),r.html(e.title),t},remove:function(){var e=this;return e.options.beforeRemove&&e.options.beforeRemove.call(e),K(".ke-menu-item",e.div[0]).unbind(),KMenu.parent.remove.call(e),e}}),K.MenuClass=KMenu,K.menu=_menu,_extend(KColorPicker,KWidget,{init:function(e){var t=this;e.z=e.z||811213,KColorPicker.parent.init.call(t,e);var n=e.colors||[["#E53333","#E56600","#FF9900","#64451D","#DFC5A4","#FFE500"],["#009900","#006600","#99BB00","#B8D100","#60D978","#00D5FF"],["#337FE5","#003399","#4C33E5","#9933E5","#CC33E5","#EE33EE"],["#FFFFFF","#CCCCCC","#999999","#666666","#333333","#000000"]];t.selectedColor=(e.selectedColor||"").toLowerCase(),t._cells=[],t.div.addClass("ke-colorpicker").bind("click,mousedown",function(e){e.stopPropagation()}).attr("unselectable","on");var i=t.doc.createElement("table");t.div.append(i),i.className="ke-colorpicker-table",i.cellPadding=0,i.cellSpacing=0,i.border=0;var r=i.insertRow(0),a=r.insertCell(0);a.colSpan=n[0].length,t._addAttr(a,"","ke-colorpicker-cell-top");for(var o=0;o<n.length;o++){r=i.insertRow(o+1);for(var s=0;s<n[o].length;s++)a=r.insertCell(s),t._addAttr(a,n[o][s],"ke-colorpicker-cell")}},_addAttr:function(e,t,n){var i=this;e=K(e).addClass(n),i.selectedColor===t.toLowerCase()&&e.addClass("ke-colorpicker-cell-selected"),e.attr("title",t||i.options.noColor),e.mouseover(function(e){K(this).addClass("ke-colorpicker-cell-on")}),e.mouseout(function(e){K(this).removeClass("ke-colorpicker-cell-on")}),e.click(function(e){e.stop(),i.options.click.call(K(this),t)}),t?e.append(K('<div class="ke-colorpicker-cell-color" unselectable="on"></div>').css("background-color",t)):e.html(i.options.noColor),K(e).attr("unselectable","on"),i._cells.push(e)},remove:function(){var e=this;return _each(e._cells,function(){this.unbind()}),KColorPicker.parent.remove.call(e),e}}),K.ColorPickerClass=KColorPicker,K.colorpicker=_colorpicker,_extend(KUploadButton,{init:function(e){var t=this,n=K(e.button),i=e.fieldName||"file",r=e.url||"",a=n.val(),o=e.extraParams||{},s=n[0].className||"",l=e.target||"kindeditor_upload_iframe_"+(new Date).getTime();e.afterError=e.afterError||function(e){alert(e)};var u=[];for(var c in o)u.push('<input type="hidden" name="'+c+'" value="'+o[c]+'" />');var d=['<div class="ke-inline-block '+s+'">',e.target?"":'<iframe name="'+l+'" style="display:none;"></iframe>',e.form?'<div class="ke-upload-area">':'<form class="ke-upload-area ke-form" method="post" enctype="multipart/form-data" target="'+l+'" action="'+r+'">','<span class="ke-button-common">',u.join(""),'<input type="button" class="ke-button-common ke-button" value="'+a+'" />',"</span>",'<input type="file" class="ke-upload-file" name="'+i+'" tabindex="-1" />',e.form?"</div>":"</form>","</div>"].join(""),h=K(d,n.doc);n.hide(),n.before(h),t.div=h,t.button=n,t.iframe=e.target?K('iframe[name="'+l+'"]'):K("iframe",h),t.form=e.form?K(e.form):K("form",h),t.fileBox=K(".ke-upload-file",h);var f=e.width||K(".ke-button-common",h).width();K(".ke-upload-area",h).width(f),t.options=e},submit:function(){var e=this,t=e.iframe;return t.bind("load",function(){t.unbind();var n=document.createElement("form");e.fileBox.before(n),K(n).append(e.fileBox),n.reset(),K(n).remove(!0);var i,r=K.iframeDoc(t),a=r.getElementsByTagName("pre")[0],o="";o=a?a.innerHTML:r.body.innerHTML,o=_unescape(o),t[0].src="javascript:false";try{i=K.json(o)}catch(s){e.options.afterError.call(e,"<!doctype html><html>"+r.body.parentNode.innerHTML+"</html>")}i&&e.options.afterUpload.call(e,i)}),e.form[0].submit(),e},remove:function(){var e=this;return e.fileBox&&e.fileBox.unbind(),e.iframe.remove(),e.div.remove(),e.button.show(),e}}),K.UploadButtonClass=KUploadButton,K.uploadbutton=_uploadbutton,_extend(KDialog,KWidget,{init:function(e){var t=this,n=_undef(e.shadowMode,!0);e.z=e.z||811213,e.shadowMode=!1,e.autoScroll=_undef(e.autoScroll,!0),KDialog.parent.init.call(t,e);var i=e.title,r=K(e.body,t.doc),a=e.previewBtn,o=e.yesBtn,s=e.noBtn,l=e.closeBtn,u=_undef(e.showMask,!0);t.div.addClass("ke-dialog").bind("click,mousedown",function(e){e.stopPropagation()});var c=K('<div class="ke-dialog-content"></div>').appendTo(t.div);_IE&&_V<7?t.iframeMask=K('<iframe src="about:blank" class="ke-dialog-shadow"></iframe>').appendTo(t.div):n&&K('<div class="ke-dialog-shadow"></div>').appendTo(t.div);var d=K('<div class="ke-dialog-header"></div>');c.append(d),d.html(i),t.closeIcon=K('<span class="ke-dialog-icon-close" title="'+l.name+'"></span>').click(l.click),d.append(t.closeIcon),t.draggable({clickEl:d,beforeDrag:e.beforeDrag});var h=K('<div class="ke-dialog-body"></div>');c.append(h),h.append(r);var f=K('<div class="ke-dialog-footer"></div>');if((a||o||s)&&c.append(f),_each([{btn:a,name:"preview"},{btn:o,name:"yes"},{btn:s,name:"no"}],function(){if(this.btn){var e=_createButton(this.btn);e.addClass("ke-dialog-"+this.name),f.append(e)}}),t.height&&h.height(_removeUnit(t.height)-d.height()-f.height()),t.div.width(t.div.width()),t.div.height(t.div.height()),t.mask=null,u){var p=_docElement(t.doc),g=Math.max(p.scrollWidth,p.clientWidth),m=Math.max(p.scrollHeight,p.clientHeight);t.mask=_widget({x:0,y:0,z:t.z-1,cls:"ke-dialog-mask",width:g,height:m})}t.autoPos(t.div.width(),t.div.height()),t.footerDiv=f,t.bodyDiv=h,t.headerDiv=d,t.isLoading=!1},setMaskIndex:function(e){var t=this;t.mask.div.css("z-index",e)},showLoading:function(e){e=_undef(e,"");var t=this,n=t.bodyDiv;return t.loading=K('<div class="ke-dialog-loading"><div class="ke-inline-block ke-dialog-loading-content" style="margin-top:'+Math.round(n.height()/3)+'px;">'+e+"</div></div>").width(n.width()).height(n.height()).css("top",t.headerDiv.height()+"px"),n.css("visibility","hidden").after(t.loading),t.isLoading=!0,t},hideLoading:function(){return this.loading&&this.loading.remove(),this.bodyDiv.css("visibility","visible"),this.isLoading=!1,this},remove:function(){var e=this;return e.options.beforeRemove&&e.options.beforeRemove.call(e),e.mask&&e.mask.remove(),e.iframeMask&&e.iframeMask.remove(),e.closeIcon.unbind(),K("input",e.div).unbind(),K("button",e.div).unbind(),e.footerDiv.unbind(),e.bodyDiv.unbind(),e.headerDiv.unbind(),K("iframe",e.div).each(function(){K(this).remove()}),KDialog.parent.remove.call(e),e}}),K.DialogClass=KDialog,K.dialog=_dialog,K.tabs=_tabs,K.loadScript=_loadScript,K.loadStyle=_loadStyle,K.ajax=_ajax;var _plugins={},_language={};KEditor.prototype={lang:function(e){return _lang(e,this.langType)},loadPlugin:function(e,t){var n=this,i=this._pluginStatus;return i||(i=this._pluginStatus={}),_plugins[e]?_isFunction(_plugins[e])?(i[e]||(_plugins[e].call(n,KindEditor),i[e]="inited"),t&&t.call(n),n):(setTimeout(function(){n.loadPlugin(e,t)},100),n):(_plugins[e]="loading",_loadScript(n.pluginsPath+e+"/"+e+".js?ver="+encodeURIComponent(K.DEBUG?_TIME:_VERSION),function(){setTimeout(function(){_plugins[e]&&n.loadPlugin(e,t)},0)}),n)},handler:function(e,t){var n=this;return n._handlers[e]||(n._handlers[e]=[]),_isFunction(t)?(n._handlers[e].push(t),n):(_each(n._handlers[e],function(){t=this.call(n,t)}),t)},clickToolbar:function(e,t){var n=this,i="clickToolbar"+e;return t===undefined?n._handlers[i]?n.handler(i):(n.loadPlugin(e,function(){n.handler(i)}),n):n.handler(i,t)},updateState:function(){var e=this;return _each("justifyleft,justifycenter,justifyright,justifyfull,insertorderedlist,insertunorderedlist,subscript,superscript,bold,italic,underline,strikethrough".split(","),function(t,n){e.cmd.state(n)?e.toolbar.select(n):e.toolbar.unselect(n)}),e},addContextmenu:function(e){return this._contextmenus.push(e),this},afterCreate:function(e){return this.handler("afterCreate",e)},beforeRemove:function(e){return this.handler("beforeRemove",e)},beforeGetHtml:function(e){return this.handler("beforeGetHtml",e)},beforeSetHtml:function(e){return this.handler("beforeSetHtml",e)},afterSetHtml:function(e){return this.handler("afterSetHtml",e)},create:function(){function e(){return 0===l.height()?void setTimeout(e,100):void t.resize(i,r,!1)}var t=this,n=t.fullscreenMode;if(t.isCreated)return t;if(t.srcElement.data("kindeditor"))return t;t.srcElement.data("kindeditor","true"),n?_docElement().style.overflow="hidden":_docElement().style.overflow="";var i=n?_docElement().clientWidth+"px":t.width,r=n?_docElement().clientHeight+"px":t.height;(_IE&&_V<8||_QUIRKS)&&(r=_addUnit(_removeUnit(r)+2));var a=t.container=K(t.layout);n?K(document.body).append(a):t.srcElement.before(a);var o=K(".toolbar",a),s=K(".edit",a),l=t.statusbar=K(".statusbar",a);a.removeClass("container").addClass("ke-container ke-container-"+t.themeType).css("width",i),n?(a.css({position:"absolute",left:0,top:0,"z-index":811211}),_GECKO||(t._scrollPos=_getScrollPos()),window.scrollTo(0,0),K(document.body).css({height:"1px",overflow:"hidden"}),K(document.body.parentNode).css("overflow","hidden"),t._fullscreenExecuted=!0):(t._fullscreenExecuted&&(K(document.body).css({height:"",overflow:""}),K(document.body.parentNode).css("overflow","")),t._scrollPos&&window.scrollTo(t._scrollPos.x,t._scrollPos.y));var u=[];K.each(t.items,function(e,n){"|"==n?u.push('<span class="ke-inline-block ke-separator"></span>'):"/"==n?u.push('<div class="ke-hr"></div>'):(u.push('<span class="ke-outline" data-name="'+n+'" title="'+t.lang(n)+'" unselectable="on">'),u.push('<span class="ke-toolbar-icon ke-toolbar-icon-url ke-icon-'+n+'" unselectable="on"></span></span>'))});var c=t.toolbar=_toolbar({src:o,html:u.join(""),noDisableItems:t.noDisableItems,click:function(e,n){if(e.stop(),t.menu){var i=t.menu.name;if(t.hideMenu(),i===n)return}t.clickToolbar(n)}}),d=_removeUnit(r)-c.div.height(),h=t.edit=_edit({height:d>0&&_removeUnit(r)>t.minHeight?d:t.minHeight,src:s,srcElement:t.srcElement,designMode:t.designMode,themesPath:t.themesPath,bodyClass:t.bodyClass,cssPath:t.cssPath,cssData:t.cssData,beforeGetHtml:function(e){return e=t.beforeGetHtml(e),e=_removeBookmarkTag(_removeTempTag(e)),_formatHtml(e,t.filterMode?t.htmlTags:null,t.urlType,t.wellFormatMode,t.indentChar)},beforeSetHtml:function(e){return e=_formatHtml(e,t.filterMode?t.htmlTags:null,"",!1),t.beforeSetHtml(e)},afterSetHtml:function(){t.edit=h=this,t.afterSetHtml()},afterCreate:function(){if(t.edit=h=this,t.cmd=h.cmd,t._docMousedownFn=function(e){t.menu&&t.hideMenu()},K(h.doc,document).mousedown(t._docMousedownFn),_bindContextmenuEvent.call(t),_bindNewlineEvent.call(t),_bindTabEvent.call(t),_bindFocusEvent.call(t),h.afterChange(function(e){h.designMode&&(t.updateState(),t.addBookmark(),t.options.afterChange&&t.options.afterChange.call(t))}),h.textarea.keyup(function(e){e.ctrlKey||e.altKey||!_INPUT_KEY_MAP[e.which]||t.options.afterChange&&t.options.afterChange.call(t)}),t.readonlyMode&&t.readonly(),t.isCreated=!0,""===t.initContent&&(t.initContent=t.html()),t._undoStack.length>0){var e=t._undoStack.pop();e.start&&(t.html(e.html),h.cmd.range.moveToBookmark(e),t.select())}t.afterCreate(),t.options.afterCreate&&t.options.afterCreate.call(t)}});return l.removeClass("statusbar").addClass("ke-statusbar").append('<span class="ke-inline-block ke-statusbar-center-icon"></span>').append('<span class="ke-inline-block ke-statusbar-right-icon"></span>'),t._fullscreenResizeHandler&&(K(window).unbind("resize",t._fullscreenResizeHandler),t._fullscreenResizeHandler=null),e(),n?(t._fullscreenResizeHandler=function(e){t.isCreated&&t.resize(_docElement().clientWidth,_docElement().clientHeight,!1)},K(window).bind("resize",t._fullscreenResizeHandler),c.select("fullscreen"),l.first().css("visibility","hidden"),l.last().css("visibility","hidden")):(_GECKO&&K(window).bind("scroll",function(e){t._scrollPos=_getScrollPos()}),t.resizeType>0?_drag({moveEl:a,clickEl:l,moveFn:function(e,n,i,r,a,o){r+=o,t.resize(null,r)}}):l.first().css("visibility","hidden"),2===t.resizeType?_drag({moveEl:a,clickEl:l.last(),moveFn:function(e,n,i,r,a,o){i+=a,r+=o,t.resize(i,r)}}):l.last().css("visibility","hidden")),t},remove:function(){var e=this;return e.isCreated?(e.beforeRemove(),e.srcElement.data("kindeditor",""),e.menu&&e.hideMenu(),_each(e.dialogs,function(){e.hideDialog()}),K(document).unbind("mousedown",e._docMousedownFn),e.toolbar.remove(),e.edit.remove(),e.statusbar.last().unbind(),e.statusbar.unbind(),e.container.remove(),e.container=e.toolbar=e.edit=e.menu=null,e.dialogs=[],e.isCreated=!1,e):e},resize:function(e,t,n){var i=this;return n=_undef(n,!0),e&&(/%/.test(e)||(e=_removeUnit(e),e=e<i.minWidth?i.minWidth:e),i.container.css("width",_addUnit(e)),n&&(i.width=_addUnit(e))),t&&(t=_removeUnit(t),editHeight=_removeUnit(t)-i.toolbar.div.height()-i.statusbar.height(),editHeight=editHeight<i.minHeight?i.minHeight:editHeight,i.edit.setHeight(editHeight),n&&(i.height=_addUnit(t))),i},select:function(){return this.isCreated&&this.cmd.select(),this},html:function(e){var t=this;return e===undefined?t.isCreated?t.edit.html():_elementVal(t.srcElement):(t.isCreated?t.edit.html(e):_elementVal(t.srcElement,e),t.isCreated&&t.cmd.selection(),t)},fullHtml:function(){return this.isCreated?this.edit.html(undefined,!0):""},text:function(e){var t=this;return e===undefined?_trim(t.html().replace(/<(?!img|embed).*?>/gi,"").replace(/&nbsp;/gi," ")):t.html(_escape(e))},isEmpty:function(){return""===_trim(this.text().replace(/\r\n|\n|\r/,""))},isDirty:function(){return _trim(this.initContent.replace(/\r\n|\n|\r|t/g,""))!==_trim(this.html().replace(/\r\n|\n|\r|t/g,""))},selectedHtml:function(){var e=this.isCreated?this.cmd.range.html():"";return e=_removeBookmarkTag(_removeTempTag(e))},count:function(e){var t=this;return e=(e||"html").toLowerCase(),"html"===e?t.html().length:"text"===e?t.text().replace(/<(?:img|embed).*?>/gi,"K").replace(/\r\n|\n|\r/g,"").length:0},exec:function(e){e=e.toLowerCase();var t=this,n=t.cmd,i=_inArray(e,"selectall,copy,paste,print".split(","))<0;return i&&t.addBookmark(!1),n[e].apply(n,_toArray(arguments,1)),i&&(t.updateState(),t.addBookmark(!1),t.options.afterChange&&t.options.afterChange.call(t)),t},insertHtml:function(e,t){return this.isCreated?(e=this.beforeSetHtml(e),this.exec("inserthtml",e,t),this):this},appendHtml:function(e){if(this.html(this.html()+e),this.isCreated){var t=this.cmd;t.range.selectNodeContents(t.doc.body).collapse(!1),t.select()}return this},sync:function(){return _elementVal(this.srcElement,this.html()),this},focus:function(){return this.isCreated?this.edit.focus():this.srcElement[0].focus(),this},blur:function(){return this.isCreated?this.edit.blur():this.srcElement[0].blur(),this},addBookmark:function(e){e=_undef(e,!0);var t,n=this,i=n.edit,r=i.doc.body,a=_removeTempTag(r.innerHTML);if(e&&n._undoStack.length>0){var o=n._undoStack[n._undoStack.length-1];if(Math.abs(a.length-_removeBookmarkTag(o.html).length)<n.minChangeSize)return n}if(i.designMode&&!n._firstAddBookmark){var s=n.cmd.range;t=s.createBookmark(!0),t.html=_removeTempTag(r.innerHTML),s.moveToBookmark(t)}else t={html:a};return n._firstAddBookmark=!1,_addBookmarkToStack(n._undoStack,t),n},undo:function(){return _undoToRedo.call(this,this._undoStack,this._redoStack)},redo:function(){return _undoToRedo.call(this,this._redoStack,this._undoStack)},fullscreen:function(e){return this.fullscreenMode=e===undefined?!this.fullscreenMode:e,this.addBookmark(!1),this.remove().create()},readonly:function(e){e=_undef(e,!0);var t=this,n=t.edit,i=n.doc;t.designMode?t.toolbar.disableAll(e,[]):_each(t.noDisableItems,function(){t.toolbar[e?"disable":"enable"](this)}),_IE?i.body.contentEditable=!e:i.designMode=e?"off":"on",n.textarea[0].disabled=e},createMenu:function(e){var t=this,n=e.name,i=t.toolbar.get(n),r=i.pos();return e.x=r.x,e.y=r.y+i.height(),e.z=t.options.zIndex,e.shadowMode=_undef(e.shadowMode,t.shadowMode),e.selectedColor!==undefined?(e.cls="ke-colorpicker-"+t.themeType,e.noColor=t.lang("noColor"),t.menu=_colorpicker(e)):(e.cls="ke-menu-"+t.themeType,e.centerLineMode=!1,t.menu=_menu(e)),t.menu},hideMenu:function(){return this.menu.remove(),this.menu=null,this},hideContextmenu:function(){return this.contextmenu.remove(),this.contextmenu=null,this},createDialog:function(e){var t=this;e.name;if(e.z=t.options.zIndex,e.shadowMode=_undef(e.shadowMode,t.shadowMode),e.closeBtn=_undef(e.closeBtn,{name:t.lang("close"),click:function(e){t.hideDialog(),_IE&&t.cmd&&t.cmd.select()}}),e.noBtn=_undef(e.noBtn,{name:t.lang(e.yesBtn?"no":"close"),click:function(e){t.hideDialog(),_IE&&t.cmd&&t.cmd.select()}}),"page"!=t.dialogAlignType&&(e.alignEl=t.container),e.cls="ke-dialog-"+t.themeType,t.dialogs.length>0){var n=t.dialogs[0],i=t.dialogs[t.dialogs.length-1];n.setMaskIndex(i.z+2),e.z=i.z+3,e.showMask=!1}var r=_dialog(e);return t.dialogs.push(r),r},hideDialog:function(){var e=this;if(e.dialogs.length>0&&e.dialogs.pop().remove(),e.dialogs.length>0){var t=e.dialogs[0],n=e.dialogs[e.dialogs.length-1];t.setMaskIndex(n.z-1)}return e},errorDialog:function(e){var t=this,n=t.createDialog({width:750,title:t.lang("uploadError"),body:'<div style="padding:10px 20px;"><iframe frameborder="0" style="width:708px;height:400px;"></iframe></div>'}),i=K("iframe",n.div),r=K.iframeDoc(i);return r.open(),r.write(e),r.close(),K(r.body).css("background-color","#FFF"),i[0].contentWindow.focus(),t}},_instances=[],K.remove=function(e){_eachEditor(e,function(e){this.remove(),_instances.splice(e,1)})},K.sync=function(e){_eachEditor(e,function(){this.sync()})},K.html=function(e,t){_eachEditor(e,function(){this.html(t)})},K.insertHtml=function(e,t){_eachEditor(e,function(){this.insertHtml(t)})},K.appendHtml=function(e,t){_eachEditor(e,function(){this.appendHtml(t)})},_IE&&_V<7&&_nativeCommand(document,"BackgroundImageCache",!0),K.EditorClass=KEditor,K.editor=_editor,K.create=_create,K.instances=_instances,K.plugin=_plugin,K.lang=_lang,_plugin("core",function(e){var t=this,n={undo:"Z",redo:"Y",bold:"B",italic:"I",underline:"U",print:"P",selectall:"A"};if(t.afterSetHtml(function(){t.options.afterChange&&t.options.afterChange.call(t)}),t.afterCreate(function(){if("form"==t.syncType){for(var n=e(t.srcElement),i=!1;n=n.parent();)if("form"==n.name){i=!0;break}if(i){n.bind("submit",function(n){t.sync(),e(window).bind("unload",function(){t.edit.textarea.remove()})});var r=e('[type="reset"]',n);r.click(function(){t.html(t.initContent),t.cmd.selection()}),t.beforeRemove(function(){n.unbind(),r.unbind()})}}}),t.clickToolbar("source",function(){t.edit.designMode?(t.toolbar.disableAll(!0),t.edit.design(!1),t.toolbar.select("source")):(t.toolbar.disableAll(!1),t.edit.design(!0),t.toolbar.unselect("source"),_GECKO?setTimeout(function(){t.cmd.selection()},0):t.cmd.selection()),t.designMode=t.edit.designMode}),t.afterCreate(function(){t.designMode||t.toolbar.disableAll(!0).select("source")}),t.clickToolbar("fullscreen",function(){t.fullscreen();
}),t.fullscreenShortcut){var i=!1;t.afterCreate(function(){if(e(t.edit.doc,t.edit.textarea).keyup(function(e){27==e.which&&setTimeout(function(){t.fullscreen()},0)}),i){if(_IE&&!t.designMode)return;t.focus()}i||(i=!0)})}_each("undo,redo".split(","),function(e,i){n[i]&&t.afterCreate(function(){_ctrl(this.edit.doc,n[i],function(){t.clickToolbar(i)})}),t.clickToolbar(i,function(){t[i]()})}),t.clickToolbar("formatblock",function(){var e=t.lang("formatblock.formatBlock"),n={h1:28,h2:24,h3:18,H4:14,p:12},i=t.cmd.val("formatblock"),r=t.createMenu({name:"formatblock",width:"en"==t.langType?200:150});_each(e,function(e,a){var o="font-size:"+n[e]+"px;";"h"===e.charAt(0)&&(o+="font-weight:bold;"),r.addItem({title:'<span style="'+o+'" unselectable="on">'+a+"</span>",height:n[e]+12,checked:i===e||i===a,click:function(){t.select().exec("formatblock","<"+e+">").hideMenu()}})})}),t.clickToolbar("fontname",function(){var e=t.cmd.val("fontname"),n=t.createMenu({name:"fontname",width:150});_each(t.lang("fontname.fontName"),function(i,r){n.addItem({title:'<span style="font-family: '+i+';" unselectable="on">'+r+"</span>",checked:e===i.toLowerCase()||e===r.toLowerCase(),click:function(){t.exec("fontname",i).hideMenu()}})})}),t.clickToolbar("fontsize",function(){var e=t.cmd.val("fontsize"),n=t.createMenu({name:"fontsize",width:150});_each(t.fontSizeTable,function(i,r){n.addItem({title:'<span style="font-size:'+r+';" unselectable="on">'+r+"</span>",height:_removeUnit(r)+12,checked:e===r,click:function(){t.exec("fontsize",r).hideMenu()}})})}),_each("forecolor,hilitecolor".split(","),function(e,n){t.clickToolbar(n,function(){t.createMenu({name:n,selectedColor:t.cmd.val(n)||"default",colors:t.colorTable,click:function(e){t.exec(n,e).hideMenu()}})})}),_each("cut,copy,paste".split(","),function(e,n){t.clickToolbar(n,function(){t.focus();try{t.exec(n,null)}catch(e){alert(t.lang(n+"Error"))}})}),t.clickToolbar("about",function(){var e='<div style="margin:20px;"><div>KindEditor '+_VERSION+'</div><div>Copyright &copy; <a href="http://www.kindsoft.net/" target="_blank">kindsoft.net</a> All rights reserved.</div></div>';t.createDialog({name:"about",width:350,title:t.lang("about"),body:e})}),t.plugin.getSelectedLink=function(){return t.cmd.commonAncestor("a")},t.plugin.getSelectedImage=function(){return _getImageFromRange(t.edit.cmd.range,function(e){return!/^ke-\w+$/i.test(e[0].className)})},t.plugin.getSelectedFlash=function(){return _getImageFromRange(t.edit.cmd.range,function(e){return"ke-flash"==e[0].className})},t.plugin.getSelectedMedia=function(){return _getImageFromRange(t.edit.cmd.range,function(e){return"ke-media"==e[0].className||"ke-rm"==e[0].className})},t.plugin.getSelectedAnchor=function(){return _getImageFromRange(t.edit.cmd.range,function(e){return"ke-anchor"==e[0].className})},_each("link,image,flash,media,anchor".split(","),function(e,n){var i=n.charAt(0).toUpperCase()+n.substr(1);_each("edit,delete".split(","),function(e,r){t.addContextmenu({title:t.lang(r+i),click:function(){t.loadPlugin(n,function(){t.plugin[n][r](),t.hideMenu()})},cond:t.plugin["getSelected"+i],width:150,iconClass:"edit"==r?"ke-icon-"+n:undefined})}),t.addContextmenu({title:"-"})}),t.plugin.getSelectedTable=function(){return t.cmd.commonAncestor("table")},t.plugin.getSelectedRow=function(){return t.cmd.commonAncestor("tr")},t.plugin.getSelectedCell=function(){return t.cmd.commonAncestor("td")},_each("prop,cellprop,colinsertleft,colinsertright,rowinsertabove,rowinsertbelow,rowmerge,colmerge,rowsplit,colsplit,coldelete,rowdelete,insert,delete".split(","),function(e,n){var i=_inArray(n,["prop","delete"])<0?t.plugin.getSelectedCell:t.plugin.getSelectedTable;t.addContextmenu({title:t.lang("table"+n),click:function(){t.loadPlugin("table",function(){t.plugin.table[n](),t.hideMenu()})},cond:i,width:170,iconClass:"ke-icon-table"+n})}),t.addContextmenu({title:"-"}),_each("selectall,justifyleft,justifycenter,justifyright,justifyfull,insertorderedlist,insertunorderedlist,indent,outdent,subscript,superscript,hr,print,bold,italic,underline,strikethrough,removeformat,unlink".split(","),function(e,i){n[i]&&t.afterCreate(function(){_ctrl(this.edit.doc,n[i],function(){t.cmd.selection(),t.clickToolbar(i)})}),t.clickToolbar(i,function(){t.focus().exec(i,null)})}),t.afterCreate(function(){function n(){i.range.moveToBookmark(r),i.select(),_WEBKIT&&(e("div."+s,a).each(function(){e(this).after("<br />").remove(!0)}),e("span.Apple-style-span",a).remove(!0),e("span.Apple-tab-span",a).remove(!0),e("span[style]",a).each(function(){"nowrap"==e(this).css("white-space")&&e(this).remove(!0)}),e("meta",a).remove());var n=a[0].innerHTML;a.remove(),""!==n&&(_WEBKIT&&(n=n.replace(/(<br>)\1/gi,"$1")),2===t.pasteType&&(n=n.replace(/(<(?:p|p\s[^>]*)>) *(<\/p>)/gi,""),/schemas-microsoft-com|worddocument|mso-\w+/i.test(n)?n=_clearMsWord(n,t.filterMode?t.htmlTags:e.options.htmlTags):(n=_formatHtml(n,t.filterMode?t.htmlTags:null),n=t.beforeSetHtml(n))),1===t.pasteType&&(n=n.replace(/&nbsp;/gi," "),n=n.replace(/\n\s*\n/g,"\n"),n=n.replace(/<br[^>]*>/gi,"\n"),n=n.replace(/<\/p><p[^>]*>/gi,"\n"),n=n.replace(/<[^>]+>/g,""),n=n.replace(/ {2}/g," &nbsp;"),"p"==t.newlineTag?/\n/.test(n)&&(n=n.replace(/^/,"<p>").replace(/$/,"<br /></p>").replace(/\n/g,"<br /></p><p>")):n=n.replace(/\n/g,"<br />$&")),t.isEmotion&&(n=t.filterEmotionNodes(n)),t.insertHtml(n,!0))}var i,r,a,o=t.edit.doc,s="__kindeditor_paste__",l=!1;e(o.body).bind("paste",function(u){if(0===t.pasteType)return void u.stop();if(!l){if(l=!0,e("div."+s,o).remove(),i=t.cmd.selection(),r=i.range.createBookmark(),a=e('<div class="'+s+'"></div>',o).css({position:"absolute",width:"1px",height:"1px",overflow:"hidden",left:"-1981px",top:e(r.start).pos().y+"px","white-space":"nowrap"}),e(o.body).append(a),_IE){var c=i.range.get(!0);c.moveToElementText(a[0]),c.select(),c.execCommand("paste"),u.preventDefault()}else i.range.selectNodeContents(a[0]),i.select();setTimeout(function(){n(),l=!1},0)}})}),t.beforeGetHtml(function(e){return _IE&&_V<=8&&(e=e.replace(/<div\s+[^>]*data-ke-input-tag="([^"]*)"[^>]*>([\s\S]*?)<\/div>/gi,function(e,t){return unescape(t)}),e=e.replace(/(<input)((?:\s+[^>]*)?>)/gi,function(e,t,n){return/\s+type="[^"]+"/i.test(e)?e:t+' type="text"'+n})),e.replace(/(<(?:noscript|noscript\s[^>]*)>)([\s\S]*?)(<\/noscript>)/gi,function(e,t,n,i){return t+_unescape(n).replace(/\s+/g," ")+i}).replace(/<img[^>]*class="?ke-(flash|rm|media)"?[^>]*>/gi,function(e){var t=_getAttrList(e),n=_getCssList(t.style||""),i=_mediaAttrs(t["data-ke-tag"]),r=_undef(n.width,""),a=_undef(n.height,"");return/px/i.test(r)&&(r=_removeUnit(r)),/px/i.test(a)&&(a=_removeUnit(a)),i.width=_undef(t.width,r),i.height=_undef(t.height,a),_mediaEmbed(i)}).replace(/<img[^>]*class="?ke-anchor"?[^>]*>/gi,function(e){var t=_getAttrList(e);return'<a name="'+unescape(t["data-ke-name"])+'"></a>'}).replace(/<div\s+[^>]*data-ke-script-attr="([^"]*)"[^>]*>([\s\S]*?)<\/div>/gi,function(e,t,n){return"<script"+unescape(t)+">"+unescape(n)+"</script>"}).replace(/<div\s+[^>]*data-ke-noscript-attr="([^"]*)"[^>]*>([\s\S]*?)<\/div>/gi,function(e,t,n){return"<noscript"+unescape(t)+">"+unescape(n)+"</noscript>"}).replace(/(<[^>]*)data-ke-src="([^"]*)"([^>]*>)/gi,function(e,t,n,i){return e=e.replace(/(\s+(?:href|src)=")[^"]*(")/i,function(e,t,i){return t+_unescape(n)+i}),e=e.replace(/\s+data-ke-src="[^"]*"/i,"")}).replace(/(<[^>]+\s)data-ke-(on\w+="[^"]*"[^>]*>)/gi,function(e,t,n){return t+n})}),t.beforeSetHtml(function(e){return _IE&&_V<=8&&(e=e.replace(/<input[^>]*>|<(select|button)[^>]*>[\s\S]*?<\/\1>/gi,function(e){var t=_getAttrList(e),n=_getCssList(t.style||"");return"none"==n.display?'<div class="ke-display-none" data-ke-input-tag="'+escape(e)+'"></div>':e})),e.replace(/<embed[^>]*type="([^"]+)"[^>]*>(?:<\/embed>)?/gi,function(e){var n=_getAttrList(e);return n.src=_undef(n.src,""),n.width=_undef(n.width,0),n.height=_undef(n.height,0),_mediaImg(t.themesPath+"common/blank.gif",n)}).replace(/<a[^>]*name="([^"]+)"[^>]*>(?:<\/a>)?/gi,function(e){var n=_getAttrList(e);return n.href!==undefined?e:'<img class="ke-anchor" src="'+t.themesPath+'common/anchor.gif" data-ke-name="'+escape(n.name)+'" />'}).replace(/<script([^>]*)>([\s\S]*?)<\/script>/gi,function(e,t,n){return'<div class="ke-script" data-ke-script-attr="'+escape(t)+'">'+escape(n)+"</div>"}).replace(/<noscript([^>]*)>([\s\S]*?)<\/noscript>/gi,function(e,t,n){return'<div class="ke-noscript" data-ke-noscript-attr="'+escape(t)+'">'+escape(n)+"</div>"}).replace(/(<[^>]*)(href|src)="([^"]*)"([^>]*>)/gi,function(e,t,n,i,r){return e.match(/\sdata-ke-src="[^"]*"/i)?e:e=t+n+'="'+i+'" data-ke-src="'+_escape(i)+'"'+r}).replace(/(<[^>]+\s)(on\w+="[^"]*"[^>]*>)/gi,function(e,t,n){return t+"data-ke-"+n}).replace(/<table[^>]*\s+border="0"[^>]*>/gi,function(e){return e.indexOf("ke-zeroborder")>=0?e:_addClassToTag(e,"ke-zeroborder")})})})}}(window),KindEditor.lang({source:"HTML代码",preview:"预览",undo:"后退(Ctrl+Z)",redo:"前进(Ctrl+Y)",cut:"剪切(Ctrl+X)",copy:"复制(Ctrl+C)",paste:"粘贴(Ctrl+V)",plainpaste:"粘贴为无格式文本",wordpaste:"从Word粘贴",selectall:"全选(Ctrl+A)",justifyleft:"左对齐",justifycenter:"居中",justifyright:"右对齐",justifyfull:"两端对齐",insertorderedlist:"编号",insertunorderedlist:"项目符号",indent:"增加缩进",outdent:"减少缩进",subscript:"下标",superscript:"上标",formatblock:"段落",fontname:"字体",fontsize:"文字大小",forecolor:"文字颜色",hilitecolor:"文字背景",bold:"粗体(Ctrl+B)",italic:"斜体(Ctrl+I)",underline:"下划线(Ctrl+U)",strikethrough:"删除线",removeformat:"删除格式",image:"图片",multiimage:"批量图片上传",flash:"Flash",media:"视音频",table:"表格",tablecell:"单元格",hr:"插入横线",emoticons:"插入表情",link:"超级链接",unlink:"取消超级链接",fullscreen:"全屏显示",about:"关于",print:"打印(Ctrl+P)",filemanager:"文件空间",code:"插入程序代码",map:"Google地图",baidumap:"百度地图",lineheight:"行距",clearhtml:"清理HTML代码",pagebreak:"插入分页符",quickformat:"一键排版",insertfile:"插入文件",template:"插入模板",anchor:"锚点",yes:"确定",no:"取消",close:"关闭",editImage:"图片属性",deleteImage:"删除图片",editFlash:"Flash属性",deleteFlash:"删除Flash",editMedia:"视音频属性",deleteMedia:"删除视音频",editLink:"超级链接属性",deleteLink:"取消超级链接",editAnchor:"锚点属性",deleteAnchor:"删除锚点",tableprop:"表格属性",tablecellprop:"单元格属性",tableinsert:"插入表格",tabledelete:"删除表格",tablecolinsertleft:"左侧插入列",tablecolinsertright:"右侧插入列",tablerowinsertabove:"上方插入行",tablerowinsertbelow:"下方插入行",tablerowmerge:"向下合并单元格",tablecolmerge:"向右合并单元格",tablerowsplit:"拆分行",tablecolsplit:"拆分列",tablecoldelete:"删除列",tablerowdelete:"删除行",noColor:"无颜色",pleaseSelectFile:"请选择文件。",invalidImg:"请输入有效的URL地址。\n只允许jpg,gif,bmp,png格式。",invalidMedia:"请输入有效的URL地址。\n只允许swf,flv,mp3,wav,wma,wmv,mid,avi,mpg,asf,rm,rmvb格式。",invalidWidth:"宽度必须为数字。",invalidHeight:"高度必须为数字。",invalidBorder:"边框必须为数字。",invalidUrl:"请输入有效的URL地址。",invalidRows:"行数为必选项，只允许输入大于0的数字。",invalidCols:"列数为必选项，只允许输入大于0的数字。",invalidPadding:"边距必须为数字。",invalidSpacing:"间距必须为数字。",invalidJson:"服务器发生故障。",uploadSuccess:"上传成功。",cutError:"您的浏览器安全设置不允许使用剪切操作，请使用快捷键(Ctrl+X)来完成。",copyError:"您的浏览器安全设置不允许使用复制操作，请使用快捷键(Ctrl+C)来完成。",pasteError:"您的浏览器安全设置不允许使用粘贴操作，请使用快捷键(Ctrl+V)来完成。",ajaxLoading:"加载中，请稍候 ...",uploadLoading:"上传中，请稍候 ...",uploadError:"上传错误","plainpaste.comment":"请使用快捷键(Ctrl+V)把内容粘贴到下面的方框里。","wordpaste.comment":"请使用快捷键(Ctrl+V)把内容粘贴到下面的方框里。","code.pleaseInput":"请输入程序代码。","link.url":"URL","link.linkType":"打开类型","link.newWindow":"新窗口","link.selfWindow":"当前窗口","flash.url":"URL","flash.width":"宽度","flash.height":"高度","flash.upload":"上传","flash.viewServer":"文件空间","media.url":"URL","media.width":"宽度","media.height":"高度","media.autostart":"自动播放","media.upload":"上传","media.viewServer":"文件空间","image.remoteImage":"网络图片","image.localImage":"本地上传","image.remoteUrl":"图片地址","image.localUrl":"上传文件","image.size":"图片大小","image.width":"宽","image.height":"高","image.resetSize":"重置大小","image.align":"对齐方式","image.defaultAlign":"默认方式","image.leftAlign":"左对齐","image.rightAlign":"右对齐","image.imgTitle":"图片说明","image.upload":"浏览...","image.viewServer":"图片空间","multiimage.uploadDesc":"允许用户同时上传<%=uploadLimit%>张图片，单张图片容量不超过<%=sizeLimit%>","multiimage.startUpload":"开始上传","multiimage.clearAll":"全部清空","multiimage.insertAll":"全部插入","multiimage.queueLimitExceeded":"文件数量超过限制。","multiimage.fileExceedsSizeLimit":"文件大小超过限制。","multiimage.zeroByteFile":"无法上传空文件。","multiimage.invalidFiletype":"文件类型不正确。","multiimage.unknownError":"发生异常，无法上传。","multiimage.pending":"等待上传","multiimage.uploadError":"上传失败","filemanager.emptyFolder":"空文件夹","filemanager.moveup":"移到上一级文件夹","filemanager.viewType":"显示方式：","filemanager.viewImage":"缩略图","filemanager.listImage":"详细信息","filemanager.orderType":"排序方式：","filemanager.fileName":"名称","filemanager.fileSize":"大小","filemanager.fileType":"类型","insertfile.url":"URL","insertfile.title":"文件说明","insertfile.upload":"上传","insertfile.viewServer":"文件空间","table.cells":"单元格数","table.rows":"行数","table.cols":"列数","table.size":"大小","table.width":"宽度","table.height":"高度","table.percent":"%","table.px":"px","table.space":"边距间距","table.padding":"边距","table.spacing":"间距","table.align":"对齐方式","table.textAlign":"水平对齐","table.verticalAlign":"垂直对齐","table.alignDefault":"默认","table.alignLeft":"左对齐","table.alignCenter":"居中","table.alignRight":"右对齐","table.alignTop":"顶部","table.alignMiddle":"中部","table.alignBottom":"底部","table.alignBaseline":"基线","table.border":"边框","table.borderWidth":"边框","table.borderColor":"颜色","table.backgroundColor":"背景颜色","map.address":"地址: ","map.search":"搜索","baidumap.address":"地址: ","baidumap.search":"搜索","baidumap.insertDynamicMap":"插入动态地图","anchor.name":"锚点名称","formatblock.formatBlock":{h1:"标题 1",h2:"标题 2",h3:"标题 3",h4:"标题 4",p:"正 文"},"fontname.fontName":{SimSun:"宋体",NSimSun:"新宋体",FangSong_GB2312:"仿宋_GB2312",KaiTi_GB2312:"楷体_GB2312",SimHei:"黑体","Microsoft YaHei":"微软雅黑",Arial:"Arial","Arial Black":"Arial Black","Times New Roman":"Times New Roman","Courier New":"Courier New",Tahoma:"Tahoma",Verdana:"Verdana"},"lineheight.lineHeight":[{1:"单倍行距"},{1.5:"1.5倍行距"},{2:"2倍行距"},{2.5:"2.5倍行距"},{3:"3倍行距"}],"template.selectTemplate":"可选模板","template.replaceContent":"替换当前内容","template.fileList":{"1.html":"图片和文字","2.html":"表格","3.html":"项目编号"}},"zh-CN"),KindEditor.options.langType="zh-CN",KindEditor.plugin("anchor",function(e){var t=this,n="anchor",i=t.lang(n+".");t.plugin.anchor={edit:function(){var r=['<div style="padding:20px;">','<div class="ke-dialog-row">','<label for="keName">'+i.name+"</label>",'<input class="ke-input-text" type="text" id="keName" name="name" value="" style="width:100px;" />',"</div>","</div>"].join(""),a=t.createDialog({name:n,width:300,title:t.lang(n),body:r,yesBtn:{name:t.lang("yes"),click:function(e){t.insertHtml('<a name="'+s.val()+'">').hideDialog().focus()}}}),o=a.div,s=e('input[name="name"]',o),l=t.plugin.getSelectedAnchor();l&&s.val(unescape(l.attr("data-ke-name"))),s[0].focus(),s[0].select()},"delete":function(){t.plugin.getSelectedAnchor().remove()}},t.clickToolbar(n,t.plugin.anchor.edit)}),KindEditor.plugin("autoheight",function(e){function t(){var e=r.edit,t=e.doc.body;e.iframe[0].scroll="no",t.style.overflowY="hidden"}function n(){var t=r.edit,n=t.doc.body;t.iframe.height(a),r.resize(null,Math.max((e.IE?n.scrollHeight:n.offsetHeight)+76,a))}function i(){a=e.removeUnit(r.height),r.edit.afterChange(n),t(),n()}var r=this;if(r.autoHeightMode){var a;r.isCreated?i():r.afterCreate(i)}}),KindEditor.plugin("baidumap",function(e){var t=this,n="baidumap",i=t.lang(n+"."),r=e.undef(t.mapWidth,558),a=e.undef(t.mapHeight,360);t.clickToolbar(n,function(){function o(){s=g[0].contentWindow,l=e.iframeDoc(g)}var s,l,u=['<div style="padding:10px 20px;">','<div class="ke-header">','<div class="ke-left">',i.address+' <input id="kindeditor_plugin_map_address" name="address" class="ke-input-text" value="" style="width:200px;" /> ','<span class="ke-button-common ke-button-outer">','<input type="button" name="searchBtn" class="ke-button-common ke-button" value="'+i.search+'" />',"</span>","</div>",'<div class="ke-right">','<input type="checkbox" id="keInsertDynamicMap" name="insertDynamicMap" value="1" /> <label for="keInsertDynamicMap">'+i.insertDynamicMap+"</label>","</div>",'<div class="ke-clearfix"></div>',"</div>",'<div class="ke-map" style="width:'+r+"px;height:"+a+'px;"></div>',"</div>"].join(""),c=t.createDialog({name:n,width:r+42,title:t.lang(n),body:u,yesBtn:{name:t.lang("yes"),click:function(e){var n=s.map,i=n.getCenter(),o=i.lng+","+i.lat,l=n.getZoom(),u=[p[0].checked?t.pluginsPath+"baidumap/index.html":"http://api.map.baidu.com/staticimage","?center="+encodeURIComponent(o),"&zoom="+encodeURIComponent(l),"&width="+r,"&height="+a,"&markers="+encodeURIComponent(o),"&markerStyles="+encodeURIComponent("l,A")].join("");p[0].checked?t.insertHtml('<iframe src="'+u+'" frameborder="0" style="width:'+(r+2)+"px;height:"+(a+2)+'px;"></iframe>'):t.exec("insertimage",u),t.hideDialog().focus()}},beforeRemove:function(){f.remove(),l&&l.write(""),g.remove()}}),d=c.div,h=e('[name="address"]',d),f=e('[name="searchBtn"]',d),p=e('[name="insertDynamicMap"]',c.div),g=e('<iframe class="ke-textarea" frameborder="0" src="'+t.pluginsPath+'baidumap/map.html" style="width:'+r+"px;height:"+a+'px;"></iframe>');g.bind("load",function(){g.unbind("load"),e.IE?o():setTimeout(o,0)}),e(".ke-map",d).replaceWith(g),f.click(function(){s.search(h.val())})})}),KindEditor.plugin("map",function(e){var t=this,n="map",i=t.lang(n+".");t.clickToolbar(n,function(){function r(){a=h[0].contentWindow,o=e.iframeDoc(h)}var a,o,s=['<div style="padding:10px 20px;">','<div class="ke-dialog-row">',i.address+' <input id="kindeditor_plugin_map_address" name="address" class="ke-input-text" value="" style="width:200px;" /> ','<span class="ke-button-common ke-button-outer">','<input type="button" name="searchBtn" class="ke-button-common ke-button" value="'+i.search+'" />',"</span>","</div>",'<div class="ke-map" style="width:558px;height:360px;"></div>',"</div>"].join(""),l=t.createDialog({name:n,width:600,title:t.lang(n),body:s,yesBtn:{name:t.lang("yes"),click:function(e){var n=(a.geocoder,a.map),i=n.getCenter().lat()+","+n.getCenter().lng(),r=n.getZoom(),o=n.getMapTypeId(),s="http://maps.googleapis.com/maps/api/staticmap";s+="?center="+encodeURIComponent(i),s+="&zoom="+encodeURIComponent(r),s+="&size=558x360",s+="&maptype="+encodeURIComponent(o),s+="&markers="+encodeURIComponent(i),s+="&language="+t.langType,s+="&sensor=false",t.exec("insertimage",s).hideDialog().focus()}},beforeRemove:function(){d.remove(),o&&o.write(""),h.remove()}}),u=l.div,c=e('[name="address"]',u),d=e('[name="searchBtn"]',u),h=(["<!doctype html><html><head>",'<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />',"<style>","\thtml { height: 100% }","\tbody { height: 100%; margin: 0; padding: 0; background-color: #FFF }","\t#map_canvas { height: 100% }","</style>",'<script src="http://maps.googleapis.com/maps/api/js?sensor=false&language='+t.langType+'"></script>',"<script>","var map, geocoder;","function initialize() {","\tvar latlng = new google.maps.LatLng(31.230393, 121.473704);","\tvar options = {","\t\tzoom: 11,","\t\tcenter: latlng,","\t\tdisableDefaultUI: true,","\t\tpanControl: true,","\t\tzoomControl: true,","\t\tmapTypeControl: true,","\t\tscaleControl: true,","\t\tstreetViewControl: false,","\t\toverviewMapControl: true,","\t\tmapTypeId: google.maps.MapTypeId.ROADMAP","\t};",'\tmap = new google.maps.Map(document.getElementById("map_canvas"), options);',"\tgeocoder = new google.maps.Geocoder();","\tgeocoder.geocode({latLng: latlng}, function(results, status) {","\t\tif (status == google.maps.GeocoderStatus.OK) {","\t\t\tif (results[3]) {",'\t\t\t\tparent.document.getElementById("kindeditor_plugin_map_address").value = results[3].formatted_address;',"\t\t\t}","\t\t}","\t});","}","function search(address) {","\tif (!map) return;","\tgeocoder.geocode({address : address}, function(results, status) {","\t\tif (status == google.maps.GeocoderStatus.OK) {","\t\t\tmap.setZoom(11);","\t\t\tmap.setCenter(results[0].geometry.location);","\t\t\tvar marker = new google.maps.Marker({","\t\t\t\tmap: map,","\t\t\t\tposition: results[0].geometry.location","\t\t\t});","\t\t} else {",'\t\t\talert("Invalid address: " + address);',"\t\t}","\t});","}","</script>","</head>",'<body onload="initialize();">','<div id="map_canvas" style="width:100%; height:100%"></div>',"</body></html>"].join("\n"),e('<iframe class="ke-textarea" frameborder="0" src="'+t.pluginsPath+'map/map.html" style="width:558px;height:360px;"></iframe>'));h.bind("load",function(){h.unbind("load"),e.IE?r():setTimeout(r,0)}),e(".ke-map",u).replaceWith(h),d.click(function(){a.search(c.val())})})}),KindEditor.plugin("clearhtml",function(e){var t=this,n="clearhtml";t.clickToolbar(n,function(){t.focus();var n=t.html();n=n.replace(/(<script[^>]*>)([\s\S]*?)(<\/script>)/gi,""),n=n.replace(/(<style[^>]*>)([\s\S]*?)(<\/style>)/gi,""),n=e.formatHtml(n,{a:["href","target"],embed:["src","width","height","type","loop","autostart","quality",".width",".height","align","allowscriptaccess"],img:["src","width","height","border","alt","title",".width",".height"],table:["border"],"td,th":["rowspan","colspan"],"div,hr,br,tbody,tr,p,ol,ul,li,blockquote,h1,h2,h3,h4,h5,h6":[]}),t.html(n),t.cmd.selection(!0),t.addBookmark()})}),KindEditor.plugin("code",function(e){var t=this,n="code";t.clickToolbar(n,function(){var i=t.lang(n+"."),r=['<div style="padding:10px 20px;">','<div class="ke-dialog-row">','<select class="ke-code-type">','<option value="js">JavaScript</option>','<option value="html">HTML</option>','<option value="css">CSS</option>','<option value="php">PHP</option>','<option value="pl">Perl</option>','<option value="py">Python</option>','<option value="rb">Ruby</option>','<option value="java">Java</option>','<option value="vb">ASP/VB</option>','<option value="cpp">C/C++</option>','<option value="cs">C#</option>','<option value="xml">XML</option>','<option value="bsh">Shell</option>','<option value="">Other</option>',"</select>","</div>",'<textarea class="ke-textarea" style="width:408px;height:260px;"></textarea>',"</div>"].join(""),a=t.createDialog({name:n,width:450,title:t.lang(n),body:r,yesBtn:{name:t.lang("yes"),click:function(n){var r=e(".ke-code-type",a.div).val(),s=o.val(),l=""===r?"":" lang-"+r,u='<pre class="prettyprint'+l+'">\n'+e.escape(s)+"</pre> ";return""===e.trim(s)?(alert(i.pleaseInput),void o[0].focus()):void t.insertHtml(u).hideDialog().focus()}}}),o=e("textarea",a.div);o[0].focus()})}),KindEditor.plugin("emoticons",function(e){var t=this,n="emoticons",i=t.emoticonsPath||t.pluginsPath+"emoticons/images/",r=void 0===t.allowPreviewEmoticons||t.allowPreviewEmoticons,a=1;t.clickToolbar(n,function(){function o(n,r,a){x?n.mouseover(function(){r>v?(x.css("left",0),x.css("right","")):(x.css("left",""),x.css("right",0)),w.attr("src",i+a+".gif"),e(this).addClass("ke-on")}):n.mouseover(function(){e(this).addClass("ke-on")}),n.mouseout(function(){e(this).removeClass("ke-on")}),n.click(function(e){t.insertHtml('<img src="'+i+a+'.gif" border="0" alt="" />').hideMenu().focus(),e.stop()})}function s(t,n){var r=document.createElement("table");n.append(r),x&&(e(r).mouseover(function(){x.show("block")}),e(r).mouseout(function(){x.hide()}),_.push(e(r))),r.className="ke-table",r.cellPadding=0,r.cellSpacing=0,r.border=0;for(var a=(t-1)*g+p,s=0;s<d;s++)for(var l=r.insertRow(s),u=0;u<h;u++){var c=e(l.insertCell(u));c.addClass("ke-cell"),o(c,u,a);var f=e('<span class="ke-img"></span>').css("background-position","-"+24*a+"px 0px").css("background-image","url("+i+"static.gif)");c.append(f),_.push(c),a++}return r}function l(){e.each(_,function(){this.unbind()})}function u(e,t){e.click(function(e){l(),S.parentNode.removeChild(S),k.remove(),S=s(t,y),c(t),a=t,e.stop()})}function c(t){k=e('<div class="ke-page"></div>'),y.append(k);for(var n=1;n<=m;n++){if(t!==n){var i=e('<a href="javascript:;">['+n+"]</a>");u(i,n),k.append(i),_.push(i)}else k.append(e("@["+n+"]"));k.append(e("@&nbsp;"))}}var d=5,h=9,f=135,p=0,g=d*h,m=Math.ceil(f/g),v=Math.floor(h/2),y=e('<div class="ke-plugin-emoticons"></div>'),_=[],b=t.createMenu({name:n,beforeRemove:function(){l()}});b.div.append(y);var x,w;r&&(x=e('<div class="ke-preview"></div>').css("right",0),w=e('<img class="ke-preview-img" src="'+i+p+'.gif" />'),y.append(x),x.append(w));var k,S=s(a,y);c(a)})}),KindEditor.plugin("filemanager",function(e){function t(e,t,n){return e+" ("+Math.ceil(t/1024)+"KB, "+n+")"}function n(e,n){n.is_dir?e.attr("title",n.filename):e.attr("title",t(n.filename,n.filesize,n.datetime))}var i=this,r="filemanager",a=e.undef(i.fileManagerJson,i.basePath+"php/file_manager_json.php"),o=i.pluginsPath+r+"/images/",s=i.lang(r+".");i.plugin.filemanagerDialog=function(t){function l(t,n,r){var o="path="+t+"&order="+n+"&dir="+g;_.showLoading(i.lang("ajaxLoading")),e.ajax(e.addParam(a,o+"&"+(new Date).getTime()),function(e){_.hideLoading(),r(e)})}function u(t,n,i,r){var a=e.formatUrl(n.current_url+i.filename,"absolute"),o=encodeURIComponent(n.current_dir_path+i.filename+"/");i.is_dir?t.click(function(e){l(o,S.val(),r)}):i.is_photo?t.click(function(e){v.call(this,a,i.filename)}):t.click(function(e){v.call(this,a,i.filename)}),E.push(t)}function c(t,n){function i(){"VIEW"==k.val()?l(t.current_dir_path,S.val(),h):l(t.current_dir_path,S.val(),d)}e.each(E,function(){this.unbind()}),w.unbind(),k.unbind(),S.unbind(),t.current_dir_path&&w.click(function(e){l(t.moveup_dir_path,S.val(),n)}),k.change(i),S.change(i),x.html("")}function d(t){c(t,d);var n=document.createElement("table");n.className="ke-table",n.cellPadding=0,n.cellSpacing=0,n.border=0,x.append(n);for(var i=t.file_list,r=0,a=i.length;r<a;r++){var l=i[r],h=e(n.insertRow(r));h.mouseover(function(t){e(this).addClass("ke-on")}).mouseout(function(t){e(this).removeClass("ke-on")});var f=o+(l.is_dir?"folder-16.gif":"file-16.gif"),p=e('<img src="'+f+'" width="16" height="16" alt="'+l.filename+'" align="absmiddle" />'),g=e(h[0].insertCell(0)).addClass("ke-cell ke-name").append(p).append(document.createTextNode(" "+l.filename));!l.is_dir||l.has_file?(h.css("cursor","pointer"),g.attr("title",l.filename),u(g,t,l,d)):g.attr("title",s.emptyFolder),e(h[0].insertCell(1)).addClass("ke-cell ke-size").html(l.is_dir?"-":Math.ceil(l.filesize/1024)+"KB"),e(h[0].insertCell(2)).addClass("ke-cell ke-datetime").html(l.datetime)}}function h(t){c(t,h);for(var i=t.file_list,r=0,a=i.length;r<a;r++){var l=i[r],d=e('<div class="ke-inline-block ke-item"></div>');x.append(d);var f=e('<div class="ke-inline-block ke-photo"></div>').mouseover(function(t){e(this).addClass("ke-on")}).mouseout(function(t){e(this).removeClass("ke-on")});d.append(f);var p=t.current_url+l.filename,g=l.is_dir?o+"folder-64.gif":l.is_photo?p:o+"file-64.gif",m=e('<img src="'+g+'" width="80" height="80" alt="'+l.filename+'" />');!l.is_dir||l.has_file?(f.css("cursor","pointer"),n(f,l),u(f,t,l,h)):f.attr("title",s.emptyFolder),f.append(m),d.append('<div class="ke-name" title="'+l.filename+'">'+l.filename+"</div>")}}var f=e.undef(t.width,650),p=e.undef(t.height,510),g=e.undef(t.dirName,""),m=e.undef(t.viewType,"VIEW").toUpperCase(),v=t.clickFn,y=['<div style="padding:10px 20px;">','<div class="ke-plugin-filemanager-header">','<div class="ke-left">','<img class="ke-inline-block" name="moveupImg" src="'+o+'go-up.gif" width="16" height="16" border="0" alt="" /> ','<a class="ke-inline-block" name="moveupLink" href="javascript:;">'+s.moveup+"</a>","</div>",'<div class="ke-right">',s.viewType+' <select class="ke-inline-block" name="viewType">','<option value="VIEW">'+s.viewImage+"</option>",'<option value="LIST">'+s.listImage+"</option>","</select> ",s.orderType+' <select class="ke-inline-block" name="orderType">','<option value="NAME">'+s.fileName+"</option>",'<option value="SIZE">'+s.fileSize+"</option>",'<option value="TYPE">'+s.fileType+"</option>","</select>","</div>",'<div class="ke-clearfix"></div>',"</div>",'<div class="ke-plugin-filemanager-body"></div>',"</div>"].join(""),_=i.createDialog({name:r,width:f,height:p,title:i.lang(r),body:y}),b=_.div,x=e(".ke-plugin-filemanager-body",b),w=(e('[name="moveupImg"]',b),e('[name="moveupLink"]',b)),k=(e('[name="viewServer"]',b),e('[name="viewType"]',b)),S=e('[name="orderType"]',b),E=[];return k.val(m),l("",S.val(),"VIEW"==m?h:d),_}}),KindEditor.plugin("flash",function(e){var t=this,n="flash",i=t.lang(n+"."),r=e.undef(t.allowFlashUpload,!0),a=e.undef(t.allowFileManager,!1),o=e.undef(t.formatUploadUrl,!0),s=e.undef(t.extraFileUploadParams,{}),l=e.undef(t.filePostName,"imgFile"),u=e.undef(t.uploadJson,t.basePath+"php/upload_json.php");t.plugin.flash={edit:function(){var c=['<div style="padding:20px;">','<div class="ke-dialog-row">','<label for="keUrl" style="width:60px;">'+i.url+"</label>",'<input class="ke-input-text" type="text" id="keUrl" name="url" value="" style="width:160px;" /> &nbsp;','<input type="button" class="ke-upload-button" value="'+i.upload+'" /> &nbsp;','<span class="ke-button-common ke-button-outer">','<input type="button" class="ke-button-common ke-button" name="viewServer" value="'+i.viewServer+'" />',"</span>","</div>",'<div class="ke-dialog-row">','<label for="keWidth" style="width:60px;">'+i.width+"</label>",'<input type="text" id="keWidth" class="ke-input-text ke-input-number" name="width" value="550" maxlength="4" /> ',"</div>",'<div class="ke-dialog-row">','<label for="keHeight" style="width:60px;">'+i.height+"</label>",'<input type="text" id="keHeight" class="ke-input-text ke-input-number" name="height" value="400" maxlength="4" /> ',"</div>","</div>"].join(""),d=t.createDialog({name:n,width:450,title:t.lang(n),body:c,yesBtn:{name:t.lang("yes"),click:function(n){var i=e.trim(f.val()),r=g.val(),a=m.val();if("http://"==i||e.invalidUrl(i))return alert(t.lang("invalidUrl")),void f[0].focus();if(!/^\d*$/.test(r))return alert(t.lang("invalidWidth")),void g[0].focus();if(!/^\d*$/.test(a))return alert(t.lang("invalidHeight")),void m[0].focus();var o=e.mediaImg(t.themesPath+"common/blank.gif",{src:i,type:e.mediaType(".swf"),width:r,height:a,quality:"high"});t.insertHtml(o).hideDialog().focus()}}}),h=d.div,f=e('[name="url"]',h),p=e('[name="viewServer"]',h),g=e('[name="width"]',h),m=e('[name="height"]',h);if(f.val("http://"),r){var v=e.uploadbutton({button:e(".ke-upload-button",h)[0],fieldName:l,extraParams:s,url:e.addParam(u,"dir=flash"),afterUpload:function(i){if(d.hideLoading(),0===i.error){var r=i.url;o&&(r=e.formatUrl(r,"absolute")),f.val(r),t.afterUpload&&t.afterUpload.call(t,r,i,n),alert(t.lang("uploadSuccess"))}else alert(i.message)},afterError:function(e){d.hideLoading(),t.errorDialog(e)}});v.fileBox.change(function(e){d.showLoading(t.lang("uploadLoading")),v.submit()})}else e(".ke-upload-button",h).hide();a?p.click(function(n){t.loadPlugin("filemanager",function(){t.plugin.filemanagerDialog({viewType:"LIST",dirName:"flash",clickFn:function(n,i){t.dialogs.length>1&&(e('[name="url"]',h).val(n),t.afterSelectFile&&t.afterSelectFile.call(t,n),t.hideDialog())}})})}):p.hide();var y=t.plugin.getSelectedFlash();if(y){var _=e.mediaAttrs(y.attr("data-ke-tag"));f.val(_.src),g.val(e.removeUnit(y.css("width"))||_.width||0),m.val(e.removeUnit(y.css("height"))||_.height||0)}f[0].focus(),f[0].select()},"delete":function(){t.plugin.getSelectedFlash().remove(),t.addBookmark()}},t.clickToolbar(n,t.plugin.flash.edit)}),KindEditor.plugin("image",function(e){var t=this,n="image",i=e.undef(t.allowImageUpload,!0),r=e.undef(t.allowImageRemote,!0),a=e.undef(t.formatUploadUrl,!0),o=e.undef(t.allowFileManager,!1),s=e.undef(t.uploadJson,t.basePath+"php/upload_json.php"),l=e.undef(t.imageTabIndex,0),u=t.pluginsPath+"image/images/",c=e.undef(t.extraFileUploadParams,{}),d=e.undef(t.filePostName,"imgFile"),h=e.undef(t.fillDescAfterUploadImage,!1),f=t.lang(n+".");t.plugin.imageDialog=function(i){function r(e,t){M.val(e),A.val(t),F=e,N=t}var l=(i.imageUrl,e.undef(i.imageWidth,""),e.undef(i.imageHeight,""),e.undef(i.imageTitle,""),e.undef(i.imageAlign,""),e.undef(i.showRemote,!0)),p=e.undef(i.showLocal,!0),g=e.undef(i.tabIndex,0),m=i.clickFn,v="kindeditor_upload_iframe_"+(new Date).getTime(),y=[];for(var _ in c)y.push('<input type="hidden" name="'+_+'" value="'+c[_]+'" />');var b,x=['<div style="padding:20px;">','<div class="tabs"></div>','<div class="tab1" style="display:none;">','<div class="ke-dialog-row">','<label for="remoteUrl" style="width:60px;">'+f.remoteUrl+"</label>",'<input type="text" id="remoteUrl" class="ke-input-text" name="url" value="" style="width:200px;" /> &nbsp;','<span class="ke-button-common ke-button-outer"><input type="button" class="ke-button-common ke-button" name="nswSelectImg" value="图片空间"></span>','<span class="ke-button-common ke-button-outer">','<input type="button" class="ke-button-common ke-button" name="viewServer" value="'+f.viewServer+'" />',"</span>","</div>",'<div class="ke-dialog-row">','<label for="remoteWidth" style="width:60px;">'+f.size+"</label>",f.width+' <input type="text" id="remoteWidth" class="ke-input-text ke-input-number" name="width" value="" maxlength="4" /> ',f.height+' <input type="text" class="ke-input-text ke-input-number" name="height" value="" maxlength="4" /> ','<img class="ke-refresh-btn" src="'+u+'refresh.png" width="16" height="16" alt="" style="cursor:pointer;" title="'+f.resetSize+'" />',"</div>",'<div class="ke-dialog-row">','<label style="width:60px;">'+f.align+"</label>",'<input type="radio" name="align" class="ke-inline-block" value="" checked="checked" /> <img name="defaultImg" src="'+u+'align_top.gif" width="23" height="25" alt="" />',' <input type="radio" name="align" class="ke-inline-block" value="left" /> <img name="leftImg" src="'+u+'align_left.gif" width="23" height="25" alt="" />',' <input type="radio" name="align" class="ke-inline-block" value="right" /> <img name="rightImg" src="'+u+'align_right.gif" width="23" height="25" alt="" />',"</div>",'<div class="ke-dialog-row">','<label for="remoteTitle" style="width:60px;">'+f.imgTitle+"</label>",'<input type="text" id="remoteTitle" class="ke-input-text" name="title" value="" style="width:200px;" />',"</div>","</div>",'<div class="tab2" style="display:none;">','<iframe name="'+v+'" style="display:none;"></iframe>','<form class="ke-upload-area ke-form" method="post" enctype="multipart/form-data" target="'+v+'" action="'+e.addParam(s,"dir=image")+'">','<div class="ke-dialog-row">',y.join(""),'<label style="width:60px;">'+f.localUrl+"</label>",'<input type="text" name="localUrl" class="ke-input-text" tabindex="-1" style="width:200px;" readonly="true" /> &nbsp;','<input type="button" class="ke-upload-button" value="'+f.upload+'" />',"</div>","</form>","</div>","</div>"].join(""),w=p||o?450:400,k=p&&l?300:250,S=t.createDialog({
name:n,width:w,height:k,title:t.lang(n),body:x,yesBtn:{name:t.lang("yes"),click:function(n){if(!S.isLoading){if(p&&l&&b&&1===b.selectedIndex||!l)return""==L.fileBox.val()?void alert(t.lang("pleaseSelectFile")):(S.showLoading(t.lang("uploadLoading")),L.submit(),void C.val(""));var i=e.trim(T.val()),r=M.val(),a=A.val(),o=I.val(),s="";return O.each(function(){if(this.checked)return s=this.value,!1}),"http://"==i||e.invalidUrl(i)?(alert(t.lang("invalidUrl")),void T[0].focus()):/^\d*$/.test(r)?/^\d*$/.test(a)?void m.call(t,i,o,r,a,0,s):(alert(t.lang("invalidHeight")),void A[0].focus()):(alert(t.lang("invalidWidth")),void M[0].focus())}}},beforeRemove:function(){D.unbind(),M.unbind(),A.unbind(),R.unbind()}}),E=S.div,T=e('[name="url"]',E),C=e('[name="localUrl"]',E),D=e('[name="viewServer"]',E),M=e('.tab1 [name="width"]',E),A=e('.tab1 [name="height"]',E),R=e(".ke-refresh-btn",E),I=e('.tab1 [name="title"]',E),O=e('.tab1 [name="align"]',E),P=e('.tab1 [name="nswSelectImg"]',E);l&&p?(b=e.tabs({src:e(".tabs",E),afterSelect:function(e){}}),b.add({title:f.remoteImage,panel:e(".tab1",E)}),b.add({title:f.localImage,panel:e(".tab2",E)}),b.select(g)):l?e(".tab1",E).show():p&&e(".tab2",E).show();var L=e.uploadbutton({button:e(".ke-upload-button",E)[0],fieldName:d,form:e(".ke-form",E),target:v,width:60,afterUpload:function(i){if(S.hideLoading(),0===i.error){var r=i.url;a&&(r=e.formatUrl(r,"absolute")),t.afterUpload&&t.afterUpload.call(t,r,i,n),h?(e(".ke-dialog-row #remoteUrl",E).val(r),e(".ke-tabs-li",E)[0].click(),e(".ke-refresh-btn",E).click()):m.call(t,r,i.title,i.width,i.height,i.border,i.align)}else alert(i.message)},afterError:function(e){S.hideLoading(),t.errorDialog(e)}});L.fileBox.change(function(e){C.val(L.fileBox.val())}),o?D.click(function(n){t.loadPlugin("filemanager",function(){t.plugin.filemanagerDialog({viewType:"VIEW",dirName:"image",clickFn:function(n,i){t.dialogs.length>1&&(e('[name="url"]',E).val(n),t.afterSelectFile&&t.afterSelectFile.call(t,n),t.hideDialog())}})})}):D.hide();var F=0,N=0;return R.click(function(t){var n=e('<img src="'+T.val()+'" />',document).css({position:"absolute",visibility:"hidden",top:0,left:"-1000px"});n.bind("load",function(){r(n.width(),n.height()),n.remove()}),e(document.body).append(n)}),P.click(function(t){var n=angular.element("body").injector().get("platformImgLibSvc");n.showImgLibModal({count:1,size:300,width:800,height:800,ext:"gif,jpg,jpeg,bmp,png"},{url:e('[name="url"]',E).val()},!0).then(function(t){if(t&&t[0]){var n=globals.basImagePath+t[0].fileId;console.log(n),e('[name="url"]',E).val(n),e('[name="title"]',E).val(t[0].name||t[0].fileName),e('[name="align"]',E).val(t[0].align)}})}),M.change(function(e){F>0&&A.val(Math.round(N/F*parseInt(this.value,10)))}),A.change(function(e){N>0&&M.val(Math.round(F/N*parseInt(this.value,10)))}),T.val(i.imageUrl),r(i.imageWidth,i.imageHeight),I.val(i.imageTitle),O.each(function(){if(this.value===i.imageAlign)return this.checked=!0,!1}),l&&0===g&&(T[0].focus(),T[0].select()),S},t.plugin.image={edit:function(){var e=t.plugin.getSelectedImage();t.plugin.imageDialog({imageUrl:e?e.attr("data-ke-src"):"http://",imageWidth:e?e.width():"",imageHeight:e?e.height():"",imageTitle:e?e.attr("title"):"",imageAlign:e?e.attr("align"):"",showRemote:r,showLocal:i,tabIndex:e?0:l,clickFn:function(n,i,r,a,o,s){e?(e.attr("src",n),e.attr("data-ke-src",n),e.attr("width",r),e.attr("height",a),e.attr("title",i),e.attr("align",s),e.attr("alt",i)):t.exec("insertimage",n,i,r,a,o,s),setTimeout(function(){t.hideDialog().focus()},0)}})},"delete":function(){var e=t.plugin.getSelectedImage();"a"==e.parent().name&&(e=e.parent()),e.remove(),t.addBookmark()}},t.clickToolbar(n,t.plugin.image.edit)}),KindEditor.plugin("insertfile",function(e){var t=this,n="insertfile",i=e.undef(t.allowFileUpload,!0),r=e.undef(t.allowFileManager,!1),a=e.undef(t.formatUploadUrl,!0),o=e.undef(t.uploadJson,t.basePath+"php/upload_json.php"),s=e.undef(t.extraFileUploadParams,{}),l=e.undef(t.filePostName,"imgFile"),u=t.lang(n+".");t.plugin.fileDialog=function(c){var d=e.undef(c.fileUrl,"http://"),h=e.undef(c.fileTitle,""),f=c.clickFn,p=['<div style="padding:20px;">','<div class="ke-dialog-row">','<label for="keUrl" style="width:60px;">'+u.url+"</label>",'<input type="text" id="keUrl" name="url" class="ke-input-text" style="width:160px;" /> &nbsp;','<input type="button" class="ke-upload-button" value="'+u.upload+'" /> &nbsp;','<span class="ke-button-common ke-button-outer">','<input type="button" class="ke-button-common ke-button" name="viewServer" value="'+u.viewServer+'" />',"</span>","</div>",'<div class="ke-dialog-row">','<label for="keTitle" style="width:60px;">'+u.title+"</label>",'<input type="text" id="keTitle" class="ke-input-text" name="title" value="" style="width:160px;" /></div>',"</div>","</form>","</div>"].join(""),g=t.createDialog({name:n,width:450,title:t.lang(n),body:p,yesBtn:{name:t.lang("yes"),click:function(n){var i=e.trim(v.val()),r=_.val();return"http://"==i||e.invalidUrl(i)?(alert(t.lang("invalidUrl")),void v[0].focus()):(""===e.trim(r)&&(r=i),void f.call(t,i,r))}}}),m=g.div,v=e('[name="url"]',m),y=e('[name="viewServer"]',m),_=e('[name="title"]',m);if(i){var b=e.uploadbutton({button:e(".ke-upload-button",m)[0],fieldName:l,url:e.addParam(o,"dir=file"),extraParams:s,afterUpload:function(i){if(g.hideLoading(),0===i.error){var r=i.url;a&&(r=e.formatUrl(r,"absolute")),v.val(r),t.afterUpload&&t.afterUpload.call(t,r,i,n),alert(t.lang("uploadSuccess"))}else alert(i.message)},afterError:function(e){g.hideLoading(),t.errorDialog(e)}});b.fileBox.change(function(e){g.showLoading(t.lang("uploadLoading")),b.submit()})}else e(".ke-upload-button",m).hide();r?y.click(function(n){t.loadPlugin("filemanager",function(){t.plugin.filemanagerDialog({viewType:"LIST",dirName:"file",clickFn:function(n,i){t.dialogs.length>1&&(e('[name="url"]',m).val(n),t.afterSelectFile&&t.afterSelectFile.call(t,n),t.hideDialog())}})})}):y.hide(),v.val(d),_.val(h),v[0].focus(),v[0].select()},t.clickToolbar(n,function(){t.plugin.fileDialog({clickFn:function(e,n){var i='<a class="ke-insertfile" href="'+e+'" data-ke-src="'+e+'" target="_blank">'+n+"</a>";t.insertHtml(i).hideDialog().focus()}})})}),KindEditor.plugin("lineheight",function(e){var t=this,n="lineheight",i=t.lang(n+".");t.clickToolbar(n,function(){var r="",a=t.cmd.commonNode({"*":".line-height"});a&&(r=a.css("line-height"));var o=t.createMenu({name:n,width:150});e.each(i.lineHeight,function(n,i){e.each(i,function(e,n){o.addItem({title:n,checked:r===e,click:function(){t.cmd.toggle('<span style="line-height:'+e+';"></span>',{span:".line-height="+e}),t.updateState(),t.addBookmark(),t.hideMenu()}})})})})}),KindEditor.plugin("link",function(e){var t=this,n="link";t.plugin.link={edit:function(){var i=t.lang(n+"."),r='<div style="padding:20px;"><div class="ke-dialog-row"><label for="keUrl" style="width:60px;">'+i.url+'</label><input class="ke-input-text" type="text" id="keUrl" name="url" value="" style="width:260px;" /></div><div class="ke-dialog-row""><label for="keType" style="width:60px;">'+i.linkType+'</label><select id="keType" name="type"></select></div></div>',a=t.createDialog({name:n,width:450,title:t.lang(n),body:r,yesBtn:{name:t.lang("yes"),click:function(n){var i=e.trim(s.val());return"http://"==i||e.invalidUrl(i)?(alert(t.lang("invalidUrl")),void s[0].focus()):void(t.isEmotion?t.exec("createlink",i).hideDialog().focus():t.exec("createlink",i,l.val()).hideDialog().focus())}}}),o=a.div,s=e('input[name="url"]',o),l=e('select[name="type"]',o);s.val("http://"),l[0].options[0]=new Option(i.newWindow,"_blank"),l[0].options[1]=new Option(i.selfWindow,""),t.isEmotion&&(l.css("display","none"),e('label[for="keType"]',o).css("display","none")),t.cmd.selection();var u=t.plugin.getSelectedLink();u&&(t.cmd.range.selectNode(u[0]),t.cmd.select(),s.val(u.attr("data-ke-src")),l.val(u.attr("target"))),s[0].focus(),s[0].select()},"delete":function(){t.exec("unlink",null)}},t.clickToolbar(n,t.plugin.link.edit)}),KindEditor.plugin("media",function(e){var t=this,n="media",i=t.lang(n+"."),r=e.undef(t.allowMediaUpload,!0),a=e.undef(t.allowFileManager,!1),o=e.undef(t.formatUploadUrl,!0),s=e.undef(t.extraFileUploadParams,{}),l=e.undef(t.filePostName,"imgFile"),u=e.undef(t.uploadJson,t.basePath+"php/upload_json.php");t.plugin.media={edit:function(){var c=['<div style="padding:20px;">','<div class="ke-dialog-row">','<label for="keUrl" style="width:60px;">'+i.url+"</label>",'<input class="ke-input-text" type="text" id="keUrl" name="url" value="" style="width:160px;" /> &nbsp;','<input type="button" class="ke-upload-button" value="'+i.upload+'" /> &nbsp;','<span class="ke-button-common ke-button-outer">','<input type="button" class="ke-button-common ke-button" name="viewServer" value="'+i.viewServer+'" />',"</span>","</div>",'<div class="ke-dialog-row">','<label for="keWidth" style="width:60px;">'+i.width+"</label>",'<input type="text" id="keWidth" class="ke-input-text ke-input-number" name="width" value="550" maxlength="4" />',"</div>",'<div class="ke-dialog-row">','<label for="keHeight" style="width:60px;">'+i.height+"</label>",'<input type="text" id="keHeight" class="ke-input-text ke-input-number" name="height" value="400" maxlength="4" />',"</div>",'<div class="ke-dialog-row">','<label for="keAutostart">'+i.autostart+"</label>",'<input type="checkbox" id="keAutostart" name="autostart" value="" /> ',"</div>","</div>"].join(""),d=t.createDialog({name:n,width:450,height:230,title:t.lang(n),body:c,yesBtn:{name:t.lang("yes"),click:function(n){var i=e.trim(f.val()),r=g.val(),a=m.val();if("http://"==i||e.invalidUrl(i))return alert(t.lang("invalidUrl")),void f[0].focus();if(!/^\d*$/.test(r))return alert(t.lang("invalidWidth")),void g[0].focus();if(!/^\d*$/.test(a))return alert(t.lang("invalidHeight")),void m[0].focus();var o=e.mediaImg(t.themesPath+"common/blank.gif",{src:i,type:e.mediaType(i),width:r,height:a,autostart:v[0].checked?"true":"false",loop:"true"});t.insertHtml(o).hideDialog().focus()}}}),h=d.div,f=e('[name="url"]',h),p=e('[name="viewServer"]',h),g=e('[name="width"]',h),m=e('[name="height"]',h),v=e('[name="autostart"]',h);if(f.val("http://"),r){var y=e.uploadbutton({button:e(".ke-upload-button",h)[0],fieldName:l,extraParams:s,url:e.addParam(u,"dir=media"),afterUpload:function(i){if(d.hideLoading(),0===i.error){var r=i.url;o&&(r=e.formatUrl(r,"absolute")),f.val(r),t.afterUpload&&t.afterUpload.call(t,r,i,n),alert(t.lang("uploadSuccess"))}else alert(i.message)},afterError:function(e){d.hideLoading(),t.errorDialog(e)}});y.fileBox.change(function(e){d.showLoading(t.lang("uploadLoading")),y.submit()})}else e(".ke-upload-button",h).hide();a?p.click(function(n){t.loadPlugin("filemanager",function(){t.plugin.filemanagerDialog({viewType:"LIST",dirName:"media",clickFn:function(n,i){t.dialogs.length>1&&(e('[name="url"]',h).val(n),t.afterSelectFile&&t.afterSelectFile.call(t,n),t.hideDialog())}})})}):p.hide();var _=t.plugin.getSelectedMedia();if(_){var b=e.mediaAttrs(_.attr("data-ke-tag"));f.val(b.src),g.val(e.removeUnit(_.css("width"))||b.width||0),m.val(e.removeUnit(_.css("height"))||b.height||0),v[0].checked="true"===b.autostart}f[0].focus(),f[0].select()},"delete":function(){t.plugin.getSelectedMedia().remove(),t.addBookmark()}},t.clickToolbar(n,t.plugin.media.edit)}),function(e){function t(e){this.init(e)}e.extend(t,{init:function(t){function n(t,n){e(".ke-status > div",t).hide(),e(".ke-message",t).addClass("ke-error").show().html(e.escape(n))}var i=this;t.afterError=t.afterError||function(e){alert(e)},i.options=t,i.progressbars={},i.div=e(t.container).html(['<div class="ke-swfupload">','<div class="ke-swfupload-top">','<div class="ke-inline-block ke-swfupload-button">','<input type="button" value="Browse" />',"</div>",'<div class="ke-inline-block ke-swfupload-desc">'+t.uploadDesc+"</div>",'<span class="ke-button-common ke-button-outer ke-swfupload-startupload">','<input type="button" class="ke-button-common ke-button" value="'+t.startButtonValue+'" />',"</span>","</div>",'<div class="ke-swfupload-body"></div>',"</div>"].join("")),i.bodyDiv=e(".ke-swfupload-body",i.div);var r={debug:!1,upload_url:t.uploadUrl,flash_url:t.flashUrl,file_post_name:t.filePostName,button_placeholder:e(".ke-swfupload-button > input",i.div)[0],button_image_url:t.buttonImageUrl,button_width:t.buttonWidth,button_height:t.buttonHeight,button_cursor:SWFUpload.CURSOR.HAND,file_types:t.fileTypes,file_types_description:t.fileTypesDesc,file_upload_limit:t.fileUploadLimit,file_size_limit:t.fileSizeLimit,post_params:t.postParams,file_queued_handler:function(e){e.url=i.options.fileIconUrl,i.appendFile(e)},file_queue_error_handler:function(n,i,r){var a="";switch(i){case SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED:a=t.queueLimitExceeded;break;case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:a=t.fileExceedsSizeLimit;break;case SWFUpload.QUEUE_ERROR.ZERO_BYTE_FILE:a=t.zeroByteFile;break;case SWFUpload.QUEUE_ERROR.INVALID_FILETYPE:a=t.invalidFiletype;break;default:a=t.unknownError}e.DEBUG&&alert(a)},upload_start_handler:function(t){var n=this,i=e('div[data-id="'+t.id+'"]',n.bodyDiv);e(".ke-status > div",i).hide(),e(".ke-progressbar",i).show()},upload_progress_handler:function(e,t,n){var r=Math.round(100*t/n),a=i.progressbars[e.id];a.bar.css("width",Math.round(80*r/100)+"px"),a.percent.html(r+"%")},upload_error_handler:function(t,r,a){if(t&&t.filestatus==SWFUpload.FILE_STATUS.ERROR){var o=e('div[data-id="'+t.id+'"]',i.bodyDiv).eq(0);n(o,i.options.errorMessage)}},upload_success_handler:function(t,r){var a=e('div[data-id="'+t.id+'"]',i.bodyDiv).eq(0),o={};try{o=e.json(r)}catch(s){i.options.afterError.call(this,"<!doctype html><html>"+r+"</html>")}return 0!==o.error?void n(a,e.DEBUG?o.message:i.options.errorMessage):(t.url=o.url,e(".ke-img",a).attr("src",t.url).attr("data-status",t.filestatus).data("data",o),void e(".ke-status > div",a).hide())}};i.swfu=new SWFUpload(r),e(".ke-swfupload-startupload input",i.div).click(function(){i.swfu.startUpload()})},getUrlList:function(){var t=[];return e(".ke-img",self.bodyDiv).each(function(){var n=e(this),i=n.attr("data-status");i==SWFUpload.FILE_STATUS.COMPLETE&&t.push(n.data("data"))}),t},removeFile:function(t){var n=this;n.swfu.cancelUpload(t);var i=e('div[data-id="'+t+'"]',n.bodyDiv);e(".ke-photo",i).unbind(),e(".ke-delete",i).unbind(),i.remove()},removeFiles:function(){var t=this;e(".ke-item",t.bodyDiv).each(function(){t.removeFile(e(this).attr("data-id"))})},appendFile:function(t){var n=this,i=e('<div class="ke-inline-block ke-item" data-id="'+t.id+'"></div>');n.bodyDiv.append(i);var r=e('<div class="ke-inline-block ke-photo"></div>').mouseover(function(t){e(this).addClass("ke-on")}).mouseout(function(t){e(this).removeClass("ke-on")});i.append(r);var a=e('<img src="'+t.url+'" class="ke-img" data-status="'+t.filestatus+'" width="80" height="80" alt="'+t.name+'" />');r.append(a),e('<span class="ke-delete"></span>').appendTo(r).click(function(){n.removeFile(t.id)});var o=e('<div class="ke-status"></div>').appendTo(r);e(['<div class="ke-progressbar">','<div class="ke-progressbar-bar"><div class="ke-progressbar-bar-inner"></div></div>','<div class="ke-progressbar-percent">0%</div></div>'].join("")).hide().appendTo(o),e('<div class="ke-message">'+n.options.pendingMessage+"</div>").appendTo(o),i.append('<div class="ke-name">'+t.name+"</div>"),n.progressbars[t.id]={bar:e(".ke-progressbar-bar-inner",r),percent:e(".ke-progressbar-percent",r)}},remove:function(){this.removeFiles(),this.swfu.destroy(),this.div.html("")}}),e.swfupload=function(e,n){return new t(e,n)}}(KindEditor),KindEditor.plugin("multiimage",function(e){var t=this,n="multiimage",i=(e.undef(t.formatUploadUrl,!0),e.undef(t.uploadJson,t.basePath+"php/upload_json.php")),r=t.pluginsPath+"multiimage/images/",a=e.undef(t.imageSizeLimit,"1MB"),o=(e.undef(t.imageFileTypes,"*.jpg;*.gif;*.png"),e.undef(t.imageUploadLimit,20)),s=e.undef(t.filePostName,"imgFile"),l=t.lang(n+".");t.plugin.multiImageDialog=function(u){var c=u.clickFn,d=e.tmpl(l.uploadDesc,{uploadLimit:o,sizeLimit:a}),h=['<div style="padding:20px;">','<div class="swfupload">',"</div>","</div>"].join(""),f=t.createDialog({name:n,width:650,height:510,title:t.lang(n),body:h,previewBtn:{name:l.insertAll,click:function(e){c.call(t,g.getUrlList())}},yesBtn:{name:l.clearAll,click:function(e){g.removeFiles()}},beforeRemove:function(){(!e.IE||e.V<=8)&&g.remove()}}),p=f.div,g=e.swfupload({container:e(".swfupload",p),buttonImageUrl:r+("zh-CN"==t.langType?"select-files-zh-CN.png":"select-files-en.png"),buttonWidth:"zh-CN"==t.langType?72:88,buttonHeight:23,fileIconUrl:r+"image.png",uploadDesc:d,startButtonValue:l.startUpload,uploadUrl:e.addParam(i,"dir=image"),flashUrl:r+"swfupload.swf",filePostName:s,fileTypes:"*.jpg;*.jpeg;*.gif;*.png;*.bmp",fileTypesDesc:"Image Files",fileUploadLimit:o,fileSizeLimit:a,postParams:e.undef(t.extraFileUploadParams,{}),queueLimitExceeded:l.queueLimitExceeded,fileExceedsSizeLimit:l.fileExceedsSizeLimit,zeroByteFile:l.zeroByteFile,invalidFiletype:l.invalidFiletype,unknownError:l.unknownError,pendingMessage:l.pending,errorMessage:l.uploadError,afterError:function(e){t.errorDialog(e)}});return f},t.clickToolbar(n,function(){t.plugin.multiImageDialog({clickFn:function(n){0!==n.length&&(e.each(n,function(e,n){t.afterUpload&&t.afterUpload.call(t,n.url,n,"multiimage"),t.exec("insertimage",n.url,n.title,n.width,n.height,n.border,n.align)}),setTimeout(function(){t.hideDialog().focus()},0))}})})}),function(){window.SWFUpload=function(e){this.initSWFUpload(e)},SWFUpload.prototype.initSWFUpload=function(e){try{this.customSettings={},this.settings=e,this.eventQueue=[],this.movieName="KindEditor_SWFUpload_"+SWFUpload.movieCount++,this.movieElement=null,SWFUpload.instances[this.movieName]=this,this.initSettings(),this.loadFlash(),this.displayDebugInfo()}catch(t){throw delete SWFUpload.instances[this.movieName],t}},SWFUpload.instances={},SWFUpload.movieCount=0,SWFUpload.version="2.2.0 2009-03-25",SWFUpload.QUEUE_ERROR={QUEUE_LIMIT_EXCEEDED:-100,FILE_EXCEEDS_SIZE_LIMIT:-110,ZERO_BYTE_FILE:-120,INVALID_FILETYPE:-130},SWFUpload.UPLOAD_ERROR={HTTP_ERROR:-200,MISSING_UPLOAD_URL:-210,IO_ERROR:-220,SECURITY_ERROR:-230,UPLOAD_LIMIT_EXCEEDED:-240,UPLOAD_FAILED:-250,SPECIFIED_FILE_ID_NOT_FOUND:-260,FILE_VALIDATION_FAILED:-270,FILE_CANCELLED:-280,UPLOAD_STOPPED:-290},SWFUpload.FILE_STATUS={QUEUED:-1,IN_PROGRESS:-2,ERROR:-3,COMPLETE:-4,CANCELLED:-5},SWFUpload.BUTTON_ACTION={SELECT_FILE:-100,SELECT_FILES:-110,START_UPLOAD:-120},SWFUpload.CURSOR={ARROW:-1,HAND:-2},SWFUpload.WINDOW_MODE={WINDOW:"window",TRANSPARENT:"transparent",OPAQUE:"opaque"},SWFUpload.completeURL=function(e){if("string"!=typeof e||e.match(/^https?:\/\//i)||e.match(/^\//))return e;var t=(window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),window.location.pathname.lastIndexOf("/"));return t<=0?path="/":path=window.location.pathname.substr(0,t)+"/",path+e},SWFUpload.prototype.initSettings=function(){this.ensureDefault=function(e,t){this.settings[e]=void 0==this.settings[e]?t:this.settings[e]},this.ensureDefault("upload_url",""),this.ensureDefault("preserve_relative_urls",!1),this.ensureDefault("file_post_name","Filedata"),this.ensureDefault("post_params",{}),this.ensureDefault("use_query_string",!1),this.ensureDefault("requeue_on_error",!1),this.ensureDefault("http_success",[]),this.ensureDefault("assume_success_timeout",0),this.ensureDefault("file_types","*.*"),this.ensureDefault("file_types_description","All Files"),this.ensureDefault("file_size_limit",0),this.ensureDefault("file_upload_limit",0),this.ensureDefault("file_queue_limit",0),this.ensureDefault("flash_url","swfupload.swf"),this.ensureDefault("prevent_swf_caching",!0),this.ensureDefault("button_image_url",""),this.ensureDefault("button_width",1),this.ensureDefault("button_height",1),this.ensureDefault("button_text",""),this.ensureDefault("button_text_style","color: #000000; font-size: 16pt;"),this.ensureDefault("button_text_top_padding",0),this.ensureDefault("button_text_left_padding",0),this.ensureDefault("button_action",SWFUpload.BUTTON_ACTION.SELECT_FILES),this.ensureDefault("button_disabled",!1),this.ensureDefault("button_placeholder_id",""),this.ensureDefault("button_placeholder",null),this.ensureDefault("button_cursor",SWFUpload.CURSOR.ARROW),this.ensureDefault("button_window_mode",SWFUpload.WINDOW_MODE.WINDOW),this.ensureDefault("debug",!1),this.settings.debug_enabled=this.settings.debug,this.settings.return_upload_start_handler=this.returnUploadStart,this.ensureDefault("swfupload_loaded_handler",null),this.ensureDefault("file_dialog_start_handler",null),this.ensureDefault("file_queued_handler",null),this.ensureDefault("file_queue_error_handler",null),this.ensureDefault("file_dialog_complete_handler",null),this.ensureDefault("upload_start_handler",null),this.ensureDefault("upload_progress_handler",null),this.ensureDefault("upload_error_handler",null),this.ensureDefault("upload_success_handler",null),this.ensureDefault("upload_complete_handler",null),this.ensureDefault("debug_handler",this.debugMessage),this.ensureDefault("custom_settings",{}),this.customSettings=this.settings.custom_settings,this.settings.prevent_swf_caching&&(this.settings.flash_url=this.settings.flash_url+(this.settings.flash_url.indexOf("?")<0?"?":"&")+"preventswfcaching="+(new Date).getTime()),this.settings.preserve_relative_urls||(this.settings.upload_url=SWFUpload.completeURL(this.settings.upload_url),this.settings.button_image_url=SWFUpload.completeURL(this.settings.button_image_url)),delete this.ensureDefault},SWFUpload.prototype.loadFlash=function(){var e,t;if(null!==document.getElementById(this.movieName))throw"ID "+this.movieName+" is already in use. The Flash Object could not be added";if(e=document.getElementById(this.settings.button_placeholder_id)||this.settings.button_placeholder,void 0==e)throw"Could not find the placeholder element: "+this.settings.button_placeholder_id;t=document.createElement("div"),t.innerHTML=this.getFlashHTML(),e.parentNode.replaceChild(t.firstChild,e),void 0==window[this.movieName]&&(window[this.movieName]=this.getMovieElement())},SWFUpload.prototype.getFlashHTML=function(){var e="";return KindEditor.IE&&KindEditor.V>8&&(e=' classid = "clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"'),['<object id="',this.movieName,'"'+e+' type="application/x-shockwave-flash" data="',this.settings.flash_url,'" width="',this.settings.button_width,'" height="',this.settings.button_height,'" class="swfupload">','<param name="wmode" value="',this.settings.button_window_mode,'" />','<param name="movie" value="',this.settings.flash_url,'" />','<param name="quality" value="high" />','<param name="menu" value="false" />','<param name="allowScriptAccess" value="always" />','<param name="flashvars" value="'+this.getFlashVars()+'" />',"</object>"].join("")},SWFUpload.prototype.getFlashVars=function(){var e=this.buildParamString(),t=this.settings.http_success.join(",");return["movieName=",encodeURIComponent(this.movieName),"&amp;uploadURL=",encodeURIComponent(this.settings.upload_url),"&amp;useQueryString=",encodeURIComponent(this.settings.use_query_string),"&amp;requeueOnError=",encodeURIComponent(this.settings.requeue_on_error),"&amp;httpSuccess=",encodeURIComponent(t),"&amp;assumeSuccessTimeout=",encodeURIComponent(this.settings.assume_success_timeout),"&amp;params=",encodeURIComponent(e),"&amp;filePostName=",encodeURIComponent(this.settings.file_post_name),"&amp;fileTypes=",encodeURIComponent(this.settings.file_types),"&amp;fileTypesDescription=",encodeURIComponent(this.settings.file_types_description),"&amp;fileSizeLimit=",encodeURIComponent(this.settings.file_size_limit),"&amp;fileUploadLimit=",encodeURIComponent(this.settings.file_upload_limit),"&amp;fileQueueLimit=",encodeURIComponent(this.settings.file_queue_limit),"&amp;debugEnabled=",encodeURIComponent(this.settings.debug_enabled),"&amp;buttonImageURL=",encodeURIComponent(this.settings.button_image_url),"&amp;buttonWidth=",encodeURIComponent(this.settings.button_width),"&amp;buttonHeight=",encodeURIComponent(this.settings.button_height),"&amp;buttonText=",encodeURIComponent(this.settings.button_text),"&amp;buttonTextTopPadding=",encodeURIComponent(this.settings.button_text_top_padding),"&amp;buttonTextLeftPadding=",encodeURIComponent(this.settings.button_text_left_padding),"&amp;buttonTextStyle=",encodeURIComponent(this.settings.button_text_style),"&amp;buttonAction=",encodeURIComponent(this.settings.button_action),"&amp;buttonDisabled=",encodeURIComponent(this.settings.button_disabled),"&amp;buttonCursor=",encodeURIComponent(this.settings.button_cursor)].join("")},SWFUpload.prototype.getMovieElement=function(){if(void 0==this.movieElement&&(this.movieElement=document.getElementById(this.movieName)),null===this.movieElement)throw"Could not find Flash element";return this.movieElement},SWFUpload.prototype.buildParamString=function(){var e=this.settings.post_params,t=[];if("object"==typeof e)for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n.toString())+"="+encodeURIComponent(e[n].toString()));return t.join("&amp;")},SWFUpload.prototype.destroy=function(){try{this.cancelUpload(null,!1);var e=null;if(e=this.getMovieElement(),e&&"unknown"==typeof e.CallFunction){for(var t in e)try{"function"==typeof e[t]&&(e[t]=null)}catch(n){}try{e.parentNode.removeChild(e)}catch(i){}}return window[this.movieName]=null,SWFUpload.instances[this.movieName]=null,delete SWFUpload.instances[this.movieName],this.movieElement=null,this.settings=null,this.customSettings=null,this.eventQueue=null,this.movieName=null,!0}catch(r){return!1}},SWFUpload.prototype.displayDebugInfo=function(){this.debug(["---SWFUpload Instance Info---\n","Version: ",SWFUpload.version,"\n","Movie Name: ",this.movieName,"\n","Settings:\n","\t","upload_url:               ",this.settings.upload_url,"\n","\t","flash_url:                ",this.settings.flash_url,"\n","\t","use_query_string:         ",this.settings.use_query_string.toString(),"\n","\t","requeue_on_error:         ",this.settings.requeue_on_error.toString(),"\n","\t","http_success:             ",this.settings.http_success.join(", "),"\n","\t","assume_success_timeout:   ",this.settings.assume_success_timeout,"\n","\t","file_post_name:           ",this.settings.file_post_name,"\n","\t","post_params:              ",this.settings.post_params.toString(),"\n","\t","file_types:               ",this.settings.file_types,"\n","\t","file_types_description:   ",this.settings.file_types_description,"\n","\t","file_size_limit:          ",this.settings.file_size_limit,"\n","\t","file_upload_limit:        ",this.settings.file_upload_limit,"\n","\t","file_queue_limit:         ",this.settings.file_queue_limit,"\n","\t","debug:                    ",this.settings.debug.toString(),"\n","\t","prevent_swf_caching:      ",this.settings.prevent_swf_caching.toString(),"\n","\t","button_placeholder_id:    ",this.settings.button_placeholder_id.toString(),"\n","\t","button_placeholder:       ",this.settings.button_placeholder?"Set":"Not Set","\n","\t","button_image_url:         ",this.settings.button_image_url.toString(),"\n","\t","button_width:             ",this.settings.button_width.toString(),"\n","\t","button_height:            ",this.settings.button_height.toString(),"\n","\t","button_text:              ",this.settings.button_text.toString(),"\n","\t","button_text_style:        ",this.settings.button_text_style.toString(),"\n","\t","button_text_top_padding:  ",this.settings.button_text_top_padding.toString(),"\n","\t","button_text_left_padding: ",this.settings.button_text_left_padding.toString(),"\n","\t","button_action:            ",this.settings.button_action.toString(),"\n","\t","button_disabled:          ",this.settings.button_disabled.toString(),"\n","\t","custom_settings:          ",this.settings.custom_settings.toString(),"\n","Event Handlers:\n","\t","swfupload_loaded_handler assigned:  ",("function"==typeof this.settings.swfupload_loaded_handler).toString(),"\n","\t","file_dialog_start_handler assigned: ",("function"==typeof this.settings.file_dialog_start_handler).toString(),"\n","\t","file_queued_handler assigned:       ",("function"==typeof this.settings.file_queued_handler).toString(),"\n","\t","file_queue_error_handler assigned:  ",("function"==typeof this.settings.file_queue_error_handler).toString(),"\n","\t","upload_start_handler assigned:      ",("function"==typeof this.settings.upload_start_handler).toString(),"\n","\t","upload_progress_handler assigned:   ",("function"==typeof this.settings.upload_progress_handler).toString(),"\n","\t","upload_error_handler assigned:      ",("function"==typeof this.settings.upload_error_handler).toString(),"\n","\t","upload_success_handler assigned:    ",("function"==typeof this.settings.upload_success_handler).toString(),"\n","\t","upload_complete_handler assigned:   ",("function"==typeof this.settings.upload_complete_handler).toString(),"\n","\t","debug_handler assigned:             ",("function"==typeof this.settings.debug_handler).toString(),"\n"].join(""))},SWFUpload.prototype.addSetting=function(e,t,n){return void 0==t?this.settings[e]=n:this.settings[e]=t},SWFUpload.prototype.getSetting=function(e){return void 0!=this.settings[e]?this.settings[e]:""},SWFUpload.prototype.callFlash=function(functionName,argumentArray){argumentArray=argumentArray||[];var movieElement=this.getMovieElement(),returnValue,returnString;try{returnString=movieElement.CallFunction('<invoke name="'+functionName+'" returntype="javascript">'+__flash__argumentsToXML(argumentArray,0)+"</invoke>"),returnValue=eval(returnString)}catch(ex){throw"Call to "+functionName+" failed"}return void 0!=returnValue&&"object"==typeof returnValue.post&&(returnValue=this.unescapeFilePostParams(returnValue)),returnValue},SWFUpload.prototype.selectFile=function(){this.callFlash("SelectFile")},SWFUpload.prototype.selectFiles=function(){this.callFlash("SelectFiles")},SWFUpload.prototype.startUpload=function(e){this.callFlash("StartUpload",[e])},SWFUpload.prototype.cancelUpload=function(e,t){t!==!1&&(t=!0),this.callFlash("CancelUpload",[e,t])},SWFUpload.prototype.stopUpload=function(){this.callFlash("StopUpload")},SWFUpload.prototype.getStats=function(){return this.callFlash("GetStats")},SWFUpload.prototype.setStats=function(e){this.callFlash("SetStats",[e])},SWFUpload.prototype.getFile=function(e){return"number"==typeof e?this.callFlash("GetFileByIndex",[e]):this.callFlash("GetFile",[e])},SWFUpload.prototype.addFileParam=function(e,t,n){return this.callFlash("AddFileParam",[e,t,n])},SWFUpload.prototype.removeFileParam=function(e,t){this.callFlash("RemoveFileParam",[e,t])},SWFUpload.prototype.setUploadURL=function(e){this.settings.upload_url=e.toString(),this.callFlash("SetUploadURL",[e])},SWFUpload.prototype.setPostParams=function(e){this.settings.post_params=e,this.callFlash("SetPostParams",[e])},SWFUpload.prototype.addPostParam=function(e,t){this.settings.post_params[e]=t,this.callFlash("SetPostParams",[this.settings.post_params])},SWFUpload.prototype.removePostParam=function(e){delete this.settings.post_params[e],this.callFlash("SetPostParams",[this.settings.post_params])},SWFUpload.prototype.setFileTypes=function(e,t){this.settings.file_types=e,this.settings.file_types_description=t,this.callFlash("SetFileTypes",[e,t])},SWFUpload.prototype.setFileSizeLimit=function(e){this.settings.file_size_limit=e,this.callFlash("SetFileSizeLimit",[e])},SWFUpload.prototype.setFileUploadLimit=function(e){this.settings.file_upload_limit=e,this.callFlash("SetFileUploadLimit",[e])},SWFUpload.prototype.setFileQueueLimit=function(e){this.settings.file_queue_limit=e,this.callFlash("SetFileQueueLimit",[e])},SWFUpload.prototype.setFilePostName=function(e){this.settings.file_post_name=e,this.callFlash("SetFilePostName",[e])},SWFUpload.prototype.setUseQueryString=function(e){this.settings.use_query_string=e,this.callFlash("SetUseQueryString",[e])},SWFUpload.prototype.setRequeueOnError=function(e){
this.settings.requeue_on_error=e,this.callFlash("SetRequeueOnError",[e])},SWFUpload.prototype.setHTTPSuccess=function(e){"string"==typeof e&&(e=e.replace(" ","").split(",")),this.settings.http_success=e,this.callFlash("SetHTTPSuccess",[e])},SWFUpload.prototype.setAssumeSuccessTimeout=function(e){this.settings.assume_success_timeout=e,this.callFlash("SetAssumeSuccessTimeout",[e])},SWFUpload.prototype.setDebugEnabled=function(e){this.settings.debug_enabled=e,this.callFlash("SetDebugEnabled",[e])},SWFUpload.prototype.setButtonImageURL=function(e){void 0==e&&(e=""),this.settings.button_image_url=e,this.callFlash("SetButtonImageURL",[e])},SWFUpload.prototype.setButtonDimensions=function(e,t){this.settings.button_width=e,this.settings.button_height=t;var n=this.getMovieElement();void 0!=n&&(n.style.width=e+"px",n.style.height=t+"px"),this.callFlash("SetButtonDimensions",[e,t])},SWFUpload.prototype.setButtonText=function(e){this.settings.button_text=e,this.callFlash("SetButtonText",[e])},SWFUpload.prototype.setButtonTextPadding=function(e,t){this.settings.button_text_top_padding=t,this.settings.button_text_left_padding=e,this.callFlash("SetButtonTextPadding",[e,t])},SWFUpload.prototype.setButtonTextStyle=function(e){this.settings.button_text_style=e,this.callFlash("SetButtonTextStyle",[e])},SWFUpload.prototype.setButtonDisabled=function(e){this.settings.button_disabled=e,this.callFlash("SetButtonDisabled",[e])},SWFUpload.prototype.setButtonAction=function(e){this.settings.button_action=e,this.callFlash("SetButtonAction",[e])},SWFUpload.prototype.setButtonCursor=function(e){this.settings.button_cursor=e,this.callFlash("SetButtonCursor",[e])},SWFUpload.prototype.queueEvent=function(e,t){void 0==t?t=[]:t instanceof Array||(t=[t]);var n=this;if("function"==typeof this.settings[e])this.eventQueue.push(function(){this.settings[e].apply(this,t)}),setTimeout(function(){n.executeNextEvent()},0);else if(null!==this.settings[e])throw"Event handler "+e+" is unknown or is not a function"},SWFUpload.prototype.executeNextEvent=function(){var e=this.eventQueue?this.eventQueue.shift():null;"function"==typeof e&&e.apply(this)},SWFUpload.prototype.unescapeFilePostParams=function(e){var t,n=/[$]([0-9a-f]{4})/i,i={};if(void 0!=e){for(var r in e.post)if(e.post.hasOwnProperty(r)){t=r;for(var a;null!==(a=n.exec(t));)t=t.replace(a[0],String.fromCharCode(parseInt("0x"+a[1],16)));i[t]=e.post[r]}e.post=i}return e},SWFUpload.prototype.testExternalInterface=function(){try{return this.callFlash("TestExternalInterface")}catch(e){return!1}},SWFUpload.prototype.flashReady=function(){var e=this.getMovieElement();return e?(this.cleanUp(e),void this.queueEvent("swfupload_loaded_handler")):void this.debug("Flash called back ready but the flash movie can't be found.")},SWFUpload.prototype.cleanUp=function(e){try{if(this.movieElement&&"unknown"==typeof e.CallFunction){this.debug("Removing Flash functions hooks (this should only run in IE and should prevent memory leaks)");for(var t in e)try{"function"==typeof e[t]&&(e[t]=null)}catch(n){}}}catch(i){}window.__flash__removeCallback=function(e,t){try{e&&(e[t]=null)}catch(n){}}},SWFUpload.prototype.fileDialogStart=function(){this.queueEvent("file_dialog_start_handler")},SWFUpload.prototype.fileQueued=function(e){e=this.unescapeFilePostParams(e),this.queueEvent("file_queued_handler",e)},SWFUpload.prototype.fileQueueError=function(e,t,n){e=this.unescapeFilePostParams(e),this.queueEvent("file_queue_error_handler",[e,t,n])},SWFUpload.prototype.fileDialogComplete=function(e,t,n){this.queueEvent("file_dialog_complete_handler",[e,t,n])},SWFUpload.prototype.uploadStart=function(e){e=this.unescapeFilePostParams(e),this.queueEvent("return_upload_start_handler",e)},SWFUpload.prototype.returnUploadStart=function(e){var t;if("function"==typeof this.settings.upload_start_handler)e=this.unescapeFilePostParams(e),t=this.settings.upload_start_handler.call(this,e);else if(void 0!=this.settings.upload_start_handler)throw"upload_start_handler must be a function";void 0===t&&(t=!0),t=!!t,this.callFlash("ReturnUploadStart",[t])},SWFUpload.prototype.uploadProgress=function(e,t,n){e=this.unescapeFilePostParams(e),this.queueEvent("upload_progress_handler",[e,t,n])},SWFUpload.prototype.uploadError=function(e,t,n){e=this.unescapeFilePostParams(e),this.queueEvent("upload_error_handler",[e,t,n])},SWFUpload.prototype.uploadSuccess=function(e,t,n){e=this.unescapeFilePostParams(e),this.queueEvent("upload_success_handler",[e,t,n])},SWFUpload.prototype.uploadComplete=function(e){e=this.unescapeFilePostParams(e),this.queueEvent("upload_complete_handler",e)},SWFUpload.prototype.debug=function(e){this.queueEvent("debug_handler",e)},SWFUpload.prototype.debugMessage=function(e){if(this.settings.debug){var t,n=[];if("object"==typeof e&&"string"==typeof e.name&&"string"==typeof e.message){for(var i in e)e.hasOwnProperty(i)&&n.push(i+": "+e[i]);t=n.join("\n")||"",n=t.split("\n"),t="EXCEPTION: "+n.join("\nEXCEPTION: "),SWFUpload.Console.writeLine(t)}else SWFUpload.Console.writeLine(e)}},SWFUpload.Console={},SWFUpload.Console.writeLine=function(e){var t,n;try{t=document.getElementById("SWFUpload_Console"),t||(n=document.createElement("form"),document.getElementsByTagName("body")[0].appendChild(n),t=document.createElement("textarea"),t.id="SWFUpload_Console",t.style.fontFamily="monospace",t.setAttribute("wrap","off"),t.wrap="off",t.style.overflow="auto",t.style.width="700px",t.style.height="350px",t.style.margin="5px",n.appendChild(t)),t.value+=e+"\n",t.scrollTop=t.scrollHeight-t.clientHeight}catch(i){alert("Exception: "+i.name+" Message: "+i.message)}}}(),function(){"function"==typeof SWFUpload&&(SWFUpload.queue={},SWFUpload.prototype.initSettings=function(e){return function(){"function"==typeof e&&e.call(this),this.queueSettings={},this.queueSettings.queue_cancelled_flag=!1,this.queueSettings.queue_upload_count=0,this.queueSettings.user_upload_complete_handler=this.settings.upload_complete_handler,this.queueSettings.user_upload_start_handler=this.settings.upload_start_handler,this.settings.upload_complete_handler=SWFUpload.queue.uploadCompleteHandler,this.settings.upload_start_handler=SWFUpload.queue.uploadStartHandler,this.settings.queue_complete_handler=this.settings.queue_complete_handler||null}}(SWFUpload.prototype.initSettings),SWFUpload.prototype.startUpload=function(e){this.queueSettings.queue_cancelled_flag=!1,this.callFlash("StartUpload",[e])},SWFUpload.prototype.cancelQueue=function(){this.queueSettings.queue_cancelled_flag=!0,this.stopUpload();for(var e=this.getStats();e.files_queued>0;)this.cancelUpload(),e=this.getStats()},SWFUpload.queue.uploadStartHandler=function(e){var t;return"function"==typeof this.queueSettings.user_upload_start_handler&&(t=this.queueSettings.user_upload_start_handler.call(this,e)),t=t!==!1,this.queueSettings.queue_cancelled_flag=!t,t},SWFUpload.queue.uploadCompleteHandler=function(e){var t,n=this.queueSettings.user_upload_complete_handler;if(e.filestatus===SWFUpload.FILE_STATUS.COMPLETE&&this.queueSettings.queue_upload_count++,t="function"==typeof n?n.call(this,e)!==!1:e.filestatus!==SWFUpload.FILE_STATUS.QUEUED){var i=this.getStats();i.files_queued>0&&this.queueSettings.queue_cancelled_flag===!1?this.startUpload():this.queueSettings.queue_cancelled_flag===!1?(this.queueEvent("queue_complete_handler",[this.queueSettings.queue_upload_count]),this.queueSettings.queue_upload_count=0):(this.queueSettings.queue_cancelled_flag=!1,this.queueSettings.queue_upload_count=0)}})}(),KindEditor.plugin("pagebreak",function(e){var t=this,n="pagebreak",i=e.undef(t.pagebreakHtml,'<hr style="page-break-after: always;" class="ke-pagebreak" />');t.clickToolbar(n,function(){var n=t.cmd,r=n.range;t.focus();var a="br"==t.newlineTag||e.WEBKIT?"":'<span id="__kindeditor_tail_tag__"></span>';if(t.insertHtml(i+a),""!==a){var o=e("#__kindeditor_tail_tag__",t.edit.doc);r.selectNodeContents(o[0]),o.removeAttr("id"),n.select()}})}),KindEditor.plugin("plainpaste",function(e){var t=this,n="plainpaste";t.clickToolbar(n,function(){var i=t.lang(n+"."),r='<div style="padding:10px 20px;"><div style="margin-bottom:10px;">'+i.comment+'</div><textarea class="ke-textarea" style="width:408px;height:260px;"></textarea></div>',a=t.createDialog({name:n,width:450,title:t.lang(n),body:r,yesBtn:{name:t.lang("yes"),click:function(n){var i=o.val();i=e.escape(i),i=i.replace(/ {2}/g," &nbsp;"),i="p"==t.newlineTag?i.replace(/^/,"<p>").replace(/$/,"</p>").replace(/\n/g,"</p><p>"):i.replace(/\n/g,"<br />$&"),t.insertHtml(i).hideDialog().focus()}}}),o=e("textarea",a.div);o[0].focus()})}),KindEditor.plugin("preview",function(e){var t=this,n="preview";t.clickToolbar(n,function(){var i=(t.lang(n+"."),'<div style="padding:10px 20px;"><iframe class="ke-textarea" frameborder="0" style="width:708px;height:400px;"></iframe></div>'),r=t.createDialog({name:n,width:750,title:t.lang(n),body:i}),a=e("iframe",r.div),o=e.iframeDoc(a);o.open(),o.write(t.fullHtml()),o.close(),e(o.body).css("background-color","#FFF"),a[0].contentWindow.focus()})}),KindEditor.plugin("quickformat",function(e){function t(e){for(var t=e.first();t&&t.first();)t=t.first();return t}var n=this,i="quickformat",r=e.toMap("blockquote,center,div,h1,h2,h3,h4,h5,h6,p");n.clickToolbar(i,function(){n.focus();for(var i,a=n.edit.doc,o=n.cmd.range,s=e(a.body).first(),l=[],u=[],c=o.createBookmark(!0);s;){i=s.next();var d=t(s);d&&"img"==d.name||(r[s.name]?(s.html(s.html().replace(/^(\s|&nbsp;|　)+/gi,"")),s.css("text-indent","2em")):u.push(s),(!i||r[i.name]||r[s.name]&&!r[i.name])&&(u.length>0&&l.push(u),u=[])),s=i}e.each(l,function(t,n){var i=e('<p style="text-indent:2em;"></p>',a);n[0].before(i),e.each(n,function(e,t){i.append(t)})}),o.moveToBookmark(c),n.addBookmark()})}),KindEditor.plugin("table",function(e){function t(e,t){t=t.toUpperCase(),e.css("background-color",t),e.css("color","#000000"===t?"#FFFFFF":"#000000"),e.html(t)}function n(n,i){function a(){e.each(l,function(){this.remove()}),l=[],e(document).unbind("click,mousedown",a),n.unbind("click,mousedown",a)}i.bind("click,mousedown",function(e){e.stopPropagation()}),i.click(function(i){a();var o=e(this),s=o.pos(),u=e.colorpicker({x:s.x,y:s.y+o.height(),z:811214,selectedColor:e(this).html(),colors:r.colorTable,noColor:r.lang("noColor"),shadowMode:r.shadowMode,click:function(e){t(o,e),a()}});l.push(u),e(document).bind("click,mousedown",a),n.bind("click,mousedown",a)})}function i(e,t,n){for(var i=0,r=0,a=t.cells.length;r<a&&t.cells[r]!=n;r++)i+=t.cells[r].rowSpan-1;return n.cellIndex-i}var r=this,a="table",o=r.lang(a+"."),s="ke-zeroborder",l=[];r.plugin.table={prop:function(i){var l=['<div style="padding:20px;">','<div class="ke-dialog-row">','<label for="keRows" style="width:90px;">'+o.cells+"</label>",o.rows+' <input type="text" id="keRows" class="ke-input-text ke-input-number" name="rows" value="" maxlength="4" /> &nbsp; ',o.cols+' <input type="text" class="ke-input-text ke-input-number" name="cols" value="" maxlength="4" />',"</div>",'<div class="ke-dialog-row">','<label for="keWidth" style="width:90px;">'+o.size+"</label>",o.width+' <input type="text" id="keWidth" class="ke-input-text ke-input-number" name="width" value="" maxlength="4" /> &nbsp; ','<select name="widthType">','<option value="%">'+o.percent+"</option>",'<option value="px">'+o.px+"</option>","</select> &nbsp; ",o.height+' <input type="text" class="ke-input-text ke-input-number" name="height" value="" maxlength="4" /> &nbsp; ','<select name="heightType">','<option value="%">'+o.percent+"</option>",'<option value="px">'+o.px+"</option>","</select>","</div>",'<div class="ke-dialog-row">','<label for="kePadding" style="width:90px;">'+o.space+"</label>",o.padding+' <input type="text" id="kePadding" class="ke-input-text ke-input-number" name="padding" value="" maxlength="4" /> &nbsp; ',o.spacing+' <input type="text" class="ke-input-text ke-input-number" name="spacing" value="" maxlength="4" />',"</div>",'<div class="ke-dialog-row">','<label for="keAlign" style="width:90px;">'+o.align+"</label>",'<select id="keAlign" name="align">','<option value="">'+o.alignDefault+"</option>",'<option value="left">'+o.alignLeft+"</option>",'<option value="center">'+o.alignCenter+"</option>",'<option value="right">'+o.alignRight+"</option>","</select>","</div>",'<div class="ke-dialog-row">','<label for="keBorder" style="width:90px;">'+o.border+"</label>",o.borderWidth+' <input type="text" id="keBorder" class="ke-input-text ke-input-number" name="border" value="" maxlength="4" /> &nbsp; ',o.borderColor+' <span class="ke-inline-block ke-input-color"></span>',"</div>",'<div class="ke-dialog-row">','<label for="keBgColor" style="width:90px;">'+o.backgroundColor+"</label>",'<span class="ke-inline-block ke-input-color"></span>',"</div>","</div>"].join(""),u=r.cmd.range.createBookmark(),c=r.createDialog({name:a,width:500,title:r.lang(a),body:l,beforeRemove:function(){w.unbind()},yesBtn:{name:r.lang("yes"),click:function(t){var n=h.val(),i=f.val(),a=p.val(),o=g.val(),l=m.val(),c=v.val(),d=y.val(),S=_.val(),E=b.val(),T=x.val(),C=e(w[0]).html()||"",D=e(w[1]).html()||"";if(0==n||!/^\d+$/.test(n))return alert(r.lang("invalidRows")),void h[0].focus();if(0==i||!/^\d+$/.test(i))return alert(r.lang("invalidRows")),void f[0].focus();if(!/^\d*$/.test(a))return alert(r.lang("invalidWidth")),void p[0].focus();if(!/^\d*$/.test(o))return alert(r.lang("invalidHeight")),void g[0].focus();if(!/^\d*$/.test(d))return alert(r.lang("invalidPadding")),void y[0].focus();if(!/^\d*$/.test(S))return alert(r.lang("invalidSpacing")),void _[0].focus();if(!/^\d*$/.test(T))return alert(r.lang("invalidBorder")),void x[0].focus();if(k)return""!==a?k.width(a+l):k.css("width",""),void 0!==k[0].width&&k.removeAttr("width"),""!==o?k.height(o+c):k.css("height",""),void 0!==k[0].height&&k.removeAttr("height"),k.css("background-color",D),void 0!==k[0].bgColor&&k.removeAttr("bgColor"),""!==d?k[0].cellPadding=d:k.removeAttr("cellPadding"),""!==S?k[0].cellSpacing=S:k.removeAttr("cellSpacing"),""!==E?k[0].align=E:k.removeAttr("align"),""!==T?k.attr("border",T):k.removeAttr("border"),""===T||"0"===T?k.addClass(s):k.removeClass(s),""!==C?k.attr("borderColor",C):k.removeAttr("borderColor"),r.hideDialog().focus(),r.cmd.range.moveToBookmark(u),r.cmd.select(),void r.addBookmark();var M="";""!==a&&(M+="width:"+a+l+";"),""!==o&&(M+="height:"+o+c+";"),""!==D&&(M+="background-color:"+D+";");var A="<table";""!==M&&(A+=' style="'+M+'"'),""!==d&&(A+=' cellpadding="'+d+'"'),""!==S&&(A+=' cellspacing="'+S+'"'),""!==E&&(A+=' align="'+E+'"'),""!==T&&(A+=' border="'+T+'"'),""!==T&&"0"!==T||(A+=' class="'+s+'"'),""!==C&&(A+=' bordercolor="'+C+'"'),A+=">";for(var R=0;R<n;R++){A+="<tr>";for(var I=0;I<i;I++)A+=0===R?'<td style="min-width:15px">':"<td>",A+=(e.IE?"&nbsp;":"<br />")+"</td>";A+="</tr>"}A+="</table>",e.IE||(A+="<br />"),r.insertHtml(A),r.select().hideDialog().focus(),r.addBookmark()}}}),d=c.div,h=e('[name="rows"]',d).val(3),f=e('[name="cols"]',d).val(2),p=e('[name="width"]',d).val(100),g=e('[name="height"]',d),m=e('[name="widthType"]',d),v=e('[name="heightType"]',d),y=e('[name="padding"]',d).val(2),_=e('[name="spacing"]',d).val(0),b=e('[name="align"]',d),x=e('[name="border"]',d).val(1),w=e(".ke-input-color",d);n(d,w.eq(0)),n(d,w.eq(1)),t(w.eq(0),"#000000"),t(w.eq(1),""),h[0].focus(),h[0].select();var k;if(!i&&(k=r.plugin.getSelectedTable())){h.val(k[0].rows.length),f.val(k[0].rows.length>0?k[0].rows[0].cells.length:0),h.attr("disabled",!0),f.attr("disabled",!0);var S,E=k[0].style.width||k[0].width,T=k[0].style.height||k[0].height;void 0!==E&&(S=/^(\d+)((?:px|%)*)$/.exec(E))?(p.val(S[1]),m.val(S[2])):p.val(""),void 0!==T&&(S=/^(\d+)((?:px|%)*)$/.exec(T))&&(g.val(S[1]),v.val(S[2])),y.val(k[0].cellPadding||""),_.val(k[0].cellSpacing||""),b.val(k[0].align||""),x.val(void 0===k[0].border?"":k[0].border),t(w.eq(0),e.toHex(k.attr("borderColor")||"")),t(w.eq(1),e.toHex(k[0].style.backgroundColor||k[0].bgColor||"")),p[0].focus(),p[0].select()}},cellprop:function(){var i=['<div style="padding:20px;">','<div class="ke-dialog-row">','<label for="keWidth" style="width:90px;">'+o.size+"</label>",o.width+' <input type="text" id="keWidth" class="ke-input-text ke-input-number" name="width" value="" maxlength="4" /> &nbsp; ','<select name="widthType">','<option value="%">'+o.percent+"</option>",'<option value="px">'+o.px+"</option>","</select> &nbsp; ",o.height+' <input type="text" class="ke-input-text ke-input-number" name="height" value="" maxlength="4" /> &nbsp; ','<select name="heightType">','<option value="%">'+o.percent+"</option>",'<option value="px">'+o.px+"</option>","</select>","</div>",'<div class="ke-dialog-row">','<label for="keAlign" style="width:90px;">'+o.align+"</label>",o.textAlign+' <select id="keAlign" name="textAlign">','<option value="">'+o.alignDefault+"</option>",'<option value="left">'+o.alignLeft+"</option>",'<option value="center">'+o.alignCenter+"</option>",'<option value="right">'+o.alignRight+"</option>","</select> ",o.verticalAlign+' <select name="verticalAlign">','<option value="">'+o.alignDefault+"</option>",'<option value="top">'+o.alignTop+"</option>",'<option value="middle">'+o.alignMiddle+"</option>",'<option value="bottom">'+o.alignBottom+"</option>",'<option value="baseline">'+o.alignBaseline+"</option>","</select>","</div>",'<div class="ke-dialog-row">','<label for="keBorder" style="width:90px;">'+o.border+"</label>",o.borderWidth+' <input type="text" id="keBorder" class="ke-input-text ke-input-number" name="border" value="" maxlength="4" /> &nbsp; ',o.borderColor+' <span class="ke-inline-block ke-input-color"></span>',"</div>",'<div class="ke-dialog-row">','<label for="keBgColor" style="width:90px;">'+o.backgroundColor+"</label>",'<span class="ke-inline-block ke-input-color"></span>',"</div>","</div>"].join(""),s=r.cmd.range.createBookmark(),l=r.createDialog({name:a,width:500,title:r.lang("tablecell"),body:i,beforeRemove:function(){_.unbind()},yesBtn:{name:r.lang("yes"),click:function(t){var n=c.val(),i=d.val(),a=h.val(),o=f.val(),l=(p.val(),g.val(),m.val()),u=v.val(),b=y.val(),w=e(_[0]).html()||"",k=e(_[1]).html()||"";return/^\d*$/.test(n)?/^\d*$/.test(i)?/^\d*$/.test(b)?(x.css({width:""!==n?n+a:"",height:""!==i?i+o:"","background-color":k,"text-align":l,"vertical-align":u,"border-width":b,"border-style":""!==b?"solid":"","border-color":w}),r.hideDialog().focus(),r.cmd.range.moveToBookmark(s),r.cmd.select(),void r.addBookmark()):(alert(r.lang("invalidBorder")),void y[0].focus()):(alert(r.lang("invalidHeight")),void d[0].focus()):(alert(r.lang("invalidWidth")),void c[0].focus())}}}),u=l.div,c=e('[name="width"]',u).val(100),d=e('[name="height"]',u),h=e('[name="widthType"]',u),f=e('[name="heightType"]',u),p=e('[name="padding"]',u).val(2),g=e('[name="spacing"]',u).val(0),m=e('[name="textAlign"]',u),v=e('[name="verticalAlign"]',u),y=e('[name="border"]',u).val(1),_=e(".ke-input-color",u);n(u,_.eq(0)),n(u,_.eq(1)),t(_.eq(0),"#000000"),t(_.eq(1),""),c[0].focus(),c[0].select();var b,x=r.plugin.getSelectedCell(),w=x[0].style.width||x[0].width||"",k=x[0].style.height||x[0].height||"";(b=/^(\d+)((?:px|%)*)$/.exec(w))?(c.val(b[1]),h.val(b[2])):c.val(""),(b=/^(\d+)((?:px|%)*)$/.exec(k))&&(d.val(b[1]),f.val(b[2])),m.val(x[0].style.textAlign||""),v.val(x[0].style.verticalAlign||"");var S=x[0].style.borderWidth||"";S&&(S=parseInt(S)),y.val(S),t(_.eq(0),e.toHex(x[0].style.borderColor||"")),t(_.eq(1),e.toHex(x[0].style.backgroundColor||"")),c[0].focus(),c[0].select()},insert:function(){this.prop(!0)},"delete":function(){var e=r.plugin.getSelectedTable();r.cmd.range.setStartBefore(e[0]).collapse(!0),r.cmd.select(),e.remove(),r.addBookmark()},colinsert:function(t){var n=r.plugin.getSelectedTable()[0],a=r.plugin.getSelectedRow()[0],o=r.plugin.getSelectedCell()[0],s=o.cellIndex+t;s+=n.rows[0].cells.length-a.cells.length;for(var l=0,u=n.rows.length;l<u;l++){var c=n.rows[l],d=c.insertCell(s);d.innerHTML=e.IE?"":"<br />",s=i(n,c,d)}r.cmd.range.selectNodeContents(o).collapse(!0),r.cmd.select(),r.addBookmark()},colinsertleft:function(){this.colinsert(0)},colinsertright:function(){this.colinsert(1)},rowinsert:function(t){var n=r.plugin.getSelectedTable()[0],i=r.plugin.getSelectedRow()[0],a=r.plugin.getSelectedCell()[0],o=i.rowIndex;1===t&&(o=i.rowIndex+(a.rowSpan-1)+t);for(var s=n.insertRow(o),l=0,u=i.cells.length;l<u;l++){i.cells[l].rowSpan>1&&(u-=i.cells[l].rowSpan-1);var c=s.insertCell(l);1===t&&i.cells[l].colSpan>1&&(c.colSpan=i.cells[l].colSpan),c.innerHTML=e.IE?"":"<br />"}for(var d=o;d>=0;d--){var h=n.rows[d].cells;if(h.length>l){for(var f=a.cellIndex;f>=0;f--)h[f].rowSpan>1&&(h[f].rowSpan+=1);break}}r.cmd.range.selectNodeContents(a).collapse(!0),r.cmd.select(),r.addBookmark()},rowinsertabove:function(){this.rowinsert(0)},rowinsertbelow:function(){this.rowinsert(1)},rowmerge:function(){var e=r.plugin.getSelectedTable()[0],t=r.plugin.getSelectedRow()[0],n=r.plugin.getSelectedCell()[0],i=t.rowIndex,a=i+n.rowSpan,o=e.rows[a];if(!(e.rows.length<=a)){var s=n.cellIndex;if(!(o.cells.length<=s)){var l=o.cells[s];n.colSpan===l.colSpan&&(n.rowSpan+=l.rowSpan,o.deleteCell(s),r.cmd.range.selectNodeContents(n).collapse(!0),r.cmd.select(),r.addBookmark())}}},colmerge:function(){var e=(r.plugin.getSelectedTable()[0],r.plugin.getSelectedRow()[0]),t=r.plugin.getSelectedCell()[0],n=(e.rowIndex,t.cellIndex),i=n+1;if(!(e.cells.length<=i)){var a=e.cells[i];t.rowSpan===a.rowSpan&&(t.colSpan+=a.colSpan,e.deleteCell(i),r.cmd.range.selectNodeContents(t).collapse(!0),r.cmd.select(),r.addBookmark())}},rowsplit:function(){var t=r.plugin.getSelectedTable()[0],n=r.plugin.getSelectedRow()[0],a=r.plugin.getSelectedCell()[0],o=n.rowIndex;if(1!==a.rowSpan){for(var s=i(t,n,a),l=1,u=a.rowSpan;l<u;l++){var c=t.rows[o+l],d=c.insertCell(s);a.colSpan>1&&(d.colSpan=a.colSpan),d.innerHTML=e.IE?"":"<br />",s=i(t,c,d)}e(a).removeAttr("rowSpan"),r.cmd.range.selectNodeContents(a).collapse(!0),r.cmd.select(),r.addBookmark()}},colsplit:function(){var t=(r.plugin.getSelectedTable()[0],r.plugin.getSelectedRow()[0]),n=r.plugin.getSelectedCell()[0],i=n.cellIndex;if(1!==n.colSpan){for(var a=1,o=n.colSpan;a<o;a++){var s=t.insertCell(i+a);n.rowSpan>1&&(s.rowSpan=n.rowSpan),s.innerHTML=e.IE?"":"<br />"}e(n).removeAttr("colSpan"),r.cmd.range.selectNodeContents(n).collapse(!0),r.cmd.select(),r.addBookmark()}},coldelete:function(){for(var t=r.plugin.getSelectedTable()[0],n=r.plugin.getSelectedRow()[0],i=r.plugin.getSelectedCell()[0],a=i.cellIndex,o=0,s=t.rows.length;o<s;o++){var l=t.rows[o],u=l.cells[a];u.colSpan>1?(u.colSpan-=1,1===u.colSpan&&e(u).removeAttr("colSpan")):l.deleteCell(a),u.rowSpan>1&&(o+=u.rowSpan-1)}0===n.cells.length?(r.cmd.range.setStartBefore(t).collapse(!0),r.cmd.select(),e(t).remove()):r.cmd.selection(!0),r.addBookmark()},rowdelete:function(){for(var t=r.plugin.getSelectedTable()[0],n=r.plugin.getSelectedRow()[0],i=r.plugin.getSelectedCell()[0],a=n.rowIndex,o=i.rowSpan-1;o>=0;o--)t.deleteRow(a+o);0===t.rows.length?(r.cmd.range.setStartBefore(t).collapse(!0),r.cmd.select(),e(t).remove()):r.cmd.selection(!0),r.addBookmark()}},r.clickToolbar(a,r.plugin.table.prop)}),KindEditor.plugin("template",function(e){function t(t){return r+t+"?ver="+encodeURIComponent(e.DEBUG?e.TIME:e.VERSION)}var n=this,i="template",r=(n.lang(i+"."),n.pluginsPath+i+"/html/");n.clickToolbar(i,function(){var r=n.lang(i+"."),a=['<div style="padding:10px 20px;">','<div class="ke-header">','<div class="ke-left">',r.selectTemplate+" <select>"];e.each(r.fileList,function(e,t){a.push('<option value="'+e+'">'+t+"</option>")}),html=[a.join(""),"</select></div>",'<div class="ke-right">','<input type="checkbox" id="keReplaceFlag" name="replaceFlag" value="1" /> <label for="keReplaceFlag">'+r.replaceContent+"</label>","</div>",'<div class="ke-clearfix"></div>',"</div>",'<iframe class="ke-textarea" frameborder="0" style="width:458px;height:260px;background-color:#FFF;"></iframe>',"</div>"].join("");var o=n.createDialog({name:i,width:500,title:n.lang(i),body:html,yesBtn:{name:n.lang("yes"),click:function(t){var i=e.iframeDoc(u);n[l[0].checked?"html":"insertHtml"](i.body.innerHTML).hideDialog().focus()}}}),s=e("select",o.div),l=e('[name="replaceFlag"]',o.div),u=e("iframe",o.div);l[0].checked=!0,u.attr("src",t(s.val())),s.change(function(){u.attr("src",t(this.value))})})}),KindEditor.plugin("wordpaste",function(e){var t=this,n="wordpaste";t.clickToolbar(n,function(){var i=t.lang(n+"."),r='<div style="padding:10px 20px;"><div style="margin-bottom:10px;">'+i.comment+'</div><iframe class="ke-textarea" frameborder="0" style="width:408px;height:260px;"></iframe></div>',a=t.createDialog({name:n,width:450,title:t.lang(n),body:r,yesBtn:{name:t.lang("yes"),click:function(n){var i=l.body.innerHTML;i=e.clearMsWord(i,t.filterMode?t.htmlTags:e.options.htmlTags),t.insertHtml(i).hideDialog().focus()}}}),o=a.div,s=e("iframe",o),l=e.iframeDoc(s);e.IE||(l.designMode="on"),l.open(),l.write("<!doctype html><html><head><title>WordPaste</title></head>"),l.write('<body style="background-color:#FFF;font-size:12px;margin:2px;">'),e.IE||l.write("<br />"),l.write("</body></html>"),l.close(),e.IE&&(l.body.contentEditable="true"),s[0].contentWindow.focus()})}),KindEditor.plugin("fixtoolbar",function(e){function t(){var t=e(".ke-toolbar"),n=t.pos().y;e(window).bind("scroll",function(){"fixed"==t.css("position")?document.body.scrollTop-n<0&&(t.css("position","static"),t.css("top","auto")):t.pos().y-document.body.scrollTop<0&&(t.css("position","fixed"),t.css("top",0))})}var n=this;n.fixToolBar&&(n.isCreated?t():n.afterCreate(t))}),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.echarts=t()}(this,function(){var e,t;!function(){function n(e,t){if(!t)return e;if(0===e.indexOf(".")){var n=t.split("/"),i=e.split("/"),r=n.length-1,a=i.length,o=0,s=0;e:for(var l=0;l<a;l++)switch(i[l]){case"..":if(!(o<r))break e;o++,s++;break;case".":s++;break;default:break e}return n.length=r-o,i=i.slice(s),n.concat(i).join("/")}return e}function i(e){function t(t,o){if("string"==typeof t){var s=i[t];return s||(s=a(n(t,e)),i[t]=s),s}t instanceof Array&&(o=o||function(){},o.apply(this,r(t,o,e)))}var i={};return t}function r(t,i,r){for(var s=[],l=o[r],u=0,c=Math.min(t.length,i.length);u<c;u++){var d,h=n(t[u],r);switch(h){case"require":d=l&&l.require||e;break;case"exports":d=l.exports;break;case"module":d=l;break;default:d=a(h)}s.push(d)}return s}function a(e){var t=o[e];if(!t)throw new Error("No "+e);if(!t.defined){var n=t.factory,i=n.apply(this,r(t.deps||[],n,e));"undefined"!=typeof i&&(t.exports=i),t.defined=1}return t.exports}var o={};t=function(e,t,n){o[e]={id:e,deps:t,factory:n,defined:0,exports:{},require:i(e)}},e=i("")}(),t("echarts/echarts",["require","zrender/core/env","./model/Global","./ExtensionAPI","./CoordinateSystem","./model/OptionManager","./model/Component","./model/Series","./view/Component","./view/Chart","./util/graphic","zrender","zrender/core/util","zrender/tool/color","zrender/mixin/Eventful","zrender/core/timsort","./loading/default","./visual/seriesColor","./preprocessor/backwardCompat","./data/List","./model/Model","./util/number","./util/format","zrender/core/matrix","zrender/core/vector"],function(e){function t(e){return function(t,n,i){t=t&&t.toLowerCase(),M.prototype[e].call(this,t,n,i)}}function n(){M.call(this)}function i(e,t,i){function r(e,t){return e.prio-t.prio}i=i||{},"string"==typeof t&&(t=X[t]),this.id,this.group,this._dom=e,this._zr=T.init(e,{renderer:i.renderer||"canvas",devicePixelRatio:i.devicePixelRatio}),this._theme=C.clone(t),this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._api=new y(this),this._coordSysMgr=new _,M.call(this),this._messageCenter=new n,this._initEvents(),this.resize=C.bind(this.resize,this),this._pendingActions=[],A(Y,r),A(K,r)}function r(e,t){var n=this._model;n&&n.eachComponent({mainType:"series",query:t},function(i,r){var a=this._chartsMap[i.__viewId];a&&a.__alive&&a[e](i,n,this._api,t)},this)}function a(e,t,n){var i=this._api;R(this._componentsViews,function(r){var a=r.__model;r[e](a,t,i,n),p(a,r)},this),t.eachSeries(function(r,a){var o=this._chartsMap[r.__viewId];o[e](r,t,i,n),p(r,o),f(r,o)},this),h(this._zr,t)}function o(e,t){for(var n="component"===e,i=n?this._componentsViews:this._chartsViews,r=n?this._componentsMap:this._chartsMap,a=this._zr,o=0;o<i.length;o++)i[o].__alive=!1;t[n?"eachComponent":"eachSeries"](function(e,o){if(n){if("series"===e)return}else o=e;var s=o.id+"_"+o.type,l=r[s];if(!l){var u=x.parseClassType(o.type),c=n?k.getClass(u.main,u.sub):S.getClass(u.sub);if(!c)return;l=new c,l.init(t,this._api),r[s]=l,i.push(l),a.add(l.group)}o.__viewId=s,l.__alive=!0,l.__id=s,l.__model=o},this);for(var o=0;o<i.length;){var s=i[o];s.__alive?o++:(a.remove(s.group),s.dispose(t,this._api),i.splice(o,1),delete r[s.__id])}}function s(e,t){R(K,function(n){n.func(e,t)})}function l(e){var t={};e.eachSeries(function(e){var n=e.get("stack"),i=e.getData();if(n&&"list"===i.type){var r=t[n];r&&(i.stackedOn=r),t[n]=i}})}function u(e,t){var n=this._api;R(Y,function(i){i.isLayout&&i.func(e,n,t)})}function c(e,t){var n=this._api;e.clearColorPalette(),e.eachSeries(function(e){e.clearColorPalette()}),R(Y,function(i){i.func(e,n,t)})}function d(e,t){var n=this._api;R(this._componentsViews,function(i){var r=i.__model;i.render(r,e,n,t),p(r,i)},this),R(this._chartsViews,function(e){e.__alive=!1},this),e.eachSeries(function(i,r){var a=this._chartsMap[i.__viewId];a.__alive=!0,a.render(i,e,n,t),a.group.silent=!!i.get("silent"),p(i,a),f(i,a)},this),h(this._zr,e),R(this._chartsViews,function(t){t.__alive||t.remove(e,n)},this)}function h(e,t){var n=e.storage,i=0;n.traverse(function(e){e.isGroup||i++}),i>t.get("hoverLayerThreshold")&&!m.node&&n.traverse(function(e){e.isGroup||(e.useHoverLayer=!0)})}function f(e,t){var n=0;t.group.traverse(function(e){"group"===e.type||e.ignore||n++});var i=+e.get("progressive"),r=n>e.get("progressiveThreshold")&&i&&!m.node;r&&t.group.traverse(function(e){e.isGroup||(e.progressive=r?Math.floor(n++/i):-1,r&&e.stopAnimation(!0))});var a=e.get("blendMode")||null;!m.canvasSupported&&a&&"source-over"!==a&&console.warn("Only canvas support blendMode"),t.group.traverse(function(e){e.isGroup||e.setStyle("blend",a)})}function p(e,t){var n=e.get("z"),i=e.get("zlevel");t.group.traverse(function(e){"group"!==e.type&&(null!=n&&(e.z=n),null!=i&&(e.zlevel=i))})}function g(e){function t(e,t){for(var n=0;n<e.length;n++){var i=e[n];i[a]=t}}var n=0,i=1,r=2,a="__connectUpdateStatus";C.each(V,function(o,s){e._messageCenter.on(s,function(o){if(Z[e.group]&&e[a]!==n){var s=e.makeActionFromEvent(o),l=[];for(var u in Q){var c=Q[u];c!==e&&c.group===e.group&&l.push(c)}t(l,n),R(l,function(e){e[a]!==i&&e.dispatchAction(s)}),t(l,r)}})})}var m=e("zrender/core/env"),v=e("./model/Global"),y=e("./ExtensionAPI"),_=e("./CoordinateSystem"),b=e("./model/OptionManager"),x=e("./model/Component"),w=e("./model/Series"),k=e("./view/Component"),S=e("./view/Chart"),E=e("./util/graphic"),T=e("zrender"),C=e("zrender/core/util"),D=e("zrender/tool/color"),M=e("zrender/mixin/Eventful"),A=e("zrender/core/timsort"),R=C.each,I=1e3,O=5e3,P=1e3,L=2e3,F=3e3,N=4e3,z=5e3,U="__flag_in_main_process",B="_hasGradientOrPatternBg";n.prototype.on=t("on"),n.prototype.off=t("off"),n.prototype.one=t("one"),C.mixin(n,M);var $=i.prototype;$.getDom=function(){return this._dom},$.getZr=function(){return this._zr},$.setOption=function(e,t,n){if(C.assert(!this[U],"`setOption` should not be called during main process."),this[U]=!0,!this._model||t){var i=new b(this._api),r=this._theme,a=this._model=new v(null,null,r,i);a.init(null,null,r,i)}this._model.setOption(e,G),H.prepareAndUpdate.call(this),this[U]=!1,this._flushPendingActions(),!n&&this._zr.refreshImmediately()},$.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},$.getModel=function(){return this._model},$.getOption=function(){return this._model.getOption()},$.getWidth=function(){return this._zr.getWidth();
},$.getHeight=function(){return this._zr.getHeight()},$.getRenderedCanvas=function(e){if(m.canvasSupported){e=e||{},e.pixelRatio=e.pixelRatio||1,e.backgroundColor=e.backgroundColor||this._model.get("backgroundColor");var t=this._zr,n=t.storage.getDisplayList();return C.each(n,function(e){e.stopAnimation(!0)}),t.painter.getRenderedCanvas(e)}},$.getDataURL=function(e){e=e||{};var t=e.excludeComponents,n=this._model,i=[],r=this;R(t,function(e){n.eachComponent({mainType:e},function(e){var t=r._componentsMap[e.__viewId];t.group.ignore||(i.push(t),t.group.ignore=!0)})});var a=this.getRenderedCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return R(i,function(e){e.group.ignore=!1}),a},$.getConnectedDataURL=function(e){if(m.canvasSupported){var t=this.group,n=Math.min,i=Math.max,r=1/0;if(Z[t]){var a=r,o=r,s=-r,l=-r,u=[],c=e&&e.pixelRatio||1;for(var d in Q){var h=Q[d];if(h.group===t){var f=h.getRenderedCanvas(C.clone(e)),p=h.getDom().getBoundingClientRect();a=n(p.left,a),o=n(p.top,o),s=i(p.right,s),l=i(p.bottom,l),u.push({dom:f,left:p.left,top:p.top})}}a*=c,o*=c,s*=c,l*=c;var g=s-a,v=l-o,y=C.createCanvas();y.width=g,y.height=v;var _=T.init(y);return R(u,function(e){var t=new E.Image({style:{x:e.left*c-a,y:e.top*c-o,image:e.dom}});_.add(t)}),_.refreshImmediately(),y.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}};var H={update:function(e){var t=this._model,n=this._api,i=this._coordSysMgr,r=this._zr;if(t){t.restoreData(),i.create(this._model,this._api),s.call(this,t,n),l.call(this,t),i.update(t,n),c.call(this,t,e),d.call(this,t,e);var a=t.get("backgroundColor")||"transparent",o=r.painter;if(o.isSingleCanvas&&o.isSingleCanvas())r.configLayer(0,{clearColor:a});else{if(!m.canvasSupported){var u=D.parse(a);a=D.stringify(u,"rgb"),0===u[3]&&(a="transparent")}a.colorStops||a.image?(r.configLayer(0,{clearColor:a}),this[B]=!0,this._dom.style.background="transparent"):(this[B]&&r.configLayer(0,{clearColor:null}),this[B]=!1,this._dom.style.background=a)}}},updateView:function(e){var t=this._model;t&&(t.eachSeries(function(e){e.getData().clearAllVisual()}),c.call(this,t,e),a.call(this,"updateView",t,e))},updateVisual:function(e){var t=this._model;t&&(t.eachSeries(function(e){e.getData().clearAllVisual()}),c.call(this,t,e),a.call(this,"updateVisual",t,e))},updateLayout:function(e){var t=this._model;t&&(u.call(this,t,e),a.call(this,"updateLayout",t,e))},highlight:function(e){r.call(this,"highlight",e)},downplay:function(e){r.call(this,"downplay",e)},prepareAndUpdate:function(e){var t=this._model;o.call(this,"component",t),o.call(this,"chart",t),H.update.call(this,e)}};$.resize=function(){C.assert(!this[U],"`resize` should not be called during main process."),this[U]=!0,this._zr.resize();var e=this._model&&this._model.resetOption("media");H[e?"prepareAndUpdate":"update"].call(this),this._loadingFX&&this._loadingFX.resize(),this[U]=!1,this._flushPendingActions()};var q=e("./loading/default");$.showLoading=function(e,t){C.isObject(e)&&(t=e,e="default"),this.hideLoading();var n=q(this._api,t),i=this._zr;this._loadingFX=n,i.add(n)},$.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},$.makeActionFromEvent=function(e){var t=C.extend({},e);return t.type=V[e.type],t},$.dispatchAction=function(e,t){var n=j[e.type];if(n){var i=n.actionInfo,r=i.update||"update";if(this[U])return void this._pendingActions.push(e);this[U]=!0;var a=[e],o=!1;e.batch&&(o=!0,a=C.map(e.batch,function(t){return t=C.defaults(C.extend({},t),e),t.batch=null,t}));for(var s,l=[],u="highlight"===e.type||"downplay"===e.type,c=0;c<a.length;c++){var d=a[c];s=n.action(d,this._model),s=s||C.extend({},d),s.type=i.event||s.type,l.push(s),u&&H[r].call(this,d)}"none"!==r&&!u&&H[r].call(this,e),s=o?{type:i.event||e.type,batch:l}:l[0],this[U]=!1,!t&&this._messageCenter.trigger(s.type,s),this._flushPendingActions()}},$._flushPendingActions=function(){for(var e=this._pendingActions;e.length;){var t=e.shift();this.dispatchAction(t)}},$.on=t("on"),$.off=t("off"),$.one=t("one");var W=["click","dblclick","mouseover","mouseout","mousedown","mouseup","globalout"];$._initEvents=function(){R(W,function(e){this._zr.on(e,function(t){var n=this.getModel(),i=t.target;if(i&&null!=i.dataIndex){var r=i.dataModel||n.getSeriesByIndex(i.seriesIndex),a=r&&r.getDataParams(i.dataIndex,i.dataType)||{};a.event=t,a.type=e,this.trigger(e,a)}else i&&i.eventData&&this.trigger(e,i.eventData)},this)},this),R(V,function(e,t){this._messageCenter.on(t,function(e){this.trigger(t,e)},this)},this)},$.isDisposed=function(){return this._disposed},$.clear=function(){this.setOption({},!0)},$.dispose=function(){if(this._disposed)return void console.warn("Instance "+this.id+" has been disposed");this._disposed=!0;var e=this._api,t=this._model;R(this._componentsViews,function(n){n.dispose(t,e)}),R(this._chartsViews,function(n){n.dispose(t,e)}),this._zr.dispose(),delete Q[this.id]},C.mixin(i,M);var j=[],V={},K=[],G=[],Y=[],X={},Q={},Z={},J=new Date-0,ee=new Date-0,te="_echarts_instance_",ne={version:"3.2.2",dependencies:{zrender:"3.1.2"}};ne.init=function(e,t,n){if(T.version.replace(".","")-0<ne.dependencies.zrender.replace(".","")-0)throw new Error("ZRender "+T.version+" is too old for ECharts "+ne.version+". Current version need ZRender "+ne.dependencies.zrender+"+");if(!e)throw new Error("Initialize failed: invalid dom.");!C.isDom(e)||"CANVAS"===e.nodeName.toUpperCase()||e.clientWidth&&e.clientHeight||console.warn("Can't get dom width or height");var r=new i(e,t,n);return r.id="ec_"+J++,Q[r.id]=r,e.setAttribute&&e.setAttribute(te,r.id),g(r),r},ne.connect=function(e){if(C.isArray(e)){var t=e;e=null,C.each(t,function(t){null!=t.group&&(e=t.group)}),e=e||"g_"+ee++,C.each(t,function(t){t.group=e})}return Z[e]=!0,e},ne.disConnect=function(e){Z[e]=!1},ne.dispose=function(e){C.isDom(e)?e=ne.getInstanceByDom(e):"string"==typeof e&&(e=Q[e]),e instanceof i&&!e.isDisposed()&&e.dispose()},ne.getInstanceByDom=function(e){var t=e.getAttribute(te);return Q[t]},ne.getInstanceById=function(e){return Q[e]},ne.registerTheme=function(e,t){X[e]=t},ne.registerPreprocessor=function(e){G.push(e)},ne.registerProcessor=function(e,t){if("function"==typeof e&&(t=e,e=I),isNaN(e))throw new Error("Unkown processor priority");K.push({prio:e,func:t})},ne.registerAction=function(e,t,n){"function"==typeof t&&(n=t,t="");var i=C.isObject(e)?e.type:[e,e={event:t}][0];e.event=(e.event||i).toLowerCase(),t=e.event,j[i]||(j[i]={action:n,actionInfo:e}),V[t]=i},ne.registerCoordinateSystem=function(e,t){_.register(e,t)},ne.registerLayout=function(e,t){if("function"==typeof e&&(t=e,e=P),isNaN(e))throw new Error("Unkown layout priority");Y.push({prio:e,func:t,isLayout:!0})},ne.registerVisual=function(e,t){if("function"==typeof e&&(t=e,e=F),isNaN(e))throw new Error("Unkown visual priority");Y.push({prio:e,func:t})};var ie=x.parseClassType;return ne.extendComponentModel=function(e,t){var n=x;if(t){var i=ie(t);n=x.getClass(i.main,i.sub,!0)}return n.extend(e)},ne.extendComponentView=function(e,t){var n=k;if(t){var i=ie(t);n=k.getClass(i.main,i.sub,!0)}return n.extend(e)},ne.extendSeriesModel=function(e,t){var n=w;if(t){t="series."+t.replace("series.","");var i=ie(t);n=w.getClass(i.main,i.sub,!0)}return n.extend(e)},ne.extendChartView=function(e,t){var n=S;if(t){t.replace("series.","");var i=ie(t);n=S.getClass(i.main,!0)}return S.extend(e)},ne.setCanvasCreator=function(e){C.createCanvas=e},ne.registerVisual(L,e("./visual/seriesColor")),ne.registerPreprocessor(e("./preprocessor/backwardCompat")),ne.registerAction({type:"highlight",event:"highlight",update:"highlight"},C.noop),ne.registerAction({type:"downplay",event:"downplay",update:"downplay"},C.noop),ne.List=e("./data/List"),ne.Model=e("./model/Model"),ne.graphic=e("./util/graphic"),ne.number=e("./util/number"),ne.format=e("./util/format"),ne.matrix=e("zrender/core/matrix"),ne.vector=e("zrender/core/vector"),ne.color=e("zrender/tool/color"),ne.util={},R(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults"],function(e){ne.util[e]=C[e]}),ne.PRIORITY={PROCESSOR:{FILTER:I,STATISTIC:O},VISUAL:{LAYOUT:P,GLOBAL:L,CHART:F,COMPONENT:N,BRUSH:z}},ne}),t("echarts/chart/bar",["require","zrender/core/util","../coord/cartesian/Grid","./bar/BarSeries","./bar/BarView","../layout/barGrid","../echarts","../component/grid"],function(e){var t=e("zrender/core/util");e("../coord/cartesian/Grid"),e("./bar/BarSeries"),e("./bar/BarView");var n=e("../layout/barGrid"),i=e("../echarts");i.registerLayout(t.curry(n,"bar")),i.registerVisual(function(e){e.eachSeriesByType("bar",function(e){var t=e.getData();t.setVisual("legendSymbol","roundRect")})}),e("../component/grid")}),t("echarts/component/grid",["require","../util/graphic","zrender/core/util","../coord/cartesian/Grid","./axis","../echarts"],function(e){"use strict";var t=e("../util/graphic"),n=e("zrender/core/util");e("../coord/cartesian/Grid"),e("./axis"),e("../echarts").extendComponentView({type:"grid",render:function(e,i){this.group.removeAll(),e.get("show")&&this.group.add(new t.Rect({shape:e.coordinateSystem.getRect(),style:n.defaults({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0}))}})}),t("echarts/chart/line",["require","zrender/core/util","../echarts","./line/LineSeries","./line/LineView","../visual/symbol","../layout/points","../processor/dataSample","../component/grid"],function(e){var t=e("zrender/core/util"),n=e("../echarts"),i=n.PRIORITY;e("./line/LineSeries"),e("./line/LineView"),n.registerVisual(t.curry(e("../visual/symbol"),"line","circle","line")),n.registerLayout(t.curry(e("../layout/points"),"line")),n.registerProcessor(i.PROCESSOR.STATISTIC,t.curry(e("../processor/dataSample"),"line")),e("../component/grid")}),t("echarts/chart/pie",["require","zrender/core/util","../echarts","./pie/PieSeries","./pie/PieView","../action/createDataSelectAction","../visual/dataColor","./pie/pieLayout","../processor/dataFilter"],function(e){var t=e("zrender/core/util"),n=e("../echarts");e("./pie/PieSeries"),e("./pie/PieView"),e("../action/createDataSelectAction")("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),n.registerVisual(t.curry(e("../visual/dataColor"),"pie")),n.registerLayout(t.curry(e("./pie/pieLayout"),"pie")),n.registerProcessor(t.curry(e("../processor/dataFilter"),"pie"))}),t("echarts/component/title",["require","../echarts","../util/graphic","../util/layout"],function(e){"use strict";var t=e("../echarts"),n=e("../util/graphic"),i=e("../util/layout");t.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),t.extendComponentView({type:"title",render:function(e,t,r){if(this.group.removeAll(),e.get("show")){var a=this.group,o=e.getModel("textStyle"),s=e.getModel("subtextStyle"),l=e.get("textAlign"),u=e.get("textBaseline"),c=new n.Text({style:{text:e.get("text"),textFont:o.getFont(),fill:o.getTextColor()},z2:10}),d=c.getBoundingRect(),h=e.get("subtext"),f=new n.Text({style:{text:h,textFont:s.getFont(),fill:s.getTextColor(),y:d.height+e.get("itemGap"),textBaseline:"top"},z2:10}),p=e.get("link"),g=e.get("sublink");c.silent=!p,f.silent=!g,p&&c.on("click",function(){window.open(p,"_"+e.get("target"))}),g&&f.on("click",function(){window.open(g,"_"+e.get("subtarget"))}),a.add(c),h&&a.add(f);var m=a.getBoundingRect(),v=e.getBoxLayoutParams();v.width=m.width,v.height=m.height;var y=i.getLayoutRect(v,{width:r.getWidth(),height:r.getHeight()},e.get("padding"));l||(l=e.get("left")||e.get("right"),"middle"===l&&(l="center"),"right"===l?y.x+=y.width:"center"===l&&(y.x+=y.width/2)),u||(u=e.get("top")||e.get("bottom"),"center"===u&&(u="middle"),"bottom"===u?y.y+=y.height:"middle"===u&&(y.y+=y.height/2),u=u||"top"),a.attr("position",[y.x,y.y]);var _={textAlign:l,textVerticalAlign:u};c.setStyle(_),f.setStyle(_),m=a.getBoundingRect();var b=y.margin,x=e.getItemStyle(["color","opacity"]);x.fill=e.get("backgroundColor");var w=new n.Rect({shape:{x:m.x-b[3],y:m.y-b[0],width:m.width+b[1]+b[3],height:m.height+b[0]+b[2]},style:x,silent:!0});n.subPixelOptimizeRect(w),a.add(w)}}})}),t("echarts/component/legend",["require","./legend/LegendModel","./legend/legendAction","./legend/LegendView","../echarts","./legend/legendFilter"],function(e){e("./legend/LegendModel"),e("./legend/legendAction"),e("./legend/LegendView");var t=e("../echarts");t.registerProcessor(e("./legend/legendFilter"))}),t("echarts/component/markPoint",["require","./marker/MarkPointModel","./marker/MarkPointView","../echarts"],function(e){e("./marker/MarkPointModel"),e("./marker/MarkPointView"),e("../echarts").registerPreprocessor(function(e){e.markPoint=e.markPoint||{}})}),t("echarts/component/tooltip",["require","./tooltip/TooltipModel","./tooltip/TooltipView","../echarts"],function(e){e("./tooltip/TooltipModel"),e("./tooltip/TooltipView"),e("../echarts").registerAction({type:"showTip",event:"showTip",update:"none"},function(){}),e("../echarts").registerAction({type:"hideTip",event:"hideTip",update:"none"},function(){})}),t("zrender/vml/vml",["require","./graphic","../zrender","./Painter"],function(e){e("./graphic"),e("../zrender").registerPainter("vml",e("./Painter"))}),t("echarts/scale/Time",["require","zrender/core/util","../util/number","../util/format","./Interval"],function(e){var t=e("zrender/core/util"),n=e("../util/number"),i=e("../util/format"),r=e("./Interval"),a=r.prototype,o=Math.ceil,s=Math.floor,l=1e3,u=60*l,c=60*u,d=24*c,h=function(e,t,n,i){for(;n<i;){var r=n+i>>>1;e[r][2]<t?n=r+1:i=r}return n},f=r.extend({type:"time",getLabel:function(e){var t=this._stepLvl,n=new Date(e);return i.formatTime(t[0],n)},niceExtent:function(e,t,i){var r=this._extent;if(r[0]===r[1]&&(r[0]-=d,r[1]+=d),r[1]===-(1/0)&&r[0]===1/0){var a=new Date;r[1]=new Date(a.getFullYear(),a.getMonth(),a.getDate()),r[0]=r[1]-d}this.niceTicks(e);var l=this._interval;t||(r[0]=n.round(s(r[0]/l)*l)),i||(r[1]=n.round(o(r[1]/l)*l))},niceTicks:function(e){e=e||10;var t=this._extent,i=t[1]-t[0],r=i/e,a=p.length,l=h(p,r,0,a),u=p[Math.min(l,a-1)],c=u[2];if("year"===u[0]){var d=i/c,f=n.nice(d/e,!0);c*=f}var g=[o(t[0]/c)*c,s(t[1]/c)*c];this._stepLvl=u,this._interval=c,this._niceExtent=g},parse:function(e){return+n.parseDate(e)}});t.each(["contain","normalize"],function(e){f.prototype[e]=function(t){return a[e].call(this,this.parse(t))}});var p=[["hh:mm:ss",1,l],["hh:mm:ss",5,5*l],["hh:mm:ss",10,10*l],["hh:mm:ss",15,15*l],["hh:mm:ss",30,30*l],["hh:mm\nMM-dd",1,u],["hh:mm\nMM-dd",5,5*u],["hh:mm\nMM-dd",10,10*u],["hh:mm\nMM-dd",15,15*u],["hh:mm\nMM-dd",30,30*u],["hh:mm\nMM-dd",1,c],["hh:mm\nMM-dd",2,2*c],["hh:mm\nMM-dd",6,6*c],["hh:mm\nMM-dd",12,12*c],["MM-dd\nyyyy",1,d],["week",7,7*d],["month",1,31*d],["quarter",3,380*d/4],["half-year",6,380*d/2],["year",1,380*d]];return f.create=function(){return new f},f}),t("echarts/scale/Log",["require","zrender/core/util","./Scale","../util/number","./Interval"],function(e){var t=e("zrender/core/util"),n=e("./Scale"),i=e("../util/number"),r=e("./Interval"),a=n.prototype,o=r.prototype,s=Math.floor,l=Math.ceil,u=Math.pow,c=10,d=Math.log,h=n.extend({type:"log",getTicks:function(){return t.map(o.getTicks.call(this),function(e){return i.round(u(c,e))})},getLabel:o.getLabel,scale:function(e){return e=a.scale.call(this,e),u(c,e)},setExtent:function(e,t){e=d(e)/d(c),t=d(t)/d(c),o.setExtent.call(this,e,t)},getExtent:function(){var e=a.getExtent.call(this);return e[0]=u(c,e[0]),e[1]=u(c,e[1]),e},unionExtent:function(e){e[0]=d(e[0])/d(c),e[1]=d(e[1])/d(c),a.unionExtent.call(this,e)},niceTicks:function(e){e=e||10;var t=this._extent,n=t[1]-t[0];if(!(n===1/0||n<=0)){var r=u(10,s(d(n/e)/Math.LN10)),a=e/n*r;a<=.5&&(r*=10);var o=[i.round(l(t[0]/r)*r),i.round(s(t[1]/r)*r)];this._interval=r,this._niceExtent=o}},niceExtent:o.niceExtent});return t.each(["contain","normalize"],function(e){h.prototype[e]=function(t){return t=d(t)/d(c),a[e].call(this,t)}}),h.create=function(){return new h},h}),t("zrender/core/env",[],function(){function e(e){var t={},n={},i=e.match(/Firefox\/([\d.]+)/),r=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),a=e.match(/Edge\/([\d.]+)/);return i&&(n.firefox=!0,n.version=i[1]),r&&(n.ie=!0,n.version=r[1]),r&&(n.ie=!0,n.version=r[1]),a&&(n.edge=!0,n.version=a[1]),{browser:n,os:t,node:!1,canvasSupported:!!document.createElement("canvas").getContext,touchEventsSupported:"ontouchstart"in window&&!n.ie&&!n.edge,pointerEventsSupported:"onpointerdown"in window&&(n.edge||n.ie&&n.version>=10)}}var t={};return t="undefined"==typeof navigator?{browser:{},os:{},node:!0,canvasSupported:!0}:e(navigator.userAgent)}),t("echarts/ExtensionAPI",["require","zrender/core/util"],function(e){"use strict";function t(e){n.each(i,function(t){this[t]=n.bind(e[t],e)},this)}var n=e("zrender/core/util"),i=["getDom","getZr","getWidth","getHeight","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption"];return t}),t("echarts/CoordinateSystem",["require"],function(e){"use strict";function t(){this._coordinateSystems=[]}var n={};return t.prototype={constructor:t,create:function(e,t){var i=[];for(var r in n){var a=n[r].create(e,t);a&&(i=i.concat(a))}this._coordinateSystems=i},update:function(e,t){for(var n=this._coordinateSystems,i=0;i<n.length;i++)n[i].update&&n[i].update(e,t)}},t.register=function(e,t){n[e]=t},t.get=function(e){return n[e]},t}),t("echarts/model/Global",["require","zrender/core/util","../util/model","./Model","./Component","./globalDefault","./mixin/colorPalette"],function(e){function t(e,t){for(var n in t)y.hasClass(n)||("object"==typeof t[n]?e[n]=e[n]?u.merge(e[n],t[n],!1):u.clone(t[n]):null==e[n]&&(e[n]=t[n]))}function n(e){e=e,this.option={},this.option[b]=1,this._componentsMap={},this._seriesIndices=null,t(e,this._theme.option),u.merge(e,_,!1),this.mergeOption(e)}function i(e,t){u.isArray(t)||(t=t?[t]:[]);var n={};return h(t,function(t){n[t]=(e[t]||[]).slice()}),n}function r(e,t){var n={};h(t,function(e,t){var i=e.exist;i&&(n[i.id]=e)}),h(t,function(t,i){var r=t.option;if(u.assert(!r||null==r.id||!n[r.id]||n[r.id]===t,"id duplicates: "+(r&&r.id)),r&&null!=r.id&&(n[r.id]=t),v(r)){var o=a(e,r,t.exist);t.keyInfo={mainType:e,subType:o}}}),h(t,function(e,t){var i=e.exist,r=e.option,a=e.keyInfo;if(v(r)){if(a.name=null!=r.name?r.name+"":i?i.name:"\0-",i)a.id=i.id;else if(null!=r.id)a.id=r.id+"";else{var o=0;do a.id="\0"+a.name+"\0"+o++;while(n[a.id])}n[a.id]=e}})}function a(e,t,n){var i=t.type?t.type:n?n.subType:y.determineSubType(e,t);return i}function o(e){return p(e,function(e){return e.componentIndex})||[]}function s(e,t){return t.hasOwnProperty("subType")?f(e,function(e){return e.subType===t.subType}):e}function l(e){if(!e._seriesIndices)throw new Error("Series has not been initialized yet.")}var u=e("zrender/core/util"),c=e("../util/model"),d=e("./Model"),h=u.each,f=u.filter,p=u.map,g=u.isArray,m=u.indexOf,v=u.isObject,y=e("./Component"),_=e("./globalDefault"),b="\0_ec_inner",x=d.extend({constructor:x,init:function(e,t,n,i){n=n||{},this.option=null,this._theme=new d(n),this._optionManager=i},setOption:function(e,t){u.assert(!(b in e),"please use chart.getOption()"),this._optionManager.setOption(e,t),this.resetOption()},resetOption:function(e){var t=!1,i=this._optionManager;if(!e||"recreate"===e){var r=i.mountOption("recreate"===e);this.option&&"recreate"!==e?(this.restoreData(),this.mergeOption(r)):n.call(this,r),t=!0}if("timeline"!==e&&"media"!==e||this.restoreData(),!e||"recreate"===e||"timeline"===e){var a=i.getTimelineOption(this);a&&(this.mergeOption(a),t=!0)}if(!e||"recreate"===e||"media"===e){var o=i.getMediaOption(this,this._api);o.length&&h(o,function(e){this.mergeOption(e,t=!0)},this)}return t},mergeOption:function(e){function t(t,s){var l=c.normalizeToArray(e[t]),d=c.mappingToExists(a[t],l);r(t,d);var f=i(a,s);n[t]=[],a[t]=[],h(d,function(e,i){var r=e.exist,o=e.option;if(u.assert(v(o)||r,"Empty component definition"),o){var s=y.getClass(t,e.keyInfo.subType,!0);if(r&&r instanceof s)r.mergeOption(o,this),r.optionUpdated(o,!1);else{var l=u.extend({dependentModels:f,componentIndex:i},e.keyInfo);r=new s(o,this,this,l),r.init(o,this,this,l),r.optionUpdated(null,!0)}}else r.mergeOption({},this),r.optionUpdated({},!1);a[t][i]=r,n[t][i]=r.option},this),"series"===t&&(this._seriesIndices=o(a.series))}var n=this.option,a=this._componentsMap,s=[];h(e,function(e,t){null!=e&&(y.hasClass(t)?s.push(t):n[t]=null==n[t]?u.clone(e):u.merge(n[t],e,!0))}),y.topologicalTravel(s,y.getAllClassMainTypes(),t,this)},getOption:function(){var e=u.clone(this.option);return h(e,function(t,n){if(y.hasClass(n)){for(var t=c.normalizeToArray(t),i=t.length-1;i>=0;i--)c.isIdInner(t[i])&&t.splice(i,1);e[n]=t}}),delete e[b],e},getTheme:function(){return this._theme},getComponent:function(e,t){var n=this._componentsMap[e];if(n)return n[t||0]},queryComponents:function(e){var t=e.mainType;if(!t)return[];var n=e.index,i=e.id,r=e.name,a=this._componentsMap[t];if(!a||!a.length)return[];var o;if(null!=n)g(n)||(n=[n]),o=f(p(n,function(e){return a[e]}),function(e){return!!e});else if(null!=i){var l=g(i);o=f(a,function(e){return l&&m(i,e.id)>=0||!l&&e.id===i})}else if(null!=r){var u=g(r);o=f(a,function(e){return u&&m(r,e.name)>=0||!u&&e.name===r})}return s(o,e)},findComponents:function(e){function t(e){var t=r+"Index",n=r+"Id",i=r+"Name";return e&&(e.hasOwnProperty(t)||e.hasOwnProperty(n)||e.hasOwnProperty(i))?{mainType:r,index:e[t],id:e[n],name:e[i]}:null}function n(t){return e.filter?f(t,e.filter):t}var i=e.query,r=e.mainType,a=t(i),o=a?this.queryComponents(a):this._componentsMap[r];return n(s(o,e))},eachComponent:function(e,t,n){var i=this._componentsMap;if("function"==typeof e)n=t,t=e,h(i,function(e,i){h(e,function(e,r){t.call(n,i,e,r)})});else if(u.isString(e))h(i[e],t,n);else if(v(e)){var r=this.findComponents(e);h(r,t,n)}},getSeriesByName:function(e){var t=this._componentsMap.series;return f(t,function(t){return t.name===e})},getSeriesByIndex:function(e){return this._componentsMap.series[e]},getSeriesByType:function(e){var t=this._componentsMap.series;return f(t,function(t){return t.subType===e})},getSeries:function(){return this._componentsMap.series.slice()},eachSeries:function(e,t){l(this),h(this._seriesIndices,function(n){var i=this._componentsMap.series[n];e.call(t,i,n)},this)},eachRawSeries:function(e,t){h(this._componentsMap.series,e,t)},eachSeriesByType:function(e,t,n){l(this),h(this._seriesIndices,function(i){var r=this._componentsMap.series[i];r.subType===e&&t.call(n,r,i)},this)},eachRawSeriesByType:function(e,t,n){return h(this.getSeriesByType(e),t,n)},isSeriesFiltered:function(e){return l(this),u.indexOf(this._seriesIndices,e.componentIndex)<0},filterSeries:function(e,t){l(this);var n=f(this._componentsMap.series,e,t);this._seriesIndices=o(n)},restoreData:function(){var e=this._componentsMap;this._seriesIndices=o(e.series);var t=[];h(e,function(e,n){t.push(n)}),y.topologicalTravel(t,y.getAllClassMainTypes(),function(t,n){h(e[t],function(e){e.restoreData()})})}});return u.mixin(x,e("./mixin/colorPalette")),x}),t("echarts/model/OptionManager",["require","zrender/core/util","../util/model","./Component"],function(e){function t(e){this._api=e,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function n(e,t,n){var i,r,a=[],o=[],l=e.timeline;if(e.baseOption&&(r=e.baseOption),(l||e.options)&&(r=r||{},a=(e.options||[]).slice()),e.media){r=r||{};var u=e.media;c(u,function(e){e&&e.option&&(e.query?o.push(e):i||(i=e))})}return r||(r=e),r.timeline||(r.timeline=l),c([r].concat(a).concat(s.map(o,function(e){return e.option})),function(e){c(t,function(t){t(e,n)})}),{baseOption:r,timelineOptions:a,mediaDefault:i,mediaList:o}}function i(e,t,n){var i={width:t,height:n,aspectratio:t/n},a=!0;return s.each(e,function(e,t){var n=t.match(p);if(n&&n[1]&&n[2]){var o=n[1],s=n[2].toLowerCase();r(i[s],e,o)||(a=!1)}}),a}function r(e,t,n){return"min"===n?e>=t:"max"===n?e<=t:e===t}function a(e,t){return e.join(",")===t.join(",")}function o(e,t){t=t||{},c(t,function(t,n){if(null!=t){var i=e[n];if(u.hasClass(n)){t=l.normalizeToArray(t),i=l.normalizeToArray(i);var r=l.mappingToExists(i,t);e[n]=h(r,function(e){return e.option&&e.exist?f(e.exist,e.option,!0):e.exist||e.option})}else e[n]=f(i,t,!0)}})}var s=e("zrender/core/util"),l=e("../util/model"),u=e("./Component"),c=s.each,d=s.clone,h=s.map,f=s.merge,p=/^(min|max)?(.+)$/;return t.prototype={constructor:t,setOption:function(e,t){e=d(e,!0);var i=this._optionBackup,r=n.call(this,e,t,!i);this._newBaseOption=r.baseOption,i?(o(i.baseOption,r.baseOption),r.timelineOptions.length&&(i.timelineOptions=r.timelineOptions),r.mediaList.length&&(i.mediaList=r.mediaList),r.mediaDefault&&(i.mediaDefault=r.mediaDefault)):this._optionBackup=r},mountOption:function(e){var t=this._optionBackup;return this._timelineOptions=h(t.timelineOptions,d),this._mediaList=h(t.mediaList,d),this._mediaDefault=d(t.mediaDefault),this._currentMediaIndices=[],d(e?t.baseOption:this._newBaseOption)},getTimelineOption:function(e){var t,n=this._timelineOptions;if(n.length){var i=e.getComponent("timeline");i&&(t=d(n[i.getCurrentIndex()],!0))}return t},getMediaOption:function(e){var t=this._api.getWidth(),n=this._api.getHeight(),r=this._mediaList,o=this._mediaDefault,s=[],l=[];if(!r.length&&!o)return l;for(var u=0,c=r.length;u<c;u++)i(r[u].query,t,n)&&s.push(u);return!s.length&&o&&(s=[-1]),s.length&&!a(s,this._currentMediaIndices)&&(l=h(s,function(e){return d(e===-1?o.option:r[e].option)})),this._currentMediaIndices=s,l}},t}),t("echarts/model/Component",["require","./Model","zrender/core/util","../util/component","../util/clazz","../util/layout","./mixin/boxLayout"],function(e){function t(e){var t=[];return i.each(l.getClassesByMainType(e),function(e){r.apply(t,e.prototype.dependencies||[])}),i.map(t,function(e){return o.parseClassType(e).main})}var n=e("./Model"),i=e("zrender/core/util"),r=Array.prototype.push,a=e("../util/component"),o=e("../util/clazz"),s=e("../util/layout"),l=n.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(e,t,r,o){n.call(this,e,t,r,o),i.extend(this,o),this.uid=a.getUID("componentModel")},init:function(e,t,n,i){this.mergeDefaultAndTheme(e,n)},mergeDefaultAndTheme:function(e,t){var n=this.layoutMode,r=n?s.getLayoutParams(e):{},a=t.getTheme();i.merge(e,a.get(this.mainType)),i.merge(e,this.getDefaultOption()),n&&s.mergeLayoutParam(e,r,n)},mergeOption:function(e){i.merge(this.option,e,!0);var t=this.layoutMode;t&&s.mergeLayoutParam(this.option,e,t)},optionUpdated:function(e,t){},getDefaultOption:function(){if(!this.hasOwnProperty("__defaultOption")){for(var e=[],t=this.constructor;t;){var n=t.prototype.defaultOption;n&&e.push(n),t=t.superClass}for(var r={},a=e.length-1;a>=0;a--)r=i.merge(r,e[a],!0);this.__defaultOption=r}return this.__defaultOption}});return o.enableClassManagement(l,{registerWhenExtend:!0}),a.enableSubTypeDefaulter(l),a.enableTopologicalTravel(l,t),i.mixin(l,e("./mixin/boxLayout")),l}),t("echarts/model/Series",["require","zrender/core/util","../util/format","../util/model","./Component","./mixin/colorPalette","zrender/core/env"],function(e){"use strict";var t=e("zrender/core/util"),n=e("../util/format"),i=e("../util/model"),r=e("./Component"),a=e("./mixin/colorPalette"),o=e("zrender/core/env"),s=n.encodeHTML,l=n.addCommas,u=r.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.normal.color",init:function(e,t,n,i){this.seriesIndex=this.componentIndex,this.mergeDefaultAndTheme(e,n),this._dataBeforeProcessed=this.getInitialData(e,n),this._data=this._dataBeforeProcessed.cloneShallow()},mergeDefaultAndTheme:function(e,n){t.merge(e,n.getTheme().get(this.subType)),t.merge(e,this.getDefaultOption()),i.defaultEmphasis(e.label,i.LABEL_OPTIONS),this.fillDataTextStyle(e.data)},mergeOption:function(e,n){e=t.merge(this.option,e,!0),this.fillDataTextStyle(e.data);var i=this.getInitialData(e,n);i&&(this._data=i,this._dataBeforeProcessed=i.cloneShallow())},fillDataTextStyle:function(e){if(e)for(var t=0;t<e.length;t++)e[t]&&e[t].label&&i.defaultEmphasis(e[t].label,i.LABEL_OPTIONS)},getInitialData:function(){},getData:function(e){return null==e?this._data:this._data.getLinkedData(e)},setData:function(e){this._data=e},getRawData:function(){return this._dataBeforeProcessed},coordDimToDataDim:function(e){return[e]},dataDimToCoordDim:function(e){return e},getBaseAxis:function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},formatTooltip:function(e,i,r){function a(e){return t.map(e,function(e,t){var r=o.getDimensionInfo(t),a=r&&r.type;return"ordinal"===a?e:"time"===a?i?"":n.formatTime("yyyy/mm/dd hh:mm:ss",e):l(e)}).filter(function(e){return!!e}).join(", ")}var o=this._data,u=this.getRawValue(e),c=t.isArray(u)?a(u):l(u),d=o.getName(e),h=o.getItemVisual(e,"color"),f='<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+h+'"></span>',p=this.name;return"\0-"===p&&(p=""),i?f+s(this.name)+" : "+c:(p&&s(p)+"<br />")+f+(d?s(d)+" : "+c:c)},ifEnableAnimation:function(){if(o.node)return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),e},restoreData:function(){this._data=this._dataBeforeProcessed.cloneShallow()},getColorFromPalette:function(e,t){var n=this.ecModel,i=a.getColorFromPalette.call(this,e,t);return i||(i=n.getColorFromPalette(e,t)),i},getAxisTooltipDataIndex:null});return t.mixin(u,i.dataFormatMixin),t.mixin(u,a),u}),t("echarts/view/Component",["require","zrender/container/Group","../util/component","../util/clazz"],function(e){var t=e("zrender/container/Group"),n=e("../util/component"),i=e("../util/clazz"),r=function(){this.group=new t,this.uid=n.getUID("viewComponent")};r.prototype={constructor:r,init:function(e,t){},render:function(e,t,n,i){},dispose:function(){}};var a=r.prototype;return a.updateView=a.updateLayout=a.updateVisual=function(e,t,n,i){},i.enableClassExtend(r),i.enableClassManagement(r,{registerWhenExtend:!0}),r}),t("echarts/view/Chart",["require","zrender/container/Group","../util/component","../util/clazz"],function(e){function t(){this.group=new r,this.uid=a.getUID("viewChart")}function n(e,t){if(e&&(e.trigger(t),"group"===e.type))for(var i=0;i<e.childCount();i++)n(e.childAt(i),t)}function i(e,t,i){var r=t&&t.dataIndex,a=t&&t.name;if(null!=r)for(var o=r instanceof Array?r:[r],s=0,l=o.length;s<l;s++)n(e.getItemGraphicEl(o[s]),i);else if(a)for(var u=a instanceof Array?a:[a],s=0,l=u.length;s<l;s++){var r=e.indexOfName(u[s]);n(e.getItemGraphicEl(r),i)}else e.eachItemGraphicEl(function(e){n(e,i)})}var r=e("zrender/container/Group"),a=e("../util/component"),o=e("../util/clazz");t.prototype={type:"chart",init:function(e,t){},render:function(e,t,n,i){},highlight:function(e,t,n,r){i(e.getData(),r,"emphasis")},downplay:function(e,t,n,r){i(e.getData(),r,"normal")},remove:function(e,t){this.group.removeAll()},dispose:function(){}};var s=t.prototype;return s.updateView=s.updateLayout=s.updateVisual=function(e,t,n,i){this.render(e,t,n,i)},o.enableClassExtend(t),o.enableClassManagement(t,{registerWhenExtend:!0}),t}),t("zrender/zrender",["require","./core/guid","./core/env","./Handler","./Storage","./animation/Animation","./dom/HandlerProxy","./Painter"],function(e){function t(e){delete c[e]}var n=e("./core/guid"),i=e("./core/env"),r=e("./Handler"),a=e("./Storage"),o=e("./animation/Animation"),s=e("./dom/HandlerProxy"),l=!i.canvasSupported,u={
canvas:e("./Painter")},c={},d={};d.version="3.1.2",d.init=function(e,t){var i=new h(n(),e,t);return c[i.id]=i,i},d.dispose=function(e){if(e)e.dispose();else{for(var t in c)c[t].dispose();c={}}return d},d.getInstance=function(e){return c[e]},d.registerPainter=function(e,t){u[e]=t};var h=function(e,t,n){n=n||{},this.dom=t,this.id=e;var c=this,d=new a,h=n.renderer;if(l){if(!u.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");h="vml"}else h&&u[h]||(h="canvas");var f=new u[h](t,d,n);this.storage=d,this.painter=f;var p=i.node?null:new s(f.getViewportRoot());this.handler=new r(d,f,p),this.animation=new o({stage:{update:function(){c._needsRefresh&&c.refreshImmediately(),c._needsRefreshHover&&c.refreshHoverImmediately()}}}),this.animation.start(),this._needsRefresh;var g=d.delFromMap,m=d.addToMap;d.delFromMap=function(e){var t=d.get(e);g.call(d,e),t&&t.removeSelfFromZr(c)},d.addToMap=function(e){m.call(d,e),e.addSelfToZr(c)}};return h.prototype={constructor:h,getId:function(){return this.id},add:function(e){this.storage.addRoot(e),this._needsRefresh=!0},remove:function(e){this.storage.delRoot(e),this._needsRefresh=!0},configLayer:function(e,t){this.painter.configLayer(e,t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},addHover:function(e,t){this.painter.addHover&&(this.painter.addHover(e,t),this.refreshHover())},removeHover:function(e){this.painter.removeHover&&(this.painter.removeHover(e),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(){this.painter.resize(),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(e,t,i){var r=n();return this.painter.pathToImage(r,e,t,i)},setCursorStyle:function(e){this.handler.setCursorStyle(e)},on:function(e,t,n){this.handler.on(e,t,n)},off:function(e,t){this.handler.off(e,t)},trigger:function(e,t){this.handler.trigger(e,t)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,t(this.id)}},d}),t("echarts/util/graphic",["require","zrender/core/util","zrender/tool/path","zrender/graphic/Path","zrender/tool/color","zrender/core/matrix","zrender/core/vector","zrender/graphic/Gradient","zrender/container/Group","zrender/graphic/Image","zrender/graphic/Text","zrender/graphic/shape/Circle","zrender/graphic/shape/Sector","zrender/graphic/shape/Ring","zrender/graphic/shape/Polygon","zrender/graphic/shape/Polyline","zrender/graphic/shape/Rect","zrender/graphic/shape/Line","zrender/graphic/shape/BezierCurve","zrender/graphic/shape/Arc","zrender/graphic/CompoundPath","zrender/graphic/LinearGradient","zrender/graphic/RadialGradient","zrender/core/BoundingRect"],function(e){"use strict";function t(e){return null!=e&&"none"!=e}function n(e){return"string"==typeof e?y.lift(e,-.1):e}function i(e){if(e.__hoverStlDirty){var i=e.style.stroke,r=e.style.fill,a=e.__hoverStl;a.fill=a.fill||(t(r)?n(r):null),a.stroke=a.stroke||(t(i)?n(i):null);var o={};for(var s in a)a.hasOwnProperty(s)&&(o[s]=e.style[s]);e.__normalStl=o,e.__hoverStlDirty=!1}}function r(e){e.__isHover||(i(e),e.useHoverLayer?e.__zr&&e.__zr.addHover(e,e.__hoverStl):(e.setStyle(e.__hoverStl),e.z2+=1),e.__isHover=!0)}function a(e){if(e.__isHover){var t=e.__normalStl;e.useHoverLayer?e.__zr&&e.__zr.removeHover(e):(t&&e.setStyle(t),e.z2-=1),e.__isHover=!1}}function o(e){"group"===e.type?e.traverse(function(e){"group"!==e.type&&r(e)}):r(e)}function s(e){"group"===e.type?e.traverse(function(e){"group"!==e.type&&a(e)}):a(e)}function l(e,t){e.__hoverStl=e.hoverStyle||t||{},e.__hoverStlDirty=!0,e.__isHover&&i(e)}function u(){!this.__isEmphasis&&o(this)}function c(){!this.__isEmphasis&&s(this)}function d(){this.__isEmphasis=!0,o(this)}function h(){this.__isEmphasis=!1,s(this)}function f(e,t,n,i,r,a){"function"==typeof r&&(a=r,r=null);var o=i&&(i.ifEnableAnimation?i.ifEnableAnimation():i.getShallow("animation"));if(o){var s=e?"Update":"",l=i&&i.getShallow("animationDuration"+s),u=i&&i.getShallow("animationEasing"+s),c=i&&i.getShallow("animationDelay"+s);"function"==typeof c&&(c=c(r)),l>0?t.animateTo(n,l,c||0,u,a):(t.attr(n),a&&a())}else t.attr(n),a&&a()}var p=e("zrender/core/util"),g=e("zrender/tool/path"),m=Math.round,v=e("zrender/graphic/Path"),y=e("zrender/tool/color"),_=e("zrender/core/matrix"),b=e("zrender/core/vector"),x=(e("zrender/graphic/Gradient"),{});return x.Group=e("zrender/container/Group"),x.Image=e("zrender/graphic/Image"),x.Text=e("zrender/graphic/Text"),x.Circle=e("zrender/graphic/shape/Circle"),x.Sector=e("zrender/graphic/shape/Sector"),x.Ring=e("zrender/graphic/shape/Ring"),x.Polygon=e("zrender/graphic/shape/Polygon"),x.Polyline=e("zrender/graphic/shape/Polyline"),x.Rect=e("zrender/graphic/shape/Rect"),x.Line=e("zrender/graphic/shape/Line"),x.BezierCurve=e("zrender/graphic/shape/BezierCurve"),x.Arc=e("zrender/graphic/shape/Arc"),x.CompoundPath=e("zrender/graphic/CompoundPath"),x.LinearGradient=e("zrender/graphic/LinearGradient"),x.RadialGradient=e("zrender/graphic/RadialGradient"),x.BoundingRect=e("zrender/core/BoundingRect"),x.extendShape=function(e){return v.extend(e)},x.extendPath=function(e,t){return g.extendFromString(e,t)},x.makePath=function(e,t,n,i){var r=g.createFromString(e,t),a=r.getBoundingRect();if(n){var o=a.width/a.height;if("center"===i){var s,l=n.height*o;l<=n.width?s=n.height:(l=n.width,s=l/o);var u=n.x+n.width/2,c=n.y+n.height/2;n.x=u-l/2,n.y=c-s/2,n.width=l,n.height=s}this.resizePath(r,n)}return r},x.mergePath=g.mergePath,x.resizePath=function(e,t){if(e.applyTransform){var n=e.getBoundingRect(),i=n.calculateTransform(t);e.applyTransform(i)}},x.subPixelOptimizeLine=function(e){var t=x.subPixelOptimize,n=e.shape,i=e.style.lineWidth;return m(2*n.x1)===m(2*n.x2)&&(n.x1=n.x2=t(n.x1,i,!0)),m(2*n.y1)===m(2*n.y2)&&(n.y1=n.y2=t(n.y1,i,!0)),e},x.subPixelOptimizeRect=function(e){var t=x.subPixelOptimize,n=e.shape,i=e.style.lineWidth,r=n.x,a=n.y,o=n.width,s=n.height;return n.x=t(n.x,i,!0),n.y=t(n.y,i,!0),n.width=Math.max(t(r+o,i,!1)-n.x,0===o?0:1),n.height=Math.max(t(a+s,i,!1)-n.y,0===s?0:1),e},x.subPixelOptimize=function(e,t,n){var i=m(2*e);return(i+m(t))%2===0?i/2:(i+(n?1:-1))/2},x.setHoverStyle=function(e,t){"group"===e.type?e.traverse(function(e){"group"!==e.type&&l(e,t)}):l(e,t),e.on("mouseover",u).on("mouseout",c),e.on("emphasis",d).on("normal",h)},x.setText=function(e,t,n){var i=t.getShallow("position")||"inside",r=i.indexOf("inside")>=0?"white":n,a=t.getModel("textStyle");p.extend(e,{textDistance:t.getShallow("distance")||5,textFont:a.getFont(),textPosition:i,textFill:a.getTextColor()||r})},x.updateProps=function(e,t,n,i,r){f(!0,e,t,n,i,r)},x.initProps=function(e,t,n,i,r){f(!1,e,t,n,i,r)},x.getTransform=function(e,t){for(var n=_.identity([]);e&&e!==t;)_.mul(n,e.getLocalTransform(),n),e=e.parent;return n},x.applyTransform=function(e,t,n){return n&&(t=_.invert([],t)),b.applyTransform([],e,t)},x.transformDirection=function(e,t,n){var i=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),r=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),a=["left"===e?-i:"right"===e?i:0,"top"===e?-r:"bottom"===e?r:0];return a=x.applyTransform(a,t,n),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"},x.groupTransition=function(e,t,n,i){function r(e){var t={};return e.traverse(function(e){!e.isGroup&&e.anid&&(t[e.anid]=e)}),t}function a(e){var t={position:b.clone(e.position),rotation:e.rotation};return e.shape&&(t.shape=p.extend({},e.shape)),t}if(e&&t){var o=r(e);t.traverse(function(e){if(!e.isGroup&&e.anid){var t=o[e.anid];if(t){var i=a(e);e.attr(a(t)),x.updateProps(e,i,n,e.dataIndex)}}})}},x}),t("zrender/core/util",["require"],function(e){function t(e){if("object"==typeof e&&null!==e){var n=e;if(e instanceof Array){n=[];for(var i=0,r=e.length;i<r;i++)n[i]=t(e[i])}else if(!k(e)&&!S(e)){n={};for(var a in e)e.hasOwnProperty(a)&&(n[a]=t(e[a]))}return n}return e}function n(e,i,r){if(!w(i)||!w(e))return r?t(i):e;for(var a in i)if(i.hasOwnProperty(a)){var o=e[a],s=i[a];!w(s)||!w(o)||_(s)||_(o)||S(s)||S(o)||k(s)||k(o)?!r&&a in e||(e[a]=t(i[a],!0)):n(o,s,r)}return e}function i(e,t){for(var i=e[0],r=1,a=e.length;r<a;r++)i=n(i,e[r],t);return i}function r(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function a(e,t,n){for(var i in t)t.hasOwnProperty(i)&&(n?null!=t[i]:null==e[i])&&(e[i]=t[i]);return e}function o(){return document.createElement("canvas")}function s(){return D||(D=N.createCanvas().getContext("2d")),D}function l(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n}return-1}function u(e,t){function n(){}var i=e.prototype;n.prototype=t.prototype,e.prototype=new n;for(var r in i)e.prototype[r]=i[r];e.prototype.constructor=e,e.superClass=t}function c(e,t,n){e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,a(e,t,n)}function d(e){if(e)return"string"!=typeof e&&"number"==typeof e.length}function h(e,t,n){if(e&&t)if(e.forEach&&e.forEach===I)e.forEach(t,n);else if(e.length===+e.length)for(var i=0,r=e.length;i<r;i++)t.call(n,e[i],i,e);else for(var a in e)e.hasOwnProperty(a)&&t.call(n,e[a],a,e)}function f(e,t,n){if(e&&t){if(e.map&&e.map===L)return e.map(t,n);for(var i=[],r=0,a=e.length;r<a;r++)i.push(t.call(n,e[r],r,e));return i}}function p(e,t,n,i){if(e&&t){if(e.reduce&&e.reduce===F)return e.reduce(t,n,i);for(var r=0,a=e.length;r<a;r++)n=t.call(i,n,e[r],r,e);return n}}function g(e,t,n){if(e&&t){if(e.filter&&e.filter===O)return e.filter(t,n);for(var i=[],r=0,a=e.length;r<a;r++)t.call(n,e[r],r,e)&&i.push(e[r]);return i}}function m(e,t,n){if(e&&t)for(var i=0,r=e.length;i<r;i++)if(t.call(n,e[i],i,e))return e[i]}function v(e,t){var n=P.call(arguments,2);return function(){return e.apply(t,n.concat(P.call(arguments)))}}function y(e){var t=P.call(arguments,1);return function(){return e.apply(this,t.concat(P.call(arguments)))}}function _(e){return"[object Array]"===A.call(e)}function b(e){return"function"==typeof e}function x(e){return"[object String]"===A.call(e)}function w(e){var t=typeof e;return"function"===t||!!e&&"object"==t}function k(e){return!!M[A.call(e)]}function S(e){return e&&1===e.nodeType&&"string"==typeof e.nodeName}function E(e){for(var t=0,n=arguments.length;t<n;t++)if(null!=arguments[t])return arguments[t]}function T(){return Function.call.apply(P,arguments)}function C(e,t){if(!e)throw new Error(t)}var D,M={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1},A=Object.prototype.toString,R=Array.prototype,I=R.forEach,O=R.filter,P=R.slice,L=R.map,F=R.reduce,N={inherits:u,mixin:c,clone:t,merge:n,mergeAll:i,extend:r,defaults:a,getContext:s,createCanvas:o,indexOf:l,slice:T,find:m,isArrayLike:d,each:h,map:f,reduce:p,filter:g,bind:v,curry:y,isArray:_,isString:x,isObject:w,isFunction:b,isBuildInObject:k,isDom:S,retrieve:E,assert:C,noop:function(){}};return N}),t("zrender/mixin/Eventful",["require"],function(e){var t=Array.prototype.slice,n=function(){this._$handlers={}};return n.prototype={constructor:n,one:function(e,t,n){var i=this._$handlers;if(!t||!e)return this;i[e]||(i[e]=[]);for(var r=0;r<i[e].length;r++)if(i[e][r].h===t)return this;return i[e].push({h:t,one:!0,ctx:n||this}),this},on:function(e,t,n){var i=this._$handlers;if(!t||!e)return this;i[e]||(i[e]=[]);for(var r=0;r<i[e].length;r++)if(i[e][r].h===t)return this;return i[e].push({h:t,one:!1,ctx:n||this}),this},isSilent:function(e){var t=this._$handlers;return t[e]&&t[e].length},off:function(e,t){var n=this._$handlers;if(!e)return this._$handlers={},this;if(t){if(n[e]){for(var i=[],r=0,a=n[e].length;r<a;r++)n[e][r].h!=t&&i.push(n[e][r]);n[e]=i}n[e]&&0===n[e].length&&delete n[e]}else delete n[e];return this},trigger:function(e){if(this._$handlers[e]){var n=arguments,i=n.length;i>3&&(n=t.call(n,1));for(var r=this._$handlers[e],a=r.length,o=0;o<a;){switch(i){case 1:r[o].h.call(r[o].ctx);break;case 2:r[o].h.call(r[o].ctx,n[1]);break;case 3:r[o].h.call(r[o].ctx,n[1],n[2]);break;default:r[o].h.apply(r[o].ctx,n)}r[o].one?(r.splice(o,1),a--):o++}}return this},triggerWithContext:function(e){if(this._$handlers[e]){var n=arguments,i=n.length;i>4&&(n=t.call(n,1,n.length-1));for(var r=n[n.length-1],a=this._$handlers[e],o=a.length,s=0;s<o;){switch(i){case 1:a[s].h.call(r);break;case 2:a[s].h.call(r,n[1]);break;case 3:a[s].h.call(r,n[1],n[2]);break;default:a[s].h.apply(r,n)}a[s].one?(a.splice(s,1),o--):s++}}return this}},n}),t("zrender/tool/color",["require"],function(e){function t(e){return e=Math.round(e),e<0?0:e>255?255:e}function n(e){return e=Math.round(e),e<0?0:e>360?360:e}function i(e){return e<0?0:e>1?1:e}function r(e){return t(e.length&&"%"===e.charAt(e.length-1)?parseFloat(e)/100*255:parseInt(e,10))}function a(e){return i(e.length&&"%"===e.charAt(e.length-1)?parseFloat(e)/100:parseFloat(e))}function o(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function s(e,t,n){return e+(t-e)*n}function l(e){if(e){e+="";var t=e.replace(/ /g,"").toLowerCase();if(t in y)return y[t].slice();if("#"!==t.charAt(0)){var n=t.indexOf("("),i=t.indexOf(")");if(n!==-1&&i+1===t.length){var o=t.substr(0,n),s=t.substr(n+1,i-(n+1)).split(","),l=1;switch(o){case"rgba":if(4!==s.length)return;l=a(s.pop());case"rgb":if(3!==s.length)return;return[r(s[0]),r(s[1]),r(s[2]),l];case"hsla":if(4!==s.length)return;return s[3]=a(s[3]),u(s);case"hsl":if(3!==s.length)return;return u(s);default:return}}}else{if(4===t.length){var c=parseInt(t.substr(1),16);if(!(c>=0&&c<=4095))return;return[(3840&c)>>4|(3840&c)>>8,240&c|(240&c)>>4,15&c|(15&c)<<4,1]}if(7===t.length){var c=parseInt(t.substr(1),16);if(!(c>=0&&c<=16777215))return;return[(16711680&c)>>16,(65280&c)>>8,255&c,1]}}}}function u(e){var n=(parseFloat(e[0])%360+360)%360/360,i=a(e[1]),r=a(e[2]),s=r<=.5?r*(i+1):r+i-r*i,l=2*r-s,u=[t(255*o(l,s,n+1/3)),t(255*o(l,s,n)),t(255*o(l,s,n-1/3))];return 4===e.length&&(u[3]=e[3]),u}function c(e){if(e){var t,n,i=e[0]/255,r=e[1]/255,a=e[2]/255,o=Math.min(i,r,a),s=Math.max(i,r,a),l=s-o,u=(s+o)/2;if(0===l)t=0,n=0;else{n=u<.5?l/(s+o):l/(2-s-o);var c=((s-i)/6+l/2)/l,d=((s-r)/6+l/2)/l,h=((s-a)/6+l/2)/l;i===s?t=h-d:r===s?t=1/3+c-h:a===s&&(t=2/3+d-c),t<0&&(t+=1),t>1&&(t-=1)}var f=[360*t,n,u];return null!=e[3]&&f.push(e[3]),f}}function d(e,t){var n=l(e);if(n){for(var i=0;i<3;i++)t<0?n[i]=n[i]*(1-t)|0:n[i]=(255-n[i])*t+n[i]|0;return v(n,4===n.length?"rgba":"rgb")}}function h(e,t){var n=l(e);if(n)return((1<<24)+(n[0]<<16)+(n[1]<<8)+ +n[2]).toString(16).slice(1)}function f(e,n,i){if(n&&n.length&&e>=0&&e<=1){i=i||[0,0,0,0];var r=e*(n.length-1),a=Math.floor(r),o=Math.ceil(r),l=n[a],u=n[o],c=r-a;return i[0]=t(s(l[0],u[0],c)),i[1]=t(s(l[1],u[1],c)),i[2]=t(s(l[2],u[2],c)),i[3]=t(s(l[3],u[3],c)),i}}function p(e,n,r){if(n&&n.length&&e>=0&&e<=1){var a=e*(n.length-1),o=Math.floor(a),u=Math.ceil(a),c=l(n[o]),d=l(n[u]),h=a-o,f=v([t(s(c[0],d[0],h)),t(s(c[1],d[1],h)),t(s(c[2],d[2],h)),i(s(c[3],d[3],h))],"rgba");return r?{color:f,leftIndex:o,rightIndex:u,value:a}:f}}function g(e,t,i,r){if(e=l(e))return e=c(e),null!=t&&(e[0]=n(t)),null!=i&&(e[1]=a(i)),null!=r&&(e[2]=a(r)),v(u(e),"rgba")}function m(e,t){if(e=l(e),e&&null!=t)return e[3]=i(t),v(e,"rgba")}function v(e,t){var n=e[0]+","+e[1]+","+e[2];return"rgba"!==t&&"hsva"!==t&&"hsla"!==t||(n+=","+e[3]),t+"("+n+")"}var y={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};return{parse:l,lift:d,toHex:h,fastMapToColor:f,mapToColor:p,modifyHSL:g,modifyAlpha:m,stringify:v}}),t("echarts/loading/default",["require","../util/graphic","zrender/core/util"],function(e){var t=e("../util/graphic"),n=e("zrender/core/util"),i=Math.PI;return function(e,r){r=r||{},n.defaults(r,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var a=new t.Rect({style:{fill:r.maskColor},zlevel:r.zlevel,z:1e4}),o=new t.Arc({shape:{startAngle:-i/2,endAngle:-i/2+.1,r:10},style:{stroke:r.color,lineCap:"round",lineWidth:5},zlevel:r.zlevel,z:10001}),s=new t.Rect({style:{fill:"none",text:r.text,textPosition:"right",textDistance:10,textFill:r.textColor},zlevel:r.zlevel,z:10001});o.animateShape(!0).when(1e3,{endAngle:3*i/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:3*i/2}).delay(300).start("circularInOut");var l=new t.Group;return l.add(o),l.add(s),l.add(a),l.resize=function(){var t=e.getWidth()/2,n=e.getHeight()/2;o.setShape({cx:t,cy:n});var i=o.shape.r;s.setShape({x:t-i,y:n-i,width:2*i,height:2*i}),a.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},l.resize(),l}}),t("echarts/visual/seriesColor",["require","zrender/graphic/Gradient"],function(e){var t=e("zrender/graphic/Gradient");return function(e){function n(n){var i=(n.visualColorAccessPath||"itemStyle.normal.color").split("."),r=n.getData(),a=n.get(i)||n.getColorFromPalette(n.get("name"));r.setVisual("color",a),e.isSeriesFiltered(n)||("function"!=typeof a||a instanceof t||r.each(function(e){r.setItemVisual(e,"color",a(n.getDataParams(e)))}),r.each(function(e){var t=r.getItemModel(e),n=t.get(i,!0);null!=n&&r.setItemVisual(e,"color",n)}))}e.eachRawSeries(n)}}),t("zrender/core/timsort",[],function(){function e(e){for(var t=0;e>=l;)t|=1&e,e>>=1;return e+t}function t(e,t,i,r){var a=t+1;if(a===i)return 1;if(r(e[a++],e[t])<0){for(;a<i&&r(e[a],e[a-1])<0;)a++;n(e,t,a)}else for(;a<i&&r(e[a],e[a-1])>=0;)a++;return a-t}function n(e,t,n){for(n--;t<n;){var i=e[t];e[t++]=e[n],e[n--]=i}}function i(e,t,n,i,r){for(i===t&&i++;i<n;i++){for(var a,o=e[i],s=t,l=i;s<l;)a=s+l>>>1,r(o,e[a])<0?l=a:s=a+1;var u=i-s;switch(u){case 3:e[s+3]=e[s+2];case 2:e[s+2]=e[s+1];case 1:e[s+1]=e[s];break;default:for(;u>0;)e[s+u]=e[s+u-1],u--}e[s]=o}}function r(e,t,n,i,r,a){var o=0,s=0,l=1;if(a(e,t[n+r])>0){for(s=i-r;l<s&&a(e,t[n+r+l])>0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=r,l+=r}else{for(s=r+1;l<s&&a(e,t[n+r-l])<=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=o;o=r-l,l=r-u}for(o++;o<l;){var c=o+(l-o>>>1);a(e,t[n+c])>0?o=c+1:l=c}return l}function a(e,t,n,i,r,a){var o=0,s=0,l=1;if(a(e,t[n+r])<0){for(s=r+1;l<s&&a(e,t[n+r-l])<0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=o;o=r-l,l=r-u}else{for(s=i-r;l<s&&a(e,t[n+r+l])>=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=r,l+=r}for(o++;o<l;){var c=o+(l-o>>>1);a(e,t[n+c])<0?l=c:o=c+1}return l}function o(e,t){function n(e,t){h[y]=e,f[y]=t,y+=1}function i(){for(;y>1;){var e=y-2;if(e>=1&&f[e-1]<=f[e]+f[e+1]||e>=2&&f[e-2]<=f[e]+f[e-1])f[e-1]<f[e+1]&&e--;else if(f[e]>f[e+1])break;s(e)}}function o(){for(;y>1;){var e=y-2;e>0&&f[e-1]<f[e+1]&&e--,s(e)}}function s(n){var i=h[n],o=f[n],s=h[n+1],u=f[n+1];f[n]=o+u,n===y-3&&(h[n+1]=h[n+2],f[n+1]=f[n+2]),y--;var c=a(e[s],e,i,o,0,t);i+=c,o-=c,0!==o&&(u=r(e[i+o-1],e,s,u,u-1,t),0!==u&&(o<=u?l(i,o,s,u):d(i,o,s,u)))}function l(n,i,o,s){var l=0;for(l=0;l<i;l++)_[l]=e[n+l];var c=0,d=o,h=n;if(e[h++]=e[d++],0!==--s){if(1===i){for(l=0;l<s;l++)e[h+l]=e[d+l];return void(e[h+s]=_[c])}for(var f,g,m,v=p;;){f=0,g=0,m=!1;do if(t(e[d],_[c])<0){if(e[h++]=e[d++],g++,f=0,0===--s){m=!0;break}}else if(e[h++]=_[c++],f++,g=0,1===--i){m=!0;break}while((f|g)<v);if(m)break;do{if(f=a(e[d],_,c,i,0,t),0!==f){for(l=0;l<f;l++)e[h+l]=_[c+l];if(h+=f,c+=f,i-=f,i<=1){m=!0;break}}if(e[h++]=e[d++],0===--s){m=!0;break}if(g=r(_[c],e,d,s,0,t),0!==g){for(l=0;l<g;l++)e[h+l]=e[d+l];if(h+=g,d+=g,s-=g,0===s){m=!0;break}}if(e[h++]=_[c++],1===--i){m=!0;break}v--}while(f>=u||g>=u);if(m)break;v<0&&(v=0),v+=2}if(p=v,p<1&&(p=1),1===i){for(l=0;l<s;l++)e[h+l]=e[d+l];e[h+s]=_[c]}else{if(0===i)throw new Error;for(l=0;l<i;l++)e[h+l]=_[c+l]}}else for(l=0;l<i;l++)e[h+l]=_[c+l]}function d(n,i,o,s){var l=0;for(l=0;l<s;l++)_[l]=e[o+l];var c=n+i-1,d=s-1,h=o+s-1,f=0,g=0;if(e[h--]=e[c--],0!==--i){if(1===s){for(h-=i,c-=i,g=h+1,f=c+1,l=i-1;l>=0;l--)e[g+l]=e[f+l];return void(e[h]=_[d])}for(var m=p;;){var v=0,y=0,b=!1;do if(t(_[d],e[c])<0){if(e[h--]=e[c--],v++,y=0,0===--i){b=!0;break}}else if(e[h--]=_[d--],y++,v=0,1===--s){b=!0;break}while((v|y)<m);if(b)break;do{if(v=i-a(_[d],e,n,i,i-1,t),0!==v){for(h-=v,c-=v,i-=v,g=h+1,f=c+1,l=v-1;l>=0;l--)e[g+l]=e[f+l];if(0===i){b=!0;break}}if(e[h--]=_[d--],1===--s){b=!0;break}if(y=s-r(e[c],_,0,s,s-1,t),0!==y){for(h-=y,d-=y,s-=y,g=h+1,f=d+1,l=0;l<y;l++)e[g+l]=_[f+l];if(s<=1){b=!0;break}}if(e[h--]=e[c--],0===--i){b=!0;break}m--}while(v>=u||y>=u);if(b)break;m<0&&(m=0),m+=2}if(p=m,p<1&&(p=1),1===s){for(h-=i,c-=i,g=h+1,f=c+1,l=i-1;l>=0;l--)e[g+l]=e[f+l];e[h]=_[d]}else{if(0===s)throw new Error;for(f=h-(s-1),l=0;l<s;l++)e[f+l]=_[l]}}else for(f=h-(s-1),l=0;l<s;l++)e[f+l]=_[l]}var h,f,p=u,g=0,m=c,v=0,y=0;g=e.length,g<2*c&&(m=g>>>1);var _=[];v=g<120?5:g<1542?10:g<119151?19:40,h=[],f=[],this.mergeRuns=i,this.forceMergeRuns=o,this.pushRun=n}function s(n,r,a,s){a||(a=0),s||(s=n.length);var u=s-a;if(!(u<2)){var c=0;if(u<l)return c=t(n,a,s,r),void i(n,a,s,a+c,r);var d=new o(n,r),h=e(u);do{if(c=t(n,a,s,r),c<h){var f=u;f>h&&(f=h),i(n,a,a+f,a+c,r),c=f}d.pushRun(a,c),d.mergeRuns(),u-=c,a+=c}while(0!==u);d.forceMergeRuns()}}var l=32,u=7,c=256;return s}),t("echarts/model/Model",["require","zrender/core/util","../util/clazz","./mixin/lineStyle","./mixin/areaStyle","./mixin/textStyle","./mixin/itemStyle"],function(e){function t(e,t,n){this.parentModel=t,this.ecModel=n,this.option=e}var n=e("zrender/core/util"),i=e("../util/clazz");t.prototype={constructor:t,init:null,mergeOption:function(e){n.merge(this.option,e,!0)},get:function(e,t){if(!e)return this.option;"string"==typeof e&&(e=e.split("."));for(var n=this.option,i=this.parentModel,r=0;r<e.length&&(!e[r]||(n=n&&"object"==typeof n?n[e[r]]:null,null!=n));r++);return null==n&&i&&!t&&(n=i.get(e)),n},getShallow:function(e,t){var n=this.option,i=n&&n[e],r=this.parentModel;return null==i&&r&&!t&&(i=r.getShallow(e)),i},getModel:function(e,n){var i=this.get(e,!0),r=this.parentModel,a=new t(i,n||r&&r.getModel(e),this.ecModel);return a},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){var e=this.constructor;return new e(n.clone(this.option))},setReadOnly:function(e){i.setReadOnly(this,e)}},i.enableClassExtend(t);var r=n.mixin;return r(t,e("./mixin/lineStyle")),r(t,e("./mixin/areaStyle")),r(t,e("./mixin/textStyle")),r(t,e("./mixin/itemStyle")),t}),t("echarts/preprocessor/backwardCompat",["require","zrender/core/util","./helper/compatStyle"],function(e){function t(e,t){t=t.split(",");for(var n=e,i=0;i<t.length&&(n=n&&n[t[i]],null!=n);i++);return n}function n(e,t,n,i){t=t.split(",");for(var r,a=e,o=0;o<t.length-1;o++)r=t[o],null==a[r]&&(a[r]={}),a=a[r];(i||null==a[t[o]])&&(a[t[o]]=n)}function i(e){u(o,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var r=e("zrender/core/util"),a=e("./helper/compatStyle"),o=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],s=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],l=["bar","boxplot","candlestick","chord","effectScatter","funnel","gauge","lines","graph","heatmap","line","map","parallel","pie","radar","sankey","scatter","treemap"],u=r.each;return function(e){u(e.series,function(e){if(r.isObject(e)){var o=e.type;if(a(e),"pie"!==o&&"gauge"!==o||null!=e.clockWise&&(e.clockwise=e.clockWise),"gauge"===o){var s=t(e,"pointer.color");null!=s&&n(e,"itemStyle.normal.color",s)}for(var u=0;u<l.length;u++)if(l[u]===e.type){i(e);break}}}),e.dataRange&&(e.visualMap=e.dataRange),u(s,function(t){var n=e[t];n&&(r.isArray(n)||(n=[n]),u(n,function(e){i(e)}))})}}),t("echarts/util/number",["require"],function(e){function t(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}var n={},i=1e-4;return n.linearMap=function(e,t,n,i){var r=t[1]-t[0],a=n[1]-n[0];if(0===r)return 0===a?n[0]:(n[0]+n[1])/2;if(i)if(r>0){if(e<=t[0])return n[0];if(e>=t[1])return n[1]}else{if(e>=t[0])return n[0];if(e<=t[1])return n[1]}else{if(e===t[0])return n[0];if(e===t[1])return n[1]}return(e-t[0])/r*a+n[0]},n.parsePercent=function(e,n){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%"}return"string"==typeof e?t(e).match(/%$/)?parseFloat(e)/100*n:parseFloat(e):null==e?NaN:+e},n.round=function(e){return+(+e).toFixed(10)},n.asc=function(e){return e.sort(function(e,t){return e-t}),e},n.getPrecision=function(e){if(e=+e,isNaN(e))return 0;for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n},n.getPixelPrecision=function(e,t){var n=Math.log,i=Math.LN10,r=Math.floor(n(e[1]-e[0])/i),a=Math.round(n(Math.abs(t[1]-t[0]))/i);return Math.max(-r+a,0)},n.MAX_SAFE_INTEGER=9007199254740991,n.remRadian=function(e){var t=2*Math.PI;return(e%t+t)%t},n.isRadianAroundZero=function(e){return e>-i&&e<i},n.parseDate=function(e){return e instanceof Date?e:new Date("string"==typeof e?new Date(e.replace(/-/g,"/"))-new Date("1970/01/01"):Math.round(e))},n.quantity=function(e){return Math.pow(10,Math.floor(Math.log(e)/Math.LN10))},n.nice=function(e,t){var i,r=n.quantity(e),a=e/r;return i=t?a<1.5?1:a<2.5?2:a<4?3:a<7?5:10:a<1?1:a<2?2:a<3?3:a<5?5:10,i*r},n}),t("echarts/util/format",["require","zrender/core/util","./number","zrender/contain/text"],function(e){function t(e){return isNaN(e)?"-":(e=(e+"").split("."),e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:""))}function n(e){return e.toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function i(e){var t=e.length;return"number"==typeof e?[e,e,e,e]:2===t?[e[0],e[1],e[0],e[1]]:3===t?[e[0],e[1],e[2],e[1]]:e}function r(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function a(e,t){return"{"+e+(null==t?"":t)+"}"}function o(e,t){u.isArray(t)||(t=[t]);var n=t.length;if(!n)return"";for(var i=t[0].$vars||[],r=0;r<i.length;r++){var o=h[r];e=e.replace(a(o),a(o,0))}for(var s=0;s<n;s++)for(var l=0;l<i.length;l++)e=e.replace(a(h[l],s),t[s][i[l]]);return e}function s(e,t){"week"!==e&&"month"!==e&&"quarter"!==e&&"half-year"!==e&&"year"!==e||(e="MM-dd\nyyyy");var n=c.parseDate(t),i=n.getFullYear(),r=n.getMonth()+1,a=n.getDate(),o=n.getHours(),s=n.getMinutes(),u=n.getSeconds();return e=e.replace("MM",l(r)).toLowerCase().replace("yyyy",i).replace("yy",i%100).replace("dd",l(a)).replace("d",a).replace("hh",l(o)).replace("h",o).replace("mm",l(s)).replace("m",s).replace("ss",l(u)).replace("s",u)}function l(e){return e<10?"0"+e:e}var u=e("zrender/core/util"),c=e("./number"),d=e("zrender/contain/text"),h=["a","b","c","d","e","f","g"];return{normalizeCssArray:i,addCommas:t,toCamelCase:n,encodeHTML:r,formatTpl:o,formatTime:s,truncateText:d.truncateText}}),t("zrender/core/matrix",[],function(){var e="undefined"==typeof Float32Array?Array:Float32Array,t={create:function(){var n=new e(6);return t.identity(n),n},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},mul:function(e,t,n){var i=t[0]*n[0]+t[2]*n[1],r=t[1]*n[0]+t[3]*n[1],a=t[0]*n[2]+t[2]*n[3],o=t[1]*n[2]+t[3]*n[3],s=t[0]*n[4]+t[2]*n[5]+t[4],l=t[1]*n[4]+t[3]*n[5]+t[5];return e[0]=i,e[1]=r,e[2]=a,e[3]=o,e[4]=s,e[5]=l,e},translate:function(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e},rotate:function(e,t,n){var i=t[0],r=t[2],a=t[4],o=t[1],s=t[3],l=t[5],u=Math.sin(n),c=Math.cos(n);return e[0]=i*c+o*u,e[1]=-i*u+o*c,e[2]=r*c+s*u,e[3]=-r*u+c*s,e[4]=c*a+u*l,e[5]=c*l-u*a,e},scale:function(e,t,n){var i=n[0],r=n[1];return e[0]=t[0]*i,e[1]=t[1]*r,e[2]=t[2]*i,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*r,e},invert:function(e,t){var n=t[0],i=t[2],r=t[4],a=t[1],o=t[3],s=t[5],l=n*o-a*i;return l?(l=1/l,e[0]=o*l,e[1]=-a*l,e[2]=-i*l,e[3]=n*l,e[4]=(i*s-o*r)*l,e[5]=(a*r-n*s)*l,e):null}};return t}),t("echarts/data/List",["require","../model/Model","./DataDiffer","zrender/core/util","../util/model"],function(e){function t(e){return c.isArray(e)||(e=[e]),e}function n(e,t){var n=e.dimensions,i=new g(c.map(n,e.getDimensionInfo,e),e.hostModel);
p(i,e);for(var r=i._storage={},a=e._storage,o=0;o<n.length;o++){var s=n[o],l=a[s];c.indexOf(t,s)>=0?r[s]=new l.constructor(a[s].length):r[s]=a[s]}return i}var i="undefined",r="undefined"==typeof window?global:window,a=typeof r.Float64Array===i?Array:r.Float64Array,o=typeof r.Int32Array===i?Array:r.Int32Array,s={"float":a,"int":o,ordinal:Array,number:Array,time:Array},l=e("../model/Model"),u=e("./DataDiffer"),c=e("zrender/core/util"),d=e("../util/model"),h=c.isObject,f=["stackedOn","hasItemOption","_nameList","_idList","_rawData"],p=function(e,t){c.each(f.concat(t.__wrappedMethods||[]),function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e.__wrappedMethods=t.__wrappedMethods},g=function(e,t){e=e||["x","y"];for(var n={},i=[],r=0;r<e.length;r++){var a,o={};"string"==typeof e[r]?(a=e[r],o={name:a,stackable:!1,type:"number"}):(o=e[r],a=o.name,o.type=o.type||"number"),i.push(a),n[a]=o}this.dimensions=i,this._dimensionInfos=n,this.hostModel=t,this.dataType,this.indices=[],this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this.stackedOn=null,this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._rawData,this._extent},m=g.prototype;m.type="list",m.hasItemOption=!0,m.getDimension=function(e){return isNaN(e)||(e=this.dimensions[e]||e),e},m.getDimensionInfo=function(e){return c.clone(this._dimensionInfos[this.getDimension(e)])},m.initData=function(e,t,n){if(e=e||[],!c.isArray(e))throw new Error("Invalid data.");this._rawData=e;var i=this._storage={},r=this.indices=[],a=this.dimensions,o=e.length,l=this._dimensionInfos,u=[],h={};t=t||[];for(var f=0;f<a.length;f++){var p=l[a[f]],g=s[p.type];i[a[f]]=new g(o)}var m=this;n||(m.hasItemOption=!1),n=n||function(e,t,n,i){var r=d.getDataItemValue(e);return d.isDataItemOption(e)&&(m.hasItemOption=!0),d.converDataValue(r instanceof Array?r[i]:r,l[t])};for(var v=0;v<e.length;v++){for(var y=e[v],_=0;_<a.length;_++){var b=a[_],x=i[b];x[v]=n(y,b,v,_)}r.push(v)}for(var f=0;f<e.length;f++){t[f]||e[f]&&null!=e[f].name&&(t[f]=e[f].name);var w=t[f]||"",k=e[f]&&e[f].id;!k&&w&&(h[w]=h[w]||0,k=w,h[w]>0&&(k+="__ec__"+h[w]),h[w]++),k&&(u[f]=k)}this._nameList=t,this._idList=u},m.count=function(){return this.indices.length},m.get=function(e,t,n){var i=this._storage,r=this.indices[t];if(null==r)return NaN;var a=i[e]&&i[e][r];if(n){var o=this._dimensionInfos[e];if(o&&o.stackable)for(var s=this.stackedOn;s;){var l=s.get(e,t);(a>=0&&l>0||a<=0&&l<0)&&(a+=l),s=s.stackedOn}}return a},m.getValues=function(e,t,n){var i=[];c.isArray(e)||(n=t,t=e,e=this.dimensions);for(var r=0,a=e.length;r<a;r++)i.push(this.get(e[r],t,n));return i},m.hasValue=function(e){for(var t=this.dimensions,n=this._dimensionInfos,i=0,r=t.length;i<r;i++)if("ordinal"!==n[t[i]].type&&isNaN(this.get(t[i],e)))return!1;return!0},m.getDataExtent=function(e,t){e=this.getDimension(e);var n=this._storage[e],i=this.getDimensionInfo(e);t=i&&i.stackable&&t;var r,a=(this._extent||(this._extent={}))[e+!!t];if(a)return a;if(n){for(var o=1/0,s=-(1/0),l=0,u=this.count();l<u;l++)r=this.get(e,l,t),r<o&&(o=r),r>s&&(s=r);return this._extent[e+!!t]=[o,s]}return[1/0,-(1/0)]},m.getSum=function(e,t){var n=this._storage[e],i=0;if(n)for(var r=0,a=this.count();r<a;r++){var o=this.get(e,r,t);isNaN(o)||(i+=o)}return i},m.indexOf=function(e,t){var n=this._storage,i=n[e],r=this.indices;if(i)for(var a=0,o=r.length;a<o;a++){var s=r[a];if(i[s]===t)return a}return-1},m.indexOfName=function(e){for(var t=this.indices,n=this._nameList,i=0,r=t.length;i<r;i++){var a=t[i];if(n[a]===e)return i}return-1},m.indexOfRawIndex=function(e){for(var t=this.indices,n=0,i=t.length-1;n<=i;){var r=(n+i)/2|0;if(t[r]<e)n=r+1;else{if(!(t[r]>e))return r;i=r-1}}return-1},m.indexOfNearest=function(e,t,n,i){var r=this._storage,a=r[e];null==i&&(i=1/0);var o=-1;if(a)for(var s=Number.MAX_VALUE,l=0,u=this.count();l<u;l++){var c=t-this.get(e,l,n),d=Math.abs(c);c<=i&&(d<s||d===s&&c>0)&&(s=d,o=l)}return o},m.getRawIndex=function(e){var t=this.indices[e];return null==t?-1:t},m.getRawDataItem=function(e){return this._rawData[this.getRawIndex(e)]},m.getName=function(e){return this._nameList[this.indices[e]]||""},m.getId=function(e){return this._idList[this.indices[e]]||this.getRawIndex(e)+""},m.each=function(e,n,i,r){"function"==typeof e&&(r=i,i=n,n=e,e=[]),e=c.map(t(e),this.getDimension,this);var a=[],o=e.length,s=this.indices;r=r||this;for(var l=0;l<s.length;l++)switch(o){case 0:n.call(r,l);break;case 1:n.call(r,this.get(e[0],l,i),l);break;case 2:n.call(r,this.get(e[0],l,i),this.get(e[1],l,i),l);break;default:for(var u=0;u<o;u++)a[u]=this.get(e[u],l,i);a[u]=l,n.apply(r,a)}},m.filterSelf=function(e,n,i,r){"function"==typeof e&&(r=i,i=n,n=e,e=[]),e=c.map(t(e),this.getDimension,this);var a=[],o=[],s=e.length,l=this.indices;r=r||this;for(var u=0;u<l.length;u++){var d;if(1===s)d=n.call(r,this.get(e[0],u,i),u);else{for(var h=0;h<s;h++)o[h]=this.get(e[h],u,i);o[h]=u,d=n.apply(r,o)}d&&a.push(l[u])}return this.indices=a,this._extent={},this},m.mapArray=function(e,t,n,i){"function"==typeof e&&(i=n,n=t,t=e,e=[]);var r=[];return this.each(e,function(){r.push(t&&t.apply(this,arguments))},n,i),r},m.map=function(e,i,r,a){e=c.map(t(e),this.getDimension,this);var o=n(this,e),s=o.indices=this.indices,l=o._storage,u=[];return this.each(e,function(){var t=arguments[arguments.length-1],n=i&&i.apply(this,arguments);if(null!=n){"number"==typeof n&&(u[0]=n,n=u);for(var r=0;r<n.length;r++){var a=e[r],o=l[a],c=s[t];o&&(o[c]=n[r])}}},r,a),o},m.downSample=function(e,t,i,r){for(var a=n(this,[e]),o=this._storage,s=a._storage,l=this.indices,u=a.indices=[],c=[],d=[],h=Math.floor(1/t),f=s[e],p=this.count(),g=0;g<o[e].length;g++)s[e][g]=o[e][g];for(var g=0;g<p;g+=h){h>p-g&&(h=p-g,c.length=h);for(var m=0;m<h;m++){var v=l[g+m];c[m]=f[v],d[m]=v}var y=i(c),v=d[r(c,y)||0];f[v]=y,u.push(v)}return a},m.getItemModel=function(e){var t=this.hostModel;return e=this.indices[e],new l(this._rawData[e],t,t&&t.ecModel)},m.diff=function(e){var t=this._idList,n=e&&e._idList;return new u(e?e.indices:[],this.indices,function(e){return n[e]||e+""},function(e){return t[e]||e+""})},m.getVisual=function(e){var t=this._visual;return t&&t[e]},m.setVisual=function(e,t){if(h(e))for(var n in e)e.hasOwnProperty(n)&&this.setVisual(n,e[n]);else this._visual=this._visual||{},this._visual[e]=t},m.setLayout=function(e,t){if(h(e))for(var n in e)e.hasOwnProperty(n)&&this.setLayout(n,e[n]);else this._layout[e]=t},m.getLayout=function(e){return this._layout[e]},m.getItemLayout=function(e){return this._itemLayouts[e]},m.setItemLayout=function(e,t,n){this._itemLayouts[e]=n?c.extend(this._itemLayouts[e]||{},t):t},m.clearItemLayouts=function(){this._itemLayouts.length=0},m.getItemVisual=function(e,t,n){var i=this._itemVisuals[e],r=i&&i[t];return null!=r||n?r:this.getVisual(t)},m.setItemVisual=function(e,t,n){var i=this._itemVisuals[e]||{};if(this._itemVisuals[e]=i,h(t))for(var r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);else i[t]=n},m.clearAllVisual=function(){this._visual={},this._itemVisuals=[]};var v=function(e){e.seriesIndex=this.seriesIndex,e.dataIndex=this.dataIndex,e.dataType=this.dataType};return m.setItemGraphicEl=function(e,t){var n=this.hostModel;t&&(t.dataIndex=e,t.dataType=this.dataType,t.seriesIndex=n&&n.seriesIndex,"group"===t.type&&t.traverse(v,t)),this._graphicEls[e]=t},m.getItemGraphicEl=function(e){return this._graphicEls[e]},m.eachItemGraphicEl=function(e,t){c.each(this._graphicEls,function(n,i){n&&e&&e.call(t,n,i)})},m.cloneShallow=function(){var e=c.map(this.dimensions,this.getDimensionInfo,this),t=new g(e,this.hostModel);return t._storage=this._storage,p(t,this),t.indices=this.indices.slice(),this._extent&&(t._extent=c.extend({},this._extent)),t},m.wrapMethod=function(e,t){var n=this[e];"function"==typeof n&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var e=n.apply(this,arguments);return t.apply(this,[e].concat(c.slice(arguments)))})},m.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],m.CHANGABLE_METHODS=["filterSelf"],g}),t("zrender/core/vector",[],function(){var e="undefined"==typeof Float32Array?Array:Float32Array,t={create:function(t,n){var i=new e(2);return null==t&&(t=0),null==n&&(n=0),i[0]=t,i[1]=n,i},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e},clone:function(t){var n=new e(2);return n[0]=t[0],n[1]=t[1],n},set:function(e,t,n){return e[0]=t,e[1]=n,e},add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e},scaleAndAdd:function(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e},sub:function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e},len:function(e){return Math.sqrt(this.lenSquare(e))},lenSquare:function(e){return e[0]*e[0]+e[1]*e[1]},mul:function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e},div:function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e},dot:function(e,t){return e[0]*t[0]+e[1]*t[1]},scale:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e},normalize:function(e,n){var i=t.len(n);return 0===i?(e[0]=0,e[1]=0):(e[0]=n[0]/i,e[1]=n[1]/i),e},distance:function(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))},distanceSquare:function(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])},negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e},lerp:function(e,t,n,i){return e[0]=t[0]+i*(n[0]-t[0]),e[1]=t[1]+i*(n[1]-t[1]),e},applyTransform:function(e,t,n){var i=t[0],r=t[1];return e[0]=n[0]*i+n[2]*r+n[4],e[1]=n[1]*i+n[3]*r+n[5],e},min:function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e},max:function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}};return t.length=t.len,t.lengthSquare=t.lenSquare,t.dist=t.distance,t.distSquare=t.distanceSquare,t}),t("echarts/chart/bar/BarSeries",["require","../../model/Series","../helper/createListFromArray"],function(e){"use strict";var t=e("../../model/Series"),n=e("../helper/createListFromArray");return t.extend({type:"series.bar",dependencies:["grid","polar"],getInitialData:function(e,t){var i=e.coordinateSystem;if("cartesian2d"!==i)throw new Error("Bar only support cartesian2d coordinateSystem");return n(e.data,this,t)},getMarkerPosition:function(e){var t=this.coordinateSystem;if(t){var n=t.dataToPoint(e,!0),i=this.getData(),r=i.getLayout("offset"),a=i.getLayout("size"),o=t.getBaseAxis().isHorizontal()?0:1;return n[o]+=r+a/2,n}return[NaN,NaN]},brushSelector:"rect",defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,barMinHeight:0,itemStyle:{normal:{},emphasis:{}}}})}),t("echarts/chart/bar/BarView",["require","zrender/core/util","../../util/graphic","../../model/Model","./barItemStyle","../../echarts"],function(e){"use strict";function t(e,t){var n=e.width>0?1:-1,i=e.height>0?1:-1;t=Math.min(t,Math.abs(e.width),Math.abs(e.height)),e.x+=n*t/2,e.y+=i*t/2,e.width-=n*t,e.height-=i*t}var n=e("zrender/core/util"),i=e("../../util/graphic");return n.extend(e("../../model/Model").prototype,e("./barItemStyle")),e("../../echarts").extendChartView({type:"bar",render:function(e,t,n){var i=e.get("coordinateSystem");return"cartesian2d"===i&&this._renderOnCartesian(e,t,n),this.group},_renderOnCartesian:function(e,r,a){function o(r,a){var o=l.getItemLayout(r),s=l.getItemModel(r).get(p)||0;t(o,s);var u=new i.Rect({shape:n.extend({},o)});if(f){var c=u.shape,d=h?"height":"width",g={};c[d]=0,g[d]=o[d],i[a?"updateProps":"initProps"](u,{shape:g},e,r)}return u}var s=this.group,l=e.getData(),u=this._data,c=e.coordinateSystem,d=c.getBaseAxis(),h=d.isHorizontal(),f=e.get("animation"),p=["itemStyle","normal","barBorderWidth"];l.diff(u).add(function(e){if(l.hasValue(e)){var t=o(e);l.setItemGraphicEl(e,t),s.add(t)}}).update(function(n,r){var a=u.getItemGraphicEl(r);if(!l.hasValue(n))return void s.remove(a);a||(a=o(n,!0));var c=l.getItemLayout(n),d=l.getItemModel(n).get(p)||0;t(c,d),i.updateProps(a,{shape:c},e,n),l.setItemGraphicEl(n,a),s.add(a)}).remove(function(t){var n=u.getItemGraphicEl(t);n&&(n.style.text="",i.updateProps(n,{shape:{width:0}},e,t,function(){s.remove(n)}))}).execute(),this._updateStyle(e,l,h),this._data=l},_updateStyle:function(e,t,r){function a(e,t,n,r,a){i.setText(e,t,n),e.text=r,"outside"===e.textPosition&&(e.textPosition=a)}t.eachItemGraphicEl(function(o,s){var l=t.getItemModel(s),u=t.getItemVisual(s,"color"),c=t.getItemVisual(s,"opacity"),d=t.getItemLayout(s),h=l.getModel("itemStyle.normal"),f=l.getModel("itemStyle.emphasis").getBarItemStyle();o.setShape("r",h.get("barBorderRadius")||0),o.useStyle(n.defaults({fill:u,opacity:c},h.getBarItemStyle()));var p=r?d.height>0?"bottom":"top":d.width>0?"left":"right",g=l.getModel("label.normal"),m=l.getModel("label.emphasis"),v=o.style;g.get("show")?a(v,g,u,n.retrieve(e.getFormattedLabel(s,"normal"),e.getRawValue(s)),p):v.text="",m.get("show")?a(f,m,u,n.retrieve(e.getFormattedLabel(s,"emphasis"),e.getRawValue(s)),p):f.text="",i.setHoverStyle(o,f)})},remove:function(e,t){var n=this.group;e.get("animation")?this._data&&this._data.eachItemGraphicEl(function(t){t.style.text="",i.updateProps(t,{shape:{width:0}},e,t.dataIndex,function(){n.remove(t)})}):n.removeAll()}})}),t("echarts/layout/barGrid",["require","zrender/core/util","../util/number"],function(e){"use strict";function t(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function n(e){return e.dim+e.index}function i(e,i){var r={};a.each(e,function(e,i){var a=e.getData(),o=e.coordinateSystem,l=o.getBaseAxis(),u=l.getExtent(),c="category"===l.type?l.getBandWidth():Math.abs(u[1]-u[0])/a.count(),d=r[n(l)]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},h=d.stacks;r[n(l)]=d;var f=t(e);h[f]||d.autoWidthCount++,h[f]=h[f]||{width:0,maxWidth:0};var p=s(e.get("barWidth"),c),g=s(e.get("barMaxWidth"),c),m=e.get("barGap"),v=e.get("barCategoryGap");p&&!h[f].width&&(p=Math.min(d.remainedWidth,p),h[f].width=p,d.remainedWidth-=p),g&&(h[f].maxWidth=g),null!=m&&(d.gap=m),null!=v&&(d.categoryGap=v)});var o={};return a.each(r,function(e,t){o[t]={};var n=e.stacks,i=e.bandWidth,r=s(e.categoryGap,i),l=s(e.gap,1),u=e.remainedWidth,c=e.autoWidthCount,d=(u-r)/(c+(c-1)*l);d=Math.max(d,0),a.each(n,function(e,t){var n=e.maxWidth;!e.width&&n&&n<d&&(n=Math.min(n,u),u-=n,e.width=n,c--)}),d=(u-r)/(c+(c-1)*l),d=Math.max(d,0);var h,f=0;a.each(n,function(e,t){e.width||(e.width=d),h=e,f+=e.width*(1+l)}),h&&(f-=h.width*l);var p=-f/2;a.each(n,function(e,n){o[t][n]=o[t][n]||{offset:p,width:e.width},p+=e.width*(1+l)})}),o}function r(e,r,o){var s=i(a.filter(r.getSeriesByType(e),function(e){return!r.isSeriesFiltered(e)&&e.coordinateSystem&&"cartesian2d"===e.coordinateSystem.type})),l={};r.eachSeriesByType(e,function(e){var i=e.getData(),r=e.coordinateSystem,a=r.getBaseAxis(),o=t(e),u=s[n(a)][o],c=u.offset,d=u.width,h=r.getOtherAxis(a),f=e.get("barMinHeight")||0,p=a.onZero?h.toGlobalCoord(h.dataToCoord(0)):h.getGlobalExtent()[0],g=r.dataToPoints(i,!0);l[o]=l[o]||[],i.setLayout({offset:c,size:d}),i.each(h.dim,function(e,t){if(!isNaN(e)){l[o][t]||(l[o][t]={p:p,n:p});var n,r,a,s,u=e>=0?"p":"n",m=g[t],v=l[o][t][u];h.isHorizontal()?(n=v,r=m[1]+c,a=m[0]-v,s=d,Math.abs(a)<f&&(a=(a<0?-1:1)*f),l[o][t][u]+=a):(n=m[0]+c,r=v,a=d,s=m[1]-v,Math.abs(s)<f&&(s=(s<=0?-1:1)*f),l[o][t][u]+=s),i.setItemLayout(t,{x:n,y:r,width:a,height:s})}},!0)},this)}var a=e("zrender/core/util"),o=e("../util/number"),s=o.parsePercent;return r}),t("echarts/component/axis",["require","../coord/cartesian/AxisModel","./axis/AxisView"],function(e){"use strict";e("../coord/cartesian/AxisModel"),e("./axis/AxisView")}),t("echarts/chart/line/LineSeries",["require","../helper/createListFromArray","../../model/Series"],function(e){"use strict";var t=e("../helper/createListFromArray"),n=e("../../model/Series");return n.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(e,n){var i=e.coordinateSystem;if("polar"!==i&&"cartesian2d"!==i)throw new Error("Line not support coordinateSystem besides cartesian and polar");return t(e.data,this,n)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,polarIndex:0,clipOverflow:!0,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}})}),t("echarts/visual/symbol",["require"],function(e){return function(e,t,n,i,r){i.eachRawSeriesByType(e,function(e){var r=e.getData(),a=e.get("symbol")||t,o=e.get("symbolSize");r.setVisual({legendSymbol:n||a,symbol:a,symbolSize:o}),i.isSeriesFiltered(e)||("function"==typeof o&&r.each(function(t){var n=e.getRawValue(t),i=e.getDataParams(t);r.setItemVisual(t,"symbolSize",o(n,i))}),r.each(function(e){var t=r.getItemModel(e),n=t.getShallow("symbol",!0),i=t.getShallow("symbolSize",!0);null!=n&&r.setItemVisual(e,"symbol",n),null!=i&&r.setItemVisual(e,"symbolSize",i)}))})}}),t("echarts/coord/cartesian/Grid",["require","exports","../../util/layout","../../coord/axisHelper","zrender/core/util","./Cartesian2D","./Axis2D","./GridModel","../../CoordinateSystem"],function(e,t){function n(e,t,n){return n.getComponent("grid",e.get("gridIndex"))===t}function i(e){var t,n=e.model,i=n.getFormattedLabels(),r=1,a=i.length;a>40&&(r=Math.ceil(a/40));for(var o=0;o<a;o+=r)if(!e.isLabelIgnored(o)){var s=n.getTextRect(i[o]);t?t.union(s):t=s}return t}function r(e,t,n){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(e,t,n),this._model=e}function a(e,t){var n=e.getExtent(),i=n[0]+n[1];e.toGlobalCoord="x"===e.dim?function(e){return e+t}:function(e){return i-e+t},e.toLocalCoord="x"===e.dim?function(e){return e-t}:function(e){return i-e+t}}var o=e("../../util/layout"),s=e("../../coord/axisHelper"),l=e("zrender/core/util"),u=e("./Cartesian2D"),c=e("./Axis2D"),d=l.each,h=s.ifAxisCrossZero,f=s.niceScaleExtent;e("./GridModel");var p=r.prototype;return p.type="grid",p.getRect=function(){return this._rect},p.update=function(e,t){function n(e){var t=i[e];for(var n in t){var r=t[n];if(r&&("category"===r.type||!h(r)))return!0}return!1}var i=this._axesMap;this._updateScale(e,this._model),d(i.x,function(e){f(e,e.model)}),d(i.y,function(e){f(e,e.model)}),d(i.x,function(e){n("y")&&(e.onZero=!1)}),d(i.y,function(e){n("x")&&(e.onZero=!1)}),this.resize(this._model,t)},p.resize=function(e,t){function n(){d(s,function(e){var t=e.isHorizontal(),n=t?[0,r.width]:[0,r.height],i=e.inverse?1:0;e.setExtent(n[i],n[1-i]),a(e,t?r.x:r.y)})}var r=o.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});this._rect=r;var s=this._axesList;n(),e.get("containLabel")&&(d(s,function(e){if(!e.model.get("axisLabel.inside")){var t=i(e);if(t){var n=e.isHorizontal()?"height":"width",a=e.model.get("axisLabel.margin");r[n]-=t[n]+a,"top"===e.position?r.y+=t.height+a:"left"===e.position&&(r.x+=t.width+a)}}}),n())},p.getAxis=function(e,t){var n=this._axesMap[e];if(null!=n){if(null==t)for(var i in n)return n[i];return n[t]}},p.getCartesian=function(e,t){if(null!=e&&null!=t){var n="x"+e+"y"+t;return this._coordsMap[n]}for(var i=0,r=this._coordsList;i<r.length;i++)if(r[i].getAxis("x").index===e||r[i].getAxis("y").index===t)return r[i]},p._initCartesian=function(e,t,i){function r(i){return function(r,u){if(n(r,e,t)){var d=r.get("position");"x"===i?"top"!==d&&"bottom"!==d&&(d="bottom",a[d]&&(d="top"===d?"bottom":"top")):"left"!==d&&"right"!==d&&(d="left",a[d]&&(d="left"===d?"right":"left")),a[d]=!0;var h=new c(i,s.createScaleByModel(r),[0,0],r.get("type"),d),f="category"===h.type;h.onBand=f&&r.get("boundaryGap"),h.inverse=r.get("inverse"),h.onZero=r.get("axisLine.onZero"),r.axis=h,h.model=r,h.grid=this,h.index=u,this._axesList.push(h),o[i][u]=h,l[i]++}}}var a={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},l={x:0,y:0};return t.eachComponent("xAxis",r("x"),this),t.eachComponent("yAxis",r("y"),this),l.x&&l.y?(this._axesMap=o,void d(o.x,function(e,t){d(o.y,function(n,i){var r="x"+t+"y"+i,a=new u(r);a.grid=this,this._coordsMap[r]=a,this._coordsList.push(a),a.addAxis(e),a.addAxis(n)},this)},this)):(this._axesMap={},void(this._axesList=[]))},p._updateScale=function(e,t){function i(e,t,n){d(n.coordDimToDataDim(t.dim),function(n){t.scale.unionExtent(e.getDataExtent(n,"ordinal"!==t.scale.type))})}l.each(this._axesList,function(e){e.scale.setExtent(1/0,-(1/0))}),e.eachSeries(function(r){if("cartesian2d"===r.get("coordinateSystem")){var a=r.get("xAxisIndex"),o=r.get("yAxisIndex"),s=e.getComponent("xAxis",a),l=e.getComponent("yAxis",o);if(!n(s,t,e)||!n(l,t,e))return;var u=this.getCartesian(a,o),c=r.getData(),d=u.getAxis("x"),h=u.getAxis("y");"list"===c.type&&(i(c,d,r),i(c,h,r))}},this)},r.create=function(e,t){var n=[];return e.eachComponent("grid",function(i,a){var o=new r(i,e,t);o.name="grid_"+a,o.resize(i,t),i.coordinateSystem=o,n.push(o)}),e.eachSeries(function(t){if("cartesian2d"===t.get("coordinateSystem")){var i=t.get("xAxisIndex"),r=t.get("yAxisIndex"),a=e.getComponent("xAxis",i),o=e.getComponent("yAxis",r);if(a.get("gridIndex")!==o.get("gridIndex"))throw new Error("xAxis and yAxis must use the same grid");var s=n[a.get("gridIndex")];t.coordinateSystem=s.getCartesian(i,r)}}),n},r.dimensions=u.prototype.dimensions,e("../../CoordinateSystem").register("cartesian2d",r),r}),t("echarts/chart/line/LineView",["require","zrender/core/util","../helper/SymbolDraw","../helper/Symbol","./lineAnimationDiff","../../util/graphic","./poly","../../view/Chart"],function(e){"use strict";function t(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++){var i=e[n],r=t[n];if(i[0]!==r[0]||i[1]!==r[1])return}return!0}}function n(e){return"number"==typeof e?e:e?.3:0}function i(e){var t=e.getGlobalExtent();if(e.onBand){var n=e.getBandWidth()/2-1,i=t[1]>t[0]?1:-1;t[0]+=i*n,t[1]-=i*n}return t}function r(e){return e>=0?1:-1}function a(e,t){var n=e.getBaseAxis(),i=e.getOtherAxis(n),a=n.onZero?0:i.scale.getExtent()[0],o=i.dim,s="x"===o||"radius"===o?1:0;return t.mapArray([o],function(i,l){for(var u,c=t.stackedOn;c&&r(c.get(o,l))===r(i);){u=c;break}var d=[];return d[s]=t.get(n.dim,l),d[1-s]=u?u.get(o,l,!0):a,e.dataToPoint(d)},!0)}function o(e,t){return null!=t.dataIndex?t.dataIndex:null!=t.name?e.indexOfName(t.name):void 0}function s(e,t,n){var r=i(e.getAxis("x")),a=i(e.getAxis("y")),o=e.getBaseAxis().isHorizontal(),s=Math.min(r[0],r[1]),l=Math.min(a[0],a[1]),u=Math.max(r[0],r[1])-s,c=Math.max(a[0],a[1])-l,d=n.get("lineStyle.normal.width")||2,h=n.get("clipOverflow")?d/2:Math.max(u,c);o?(l-=h,c+=2*h):(s-=h,u+=2*h);var f=new v.Rect({shape:{x:s,y:l,width:u,height:c}});return t&&(f.shape[o?"width":"height"]=0,v.initProps(f,{shape:{width:u,height:c}},n)),f}function l(e,t,n){var i=e.getAngleAxis(),r=e.getRadiusAxis(),a=r.getExtent(),o=i.getExtent(),s=Math.PI/180,l=new v.Sector({shape:{cx:e.cx,cy:e.cy,r0:a[0],r:a[1],startAngle:-o[0]*s,endAngle:-o[1]*s,clockwise:i.inverse}});return t&&(l.shape.endAngle=-o[0]*s,v.initProps(l,{shape:{endAngle:-o[1]*s}},n)),l}function u(e,t,n){return"polar"===e.type?l(e,t,n):s(e,t,n)}function c(e,t,n){for(var i=t.getBaseAxis(),r="x"===i.dim||"radius"===i.dim?0:1,a=[],o=0;o<e.length-1;o++){var s=e[o+1],l=e[o];a.push(l);var u=[];switch(n){case"end":u[r]=s[r],u[1-r]=l[1-r],a.push(u);break;case"middle":var c=(l[r]+s[r])/2,d=[];u[r]=d[r]=c,u[1-r]=l[1-r],d[1-r]=s[1-r],a.push(u),a.push(d);break;default:u[r]=l[r],u[1-r]=s[1-r],a.push(u)}}return e[o]&&a.push(e[o]),a}function d(e,t){return Math.max(Math.min(e,t[1]),t[0])}function h(e,t){var n=e.getVisual("visualMeta");if(n&&n.length){for(var i,r=n.length-1;r>=0;r--)if(n[r].dimension<2){i=n[r];break}if(!i||"cartesian2d"!==t.type)return void console.warn("Visual map on line style only support x or y dimension.");var a=i.dimension,o=e.dimensions[a],s=e.getDataExtent(o),l=i.stops,u=[];l[0].interval&&l.sort(function(e,t){return e.interval[0]-t.interval[0]});var c=l[0],h=l[l.length-1],f=c.interval?d(c.interval[0],s):c.value,p=h.interval?d(h.interval[1],s):h.value,g=p-f;if(0===g)return e.getItemVisual(0,"color");for(var r=0;r<l.length;r++)if(l[r].interval){if(l[r].interval[1]===l[r].interval[0])continue;u.push({offset:(d(l[r].interval[0],s)-f)/g,color:l[r].color},{offset:(d(l[r].interval[1],s)-f)/g,color:l[r].color})}else u.push({offset:(l[r].value-f)/g,color:l[r].color});var m=new v.LinearGradient(0,0,0,0,u,(!0)),y=t.getAxis(o),_=Math.round(y.toGlobalCoord(y.dataToCoord(f))),b=Math.round(y.toGlobalCoord(y.dataToCoord(p)));return m[o]=_,m[o+"2"]=b,m}}var f=e("zrender/core/util"),p=e("../helper/SymbolDraw"),g=e("../helper/Symbol"),m=e("./lineAnimationDiff"),v=e("../../util/graphic"),y=e("./poly"),_=e("../../view/Chart");return _.extend({type:"line",init:function(){var e=new v.Group,t=new p;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e},render:function(e,i,r){var o=e.coordinateSystem,s=this.group,l=e.getData(),d=e.getModel("lineStyle.normal"),p=e.getModel("areaStyle.normal"),g=l.mapArray(l.getItemLayout,!0),m="polar"===o.type,v=this._coordSys,y=this._symbolDraw,_=this._polyline,b=this._polygon,x=this._lineGroup,w=e.get("animation"),k=!p.isEmpty(),S=a(o,l),E=e.get("showSymbol"),T=E&&!m&&!e.get("showAllSymbol")&&this._getSymbolIgnoreFunc(l,o),C=this._data;C&&C.eachItemGraphicEl(function(e,t){e.__temp&&(s.remove(e),C.setItemGraphicEl(t,null))}),E||y.remove(),s.add(x);var D=!m&&e.get("step");_&&v.type===o.type&&D===this._step?(k&&!b?b=this._newPolygon(g,S,o,w):b&&!k&&(x.remove(b),b=this._polygon=null),x.setClipPath(u(o,!1,e)),E&&y.updateData(l,T),l.eachItemGraphicEl(function(e){e.stopAnimation(!0)}),t(this._stackedOnPoints,S)&&t(this._points,g)||(w?this._updateAnimation(l,S,o,r,D):(_.setShape({points:g}),b&&b.setShape({points:g,stackedOnPoints:S})))):(E&&y.updateData(l,T),D&&(g=c(g,o,D),S=c(S,o,D)),_=this._newPolyline(g,o,w),k&&(b=this._newPolygon(g,S,o,w)),x.setClipPath(u(o,!0,e)));var M=h(l,o)||l.getVisual("color");_.useStyle(f.defaults(d.getLineStyle(),{fill:"none",stroke:M,lineJoin:"bevel"}));var A=e.get("smooth");if(A=n(e.get("smooth")),_.setShape({smooth:A,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")}),b){var R=l.stackedOn,I=0;if(b.useStyle(f.defaults(p.getAreaStyle(),{fill:M,opacity:.7,lineJoin:"bevel"})),R){var O=R.hostModel;I=n(O.get("smooth"))}b.setShape({smooth:A,stackedOnSmooth:I,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")})}this._data=l,this._coordSys=o,this._stackedOnPoints=S,this._points=g,this._step=D},highlight:function(e,t,n,i){var r=e.getData(),a=o(r,i);if(!(a instanceof Array)&&null!=a&&a>=0){var s=r.getItemGraphicEl(a);if(!s){var l=r.getItemLayout(a);s=new g(r,a),s.position=l,s.setZ(e.get("zlevel"),e.get("z")),s.ignore=isNaN(l[0])||isNaN(l[1]),s.__temp=!0,r.setItemGraphicEl(a,s),s.stopSymbolAnimation(!0),this.group.add(s)}s.highlight()}else _.prototype.highlight.call(this,e,t,n,i)},downplay:function(e,t,n,i){var r=e.getData(),a=o(r,i);if(null!=a&&a>=0){var s=r.getItemGraphicEl(a);s&&(s.__temp?(r.setItemGraphicEl(a,null),this.group.remove(s)):s.downplay())}else _.prototype.downplay.call(this,e,t,n,i)},_newPolyline:function(e){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new y.Polyline({shape:{points:e},silent:!0,z2:10}),this._lineGroup.add(t),this._polyline=t,t},_newPolygon:function(e,t){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new y.Polygon({shape:{points:e,stackedOnPoints:t},silent:!0}),this._lineGroup.add(n),this._polygon=n,n},_getSymbolIgnoreFunc:function(e,t){var n=t.getAxesByScale("ordinal")[0];if(n&&n.isLabelIgnored)return f.bind(n.isLabelIgnored,n)},_updateAnimation:function(e,t,n,i,r){var a=this._polyline,o=this._polygon,s=e.hostModel,l=m(this._data,e,this._stackedOnPoints,t,this._coordSys,n),u=l.current,d=l.stackedOnCurrent,h=l.next,f=l.stackedOnNext;r&&(u=c(l.current,n,r),d=c(l.stackedOnCurrent,n,r),h=c(l.next,n,r),f=c(l.stackedOnNext,n,r)),a.shape.__points=l.current,a.shape.points=u,v.updateProps(a,{shape:{points:h}},s),o&&(o.setShape({points:u,stackedOnPoints:d}),v.updateProps(o,{shape:{points:h,stackedOnPoints:f,__points:l.next}},s));for(var p=[],g=l.status,y=0;y<g.length;y++){var _=g[y].cmd;if("="===_){var b=e.getItemGraphicEl(g[y].idx1);b&&p.push({el:b,ptIdx:y})}}a.animators&&a.animators.length&&a.animators[0].during(function(){for(var e=0;e<p.length;e++){var t=p[e].el;t.attr("position",a.shape.__points[p[e].ptIdx])}})},remove:function(e){var t=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(e,i){e.__temp&&(t.remove(e),n.setItemGraphicEl(i,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}})}),t("echarts/chart/pie/PieSeries",["require","../../data/List","zrender/core/util","../../util/model","../../data/helper/completeDimensions","../../component/helper/selectableMixin","../../echarts"],function(e){"use strict";var t=e("../../data/List"),n=e("zrender/core/util"),i=e("../../util/model"),r=e("../../data/helper/completeDimensions"),a=e("../../component/helper/selectableMixin"),o=e("../../echarts").extendSeriesModel({type:"series.pie",init:function(e){o.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._dataBeforeProcessed},this.updateSelectedMap(e.data),this._defaultLabelLine(e)},mergeOption:function(e){o.superCall(this,"mergeOption",e),this.updateSelectedMap(this.option.data)},getInitialData:function(e,n){var i=r(["value"],e.data),a=new t(i,this);return a.initData(e.data),a},getDataParams:function(e){var t=this._data,n=o.superCall(this,"getDataParams",e),i=t.getSum("value");return n.percent=i?+(t.get("value",e)/i*100).toFixed(2):0,n.$vars.push("percent"),n},_defaultLabelLine:function(e){i.defaultEmphasis(e.labelLine,["show"]);var t=e.labelLine.normal,n=e.labelLine.emphasis;t.show=t.show&&e.label.normal.show,n.show=n.show&&e.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,avoidLabelOverlap:!0,label:{normal:{rotate:!1,show:!0,position:"outer"},emphasis:{}},labelLine:{normal:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderWidth:1},emphasis:{}},animationEasing:"cubicOut",data:[]}});return n.mixin(o,a),o}),t("echarts/layout/points",["require"],function(e){return function(e,t){t.eachSeriesByType(e,function(e){var t=e.getData(),n=e.coordinateSystem;if(n){var i=n.dimensions;"singleAxis"===n.type?t.each(i[0],function(e,i){t.setItemLayout(i,isNaN(e)?[NaN,NaN]:n.dataToPoint(e))}):t.each(i,function(e,i,r){t.setItemLayout(r,isNaN(e)||isNaN(i)?[NaN,NaN]:n.dataToPoint([e,i]))},!0)}})}}),t("echarts/processor/dataSample",[],function(){var e={average:function(e){for(var t=0,n=0,i=0;i<e.length;i++)isNaN(e[i])||(t+=e[i],n++);return 0===n?NaN:t/n},sum:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n]||0;return t},max:function(e){for(var t=-(1/0),n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return t},min:function(e){for(var t=1/0,n=0;n<e.length;n++)e[n]<t&&(t=e[n]);return t},nearest:function(e){return e[0]}},t=function(e,t){return Math.round(e.length/2)};return function(n,i,r){i.eachSeriesByType(n,function(n){var i=n.getData(),r=n.get("sampling"),a=n.coordinateSystem;if("cartesian2d"===a.type&&r){var o=a.getBaseAxis(),s=a.getOtherAxis(o),l=o.getExtent(),u=l[1]-l[0],c=Math.round(i.count()/u);if(c>1){var d;"string"==typeof r?d=e[r]:"function"==typeof r&&(d=r),d&&(i=i.downSample(s.dim,1/c,d,t),n.setData(i))}}},this)}}),t("echarts/visual/dataColor",["require"],function(e){return function(e,t){var n={};t.eachRawSeriesByType(e,function(e){var i=e.getRawData(),r={};if(!t.isSeriesFiltered(e)){var a=e.getData();a.each(function(e){var t=a.getRawIndex(e);r[t]=e}),i.each(function(t){var o=i.getItemModel(t),s=r[t],l=a.getItemVisual(s,"color",!0);if(l)i.setItemVisual(t,"color",l);else{var u=o.get("itemStyle.normal.color")||e.getColorFromPalette(i.getName(t),n);i.setItemVisual(t,"color",u),
a.setItemVisual(s,"color",u)}})}})}}),t("echarts/chart/pie/PieView",["require","../../util/graphic","zrender/core/util","../../view/Chart"],function(e){function t(e,t,i,r){var a=t.getData(),o=this.dataIndex,s=a.getName(o),l=t.get("selectedOffset");r.dispatchAction({type:"pieToggleSelect",from:e,name:s,seriesId:t.id}),a.each(function(e){n(a.getItemGraphicEl(e),a.getItemLayout(e),t.isSelected(a.getName(e)),l,i)})}function n(e,t,n,i,r){var a=(t.startAngle+t.endAngle)/2,o=Math.cos(a),s=Math.sin(a),l=n?i:0,u=[o*l,s*l];r?e.animate().when(200,{position:u}).start("bounceOut"):e.attr("position",u)}function i(e,t){function n(){o.ignore=o.hoverIgnore,s.ignore=s.hoverIgnore}function i(){o.ignore=o.normalIgnore,s.ignore=s.normalIgnore}a.Group.call(this);var r=new a.Sector({z2:2}),o=new a.Polyline,s=new a.Text;this.add(r),this.add(o),this.add(s),this.updateData(e,t,!0),this.on("emphasis",n).on("normal",i).on("mouseover",n).on("mouseout",i)}function r(e,t,n,i,r){var a=i.getModel("textStyle"),s="inside"===r||"inner"===r;return{fill:a.getTextColor()||(s?"#fff":e.getItemVisual(t,"color")),opacity:e.getItemVisual(t,"opacity"),textFont:a.getFont(),text:o.retrieve(e.hostModel.getFormattedLabel(t,n),e.getName(t))}}var a=e("../../util/graphic"),o=e("zrender/core/util"),s=i.prototype;s.updateData=function(e,t,i){function r(){l.stopAnimation(!0),l.animateTo({shape:{r:d.r+10}},300,"elasticOut")}function s(){l.stopAnimation(!0),l.animateTo({shape:{r:d.r}},300,"elasticOut")}var l=this.childAt(0),u=e.hostModel,c=e.getItemModel(t),d=e.getItemLayout(t),h=o.extend({},d);h.label=null,i?(l.setShape(h),l.shape.endAngle=d.startAngle,a.updateProps(l,{shape:{endAngle:d.endAngle}},u,t)):a.updateProps(l,{shape:h},u,t);var f=c.getModel("itemStyle"),p=e.getItemVisual(t,"color");l.useStyle(o.defaults({lineJoin:"bevel",fill:p},f.getModel("normal").getItemStyle())),l.hoverStyle=f.getModel("emphasis").getItemStyle(),n(this,e.getItemLayout(t),c.get("selected"),u.get("selectedOffset"),u.get("animation")),l.off("mouseover").off("mouseout").off("emphasis").off("normal"),c.get("hoverAnimation")&&u.ifEnableAnimation()&&l.on("mouseover",r).on("mouseout",s).on("emphasis",r).on("normal",s),this._updateLabel(e,t),a.setHoverStyle(this)},s._updateLabel=function(e,t){var n=this.childAt(1),i=this.childAt(2),o=e.hostModel,s=e.getItemModel(t),l=e.getItemLayout(t),u=l.label,c=e.getItemVisual(t,"color");a.updateProps(n,{shape:{points:u.linePoints||[[u.x,u.y],[u.x,u.y],[u.x,u.y]]}},o,t),a.updateProps(i,{style:{x:u.x,y:u.y}},o,t),i.attr({style:{textVerticalAlign:u.verticalAlign,textAlign:u.textAlign,textFont:u.font},rotation:u.rotation,origin:[u.x,u.y],z2:10});var d=s.getModel("label.normal"),h=s.getModel("label.emphasis"),f=s.getModel("labelLine.normal"),p=s.getModel("labelLine.emphasis"),g=d.get("position")||h.get("position");i.setStyle(r(e,t,"normal",d,g)),i.ignore=i.normalIgnore=!d.get("show"),i.hoverIgnore=!h.get("show"),n.ignore=n.normalIgnore=!f.get("show"),n.hoverIgnore=!p.get("show"),n.setStyle({stroke:c,opacity:e.getItemVisual(t,"opacity")}),n.setStyle(f.getModel("lineStyle").getLineStyle()),i.hoverStyle=r(e,t,"emphasis",h,g),n.hoverStyle=p.getModel("lineStyle").getLineStyle();var m=f.get("smooth");m&&m===!0&&(m=.4),n.setShape({smooth:m})},o.inherits(i,a.Group);var l=e("../../view/Chart").extend({type:"pie",init:function(){var e=new a.Group;this._sectorGroup=e},render:function(e,n,r,a){if(!a||a.from!==this.uid){var s=e.getData(),l=this._data,u=this.group,c=n.get("animation"),d=!l,h=o.curry(t,this.uid,e,c,r),f=e.get("selectedMode");if(s.diff(l).add(function(e){var t=new i(s,e);d&&t.eachChild(function(e){e.stopAnimation(!0)}),f&&t.on("click",h),s.setItemGraphicEl(e,t),u.add(t)}).update(function(e,t){var n=l.getItemGraphicEl(t);n.updateData(s,e),n.off("click"),f&&n.on("click",h),u.add(n),s.setItemGraphicEl(e,n)}).remove(function(e){var t=l.getItemGraphicEl(e);u.remove(t)}).execute(),c&&d&&s.count()>0){var p=s.getItemLayout(0),g=Math.max(r.getWidth(),r.getHeight())/2,m=o.bind(u.removeClipPath,u);u.setClipPath(this._createClipPath(p.cx,p.cy,g,p.startAngle,p.clockwise,m,e))}this._data=s}},_createClipPath:function(e,t,n,i,r,o,s){var l=new a.Sector({shape:{cx:e,cy:t,r0:0,r:n,startAngle:i,endAngle:i,clockwise:r}});return a.initProps(l,{shape:{endAngle:i+(r?1:-1)*Math.PI*2}},s,o),l}});return l}),t("echarts/processor/dataFilter",[],function(){return function(e,t){var n=t.findComponents({mainType:"legend"});n&&n.length&&t.eachSeriesByType(e,function(e){var t=e.getData();t.filterSelf(function(e){for(var i=t.getName(e),r=0;r<n.length;r++)if(!n[r].isSelected(i))return!1;return!0},this)},this)}}),t("echarts/action/createDataSelectAction",["require","../echarts","zrender/core/util"],function(e){var t=e("../echarts"),n=e("zrender/core/util");return function(e,i){n.each(i,function(n){n.update="updateView",t.registerAction(n,function(t,i){var r={};return i.eachComponent({mainType:"series",subType:e,query:t},function(e){e[n.method]&&e[n.method](t.name);var i=e.getData();i.each(function(t){var n=i.getName(t);r[n]=e.isSelected(n)||!1})}),{name:t.name,selected:r}})})}}),t("echarts/chart/pie/pieLayout",["require","../../util/number","./labelLayout","zrender/core/util"],function(e){var t=e("../../util/number"),n=t.parsePercent,i=e("./labelLayout"),r=e("zrender/core/util"),a=2*Math.PI,o=Math.PI/180;return function(e,s,l,u){s.eachSeriesByType(e,function(e){var s=e.get("center"),u=e.get("radius");r.isArray(u)||(u=[0,u]),r.isArray(s)||(s=[s,s]);var c=l.getWidth(),d=l.getHeight(),h=Math.min(c,d),f=n(s[0],c),p=n(s[1],d),g=n(u[0],h/2),m=n(u[1],h/2),v=e.getData(),y=-e.get("startAngle")*o,_=e.get("minAngle")*o,b=v.getSum("value"),x=Math.PI/(b||v.count())*2,w=e.get("clockwise"),k=e.get("roseType"),S=v.getDataExtent("value");S[0]=0;var E=a,T=0,C=y,D=w?1:-1;if(v.each("value",function(e,n){var i;i="area"!==k?0===b?x:e*x:a/(v.count()||1),i<_?(i=_,E-=_):T+=e;var r=C+D*i;v.setItemLayout(n,{angle:i,startAngle:C,endAngle:r,clockwise:w,cx:f,cy:p,r0:g,r:k?t.linearMap(e,S,[g,m]):m}),C=r},!0),E<a)if(E<=.001){var M=a/v.count();v.each(function(e){var t=v.getItemLayout(e);t.startAngle=y+D*e*M,t.endAngle=y+D*(e+1)*M})}else x=E/T,C=y,v.each("value",function(e,t){var n=v.getItemLayout(t),i=n.angle===_?_:e*x;n.startAngle=C,n.endAngle=C+D*i,C+=i});i(e,m,c,d)})}}),t("echarts/util/layout",["require","zrender/core/util","zrender/core/BoundingRect","./number","./format"],function(e){"use strict";function t(e,t,n,i,r){var a=0,o=0;null==i&&(i=1/0),null==r&&(r=1/0);var s=0;t.eachChild(function(l,u){var c,d,h=l.position,f=l.getBoundingRect(),p=t.childAt(u+1),g=p&&p.getBoundingRect();if("horizontal"===e){var m=f.width+(g?-g.x+f.x:0);c=a+m,c>i||l.newline?(a=0,c=m,o+=s+n,s=f.height):s=Math.max(s,f.height)}else{var v=f.height+(g?-g.y+f.y:0);d=o+v,d>r||l.newline?(a+=s+n,o=0,d=v,s=f.width):s=Math.max(s,f.width)}l.newline||(h[0]=a,h[1]=o,"horizontal"===e?a=c+n:o=d+n)})}var n=e("zrender/core/util"),i=e("zrender/core/BoundingRect"),r=e("./number"),a=e("./format"),o=r.parsePercent,s=n.each,l={},u=["left","right","top","bottom","width","height"];return l.box=t,l.vbox=n.curry(t,"vertical"),l.hbox=n.curry(t,"horizontal"),l.getAvailableSize=function(e,t,n){var i=t.width,r=t.height,s=o(e.x,i),l=o(e.y,r),u=o(e.x2,i),c=o(e.y2,r);return(isNaN(s)||isNaN(parseFloat(e.x)))&&(s=0),(isNaN(u)||isNaN(parseFloat(e.x2)))&&(u=i),(isNaN(l)||isNaN(parseFloat(e.y)))&&(l=0),(isNaN(c)||isNaN(parseFloat(e.y2)))&&(c=r),n=a.normalizeCssArray(n||0),{width:Math.max(u-s-n[1]-n[3],0),height:Math.max(c-l-n[0]-n[2],0)}},l.getLayoutRect=function(e,t,n){n=a.normalizeCssArray(n||0);var r=t.width,s=t.height,l=o(e.left,r),u=o(e.top,s),c=o(e.right,r),d=o(e.bottom,s),h=o(e.width,r),f=o(e.height,s),p=n[2]+n[0],g=n[1]+n[3],m=e.aspect;switch(isNaN(h)&&(h=r-c-g-l),isNaN(f)&&(f=s-d-p-u),isNaN(h)&&isNaN(f)&&(m>r/s?h=.8*r:f=.8*s),null!=m&&(isNaN(h)&&(h=m*f),isNaN(f)&&(f=h/m)),isNaN(l)&&(l=r-c-h-g),isNaN(u)&&(u=s-d-f-p),e.left||e.right){case"center":l=r/2-h/2-n[3];break;case"right":l=r-h-g}switch(e.top||e.bottom){case"middle":case"center":u=s/2-f/2-n[0];break;case"bottom":u=s-f-p}l=l||0,u=u||0,isNaN(h)&&(h=r-l-(c||0)),isNaN(f)&&(f=s-u-(d||0));var v=new i(l+n[3],u+n[0],h,f);return v.margin=n,v},l.positionGroup=function(e,t,i,r){var a=e.getBoundingRect();t=n.extend(n.clone(t),{width:a.width,height:a.height}),t=l.getLayoutRect(t,i,r),e.attr("position",[t.x-a.x,t.y-a.y])},l.mergeLayoutParam=function(e,t,i){function r(n){var r={},l=0,u={},c=0,d=i.ignoreSize?1:2;if(s(n,function(t){u[t]=e[t]}),s(n,function(e){a(t,e)&&(r[e]=u[e]=t[e]),o(r,e)&&l++,o(u,e)&&c++}),c!==d&&l){if(l>=d)return r;for(var h=0;h<n.length;h++){var f=n[h];if(!a(r,f)&&a(e,f)){r[f]=e[f];break}}return r}return u}function a(e,t){return e.hasOwnProperty(t)}function o(e,t){return null!=e[t]&&"auto"!==e[t]}function l(e,t,n){s(e,function(e){t[e]=n[e]})}!n.isObject(i)&&(i={});var u=["width","left","right"],c=["height","top","bottom"],d=r(u),h=r(c);l(u,e,d),l(c,e,h)},l.getLayoutParams=function(e){return l.copyLayoutParams({},e)},l.copyLayoutParams=function(e,t){return t&&e&&s(u,function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e},l}),t("echarts/component/legend/legendAction",["require","../../echarts","zrender/core/util"],function(e){function t(e,t,n){var r,a={},o="toggleSelected"===e;return n.eachComponent("legend",function(n){o&&null!=r?n[r?"select":"unSelect"](t.name):(n[e](t.name),r=n.isSelected(t.name));var s=n.getData();i.each(s,function(e){var t=e.get("name");if("\n"!==t&&""!==t){var i=n.isSelected(t);t in a?a[t]=a[t]&&i:a[t]=i}})}),{name:t.name,selected:a}}var n=e("../../echarts"),i=e("zrender/core/util");n.registerAction("legendToggleSelect","legendselectchanged",i.curry(t,"toggleSelected")),n.registerAction("legendSelect","legendselected",i.curry(t,"select")),n.registerAction("legendUnSelect","legendunselected",i.curry(t,"unSelect"))}),t("echarts/component/legend/LegendModel",["require","zrender/core/util","../../model/Model","../../echarts"],function(e){"use strict";var t=e("zrender/core/util"),n=e("../../model/Model"),i=e("../../echarts").extendComponentModel({type:"legend",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(e,t,n){this.mergeDefaultAndTheme(e,n),e.selected=e.selected||{}},mergeOption:function(e){i.superCall(this,"mergeOption",e)},optionUpdated:function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var t=!1,n=0;n<e.length;n++){var i=e[n].get("name");if(this.isSelected(i)){this.select(i),t=!0;break}}!t&&this.select(e[0].get("name"))}},_updateData:function(e){var i=t.map(this.get("data")||[],function(e){return"string"!=typeof e&&"number"!=typeof e||(e={name:e}),new n(e,this,this.ecModel)},this);this._data=i;var r=t.map(e.getSeries(),function(e){return e.name});e.eachSeries(function(e){if(e.legendDataProvider){var t=e.legendDataProvider();r=r.concat(t.mapArray(t.getName))}}),this._availableNames=r},getData:function(){return this._data},select:function(e){var n=this.option.selected,i=this.get("selectedMode");if("single"===i){var r=this._data;t.each(r,function(e){n[e.get("name")]=!1})}n[e]=!0},unSelect:function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},toggleSelected:function(e){var t=this.option.selected;e in t||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},isSelected:function(e){var n=this.option.selected;return!(e in n&&!n[e])&&t.indexOf(this._availableNames,e)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:"top",align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}});return i}),t("echarts/component/legend/LegendView",["require","zrender/core/util","../../util/symbol","../../util/graphic","../helper/listComponent","../../echarts"],function(e){function t(e,t){t.dispatchAction({type:"legendToggleSelect",name:e})}function n(e,t,n){var i=n.getZr().storage.getDisplayList()[0];i&&i.useHoverLayer||e.get("legendHoverLink")&&n.dispatchAction({type:"highlight",seriesName:e.name,name:t})}function i(e,t,n){var i=n.getZr().storage.getDisplayList()[0];i&&i.useHoverLayer||e.get("legendHoverLink")&&n.dispatchAction({type:"downplay",seriesName:e.name,name:t})}var r=e("zrender/core/util"),a=e("../../util/symbol"),o=e("../../util/graphic"),s=e("../helper/listComponent"),l=r.curry;return e("../../echarts").extendComponentView({type:"legend",init:function(){this._symbolTypeStore={}},render:function(e,a,u){var c=this.group;if(c.removeAll(),e.get("show")){var d=e.get("selectedMode"),h=e.get("align");"auto"===h&&(h="right"===e.get("left")&&"vertical"===e.get("orient")?"right":"left");var f={};r.each(e.getData(),function(r){var s=r.get("name");if(""===s||"\n"===s)return void c.add(new o.Group({newline:!0}));var p=a.getSeriesByName(s)[0];if(!f[s]){if(p){var g=p.getData(),m=g.getVisual("color");"function"==typeof m&&(m=m(p.getDataParams(0)));var v=g.getVisual("legendSymbol")||"roundRect",y=g.getVisual("symbol"),_=this._createItem(s,r,e,v,y,h,m,d);_.on("click",l(t,s,u)).on("mouseover",l(n,p,"",u)).on("mouseout",l(i,p,"",u)),f[s]=!0}else a.eachRawSeries(function(a){if(!f[s]&&a.legendDataProvider){var o=a.legendDataProvider(),c=o.indexOfName(s);if(c<0)return;var p=o.getItemVisual(c,"color"),g="roundRect",m=this._createItem(s,r,e,g,null,h,p,d);m.on("click",l(t,s,u)).on("mouseover",l(n,a,s,u)).on("mouseout",l(i,a,s,u)),f[s]=!0}},this);f[s]||console.warn(s+" series not exists. Legend data should be same with series name or data name.")}},this),s.layout(c,e,u),s.addBackground(c,e)}},_createItem:function(e,t,n,i,s,l,u,c){var d=n.get("itemWidth"),h=n.get("itemHeight"),f=n.get("inactiveColor"),p=n.isSelected(e),g=new o.Group,m=t.getModel("textStyle"),v=t.get("icon"),y=t.getModel("tooltip");if(i=v||i,g.add(a.createSymbol(i,0,0,d,h,p?u:f)),!v&&s&&(s!==i||"none"==s)){var _=.8*h;"none"===s&&(s="circle"),g.add(a.createSymbol(s,(d-_)/2,(h-_)/2,_,_,p?u:f))}var b="left"===l?d+5:-5,x=l,w=n.get("formatter"),k=e;"string"==typeof w&&w?k=w.replace("{name}",e):"function"==typeof w&&(k=w(e));var S=new o.Text({style:{text:k,x:b,y:h/2,fill:p?m.getTextColor():f,textFont:m.getFont(),textAlign:x,textVerticalAlign:"middle"}});g.add(S);var E=new o.Rect({shape:g.getBoundingRect(),invisible:!0,tooltip:y.get("show")?r.extend({content:e,formatter:function(){return e},formatterParams:{componentType:"legend",legendIndex:n.componentIndex,name:e,$vars:["name"]}},y.option):null});return g.add(E),g.eachChild(function(e){e.silent=!0}),E.silent=!c,this.group.add(g),o.setHoverStyle(g),g}})}),t("echarts/component/legend/legendFilter",[],function(){return function(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries(function(e){for(var n=0;n<t.length;n++)if(!t[n].isSelected(e.name))return!1;return!0})}}),t("echarts/component/marker/MarkPointView",["require","../../chart/helper/SymbolDraw","zrender/core/util","../../util/number","../../data/List","./markerHelper","./MarkerView"],function(e){function t(e,t,n){var i=t.coordinateSystem;e.each(function(r){var o,s=e.getItemModel(r),l=a.parsePercent(s.get("x"),n.getWidth()),u=a.parsePercent(s.get("y"),n.getHeight());if(isNaN(l)||isNaN(u)){if(t.getMarkerPosition)o=t.getMarkerPosition(e.getValues(e.dimensions,r));else if(i){var c=e.get(i.dimensions[0],r),d=e.get(i.dimensions[1],r);o=i.dataToPoint([c,d])}}else o=[l,u];isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u),e.setItemLayout(r,o)})}function n(e,t,n){var i;i=e?r.map(e&&e.dimensions,function(e){var n=t.getData().getDimensionInfo(t.coordDimToDataDim(e)[0])||{};return n.name=e,n}):[{name:"value",type:"float"}];var a=new o(i,n),l=r.map(n.get("data"),r.curry(s.dataTransform,t));return e&&(l=r.filter(l,r.curry(s.dataFilter,e))),a.initData(l,null,e?s.dimValueGetter:function(e){return e.value}),a}var i=e("../../chart/helper/SymbolDraw"),r=e("zrender/core/util"),a=e("../../util/number"),o=e("../../data/List"),s=e("./markerHelper");e("./MarkerView").extend({type:"markPoint",updateLayout:function(e,n,i){n.eachSeries(function(e){var n=e.markPointModel;n&&(t(n.getData(),e,i),this.markerGroupMap[e.name].updateLayout(n))},this)},renderSeries:function(e,r,a,o){var s=e.coordinateSystem,l=e.name,u=e.getData(),c=this.markerGroupMap,d=c[l];d||(d=c[l]=new i);var h=n(s,e,r);r.setData(h),t(r.getData(),e,o),h.each(function(e){var t=h.getItemModel(e),n=t.getShallow("symbolSize");"function"==typeof n&&(n=n(r.getRawValue(e),r.getDataParams(e))),h.setItemVisual(e,{symbolSize:n,color:t.get("itemStyle.normal.color")||u.getVisual("color"),symbol:t.getShallow("symbol")})}),d.updateData(h),this.group.add(d.group),h.eachItemGraphicEl(function(e){e.traverse(function(e){e.dataModel=r})}),d.__keep=!0,d.group.silent=r.get("silent")||e.get("silent")}})}),t("echarts/component/marker/MarkPointModel",["require","./MarkerModel"],function(e){return e("./MarkerModel").extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"inside"},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:2}}}})}),t("echarts/component/tooltip/TooltipModel",["require","../../echarts"],function(e){e("../../echarts").extendComponentModel({type:"tooltip",defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove",alwaysShowContent:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:!0,animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",lineStyle:{color:"#555",width:1,type:"solid"},crossStyle:{color:"#555",width:1,type:"dashed",textStyle:{}},shadowStyle:{color:"rgba(150,150,150,0.3)"}},textStyle:{color:"#fff",fontSize:14}}})}),t("echarts/component/tooltip/TooltipView",["require","./TooltipContent","../../util/graphic","zrender/core/util","../../util/format","../../util/number","zrender/core/env","../../model/Model","../../echarts"],function(e){function t(e,t){if(!e||!t)return!1;var n=f.round;return n(e[0])===n(t[0])&&n(e[1])===n(t[1])}function n(e,t,n,i){return{x1:e,y1:t,x2:n,y2:i}}function i(e,t,n,i){return{x:e,y:t,width:n,height:i}}function r(e,t,n,i,r,a){return{cx:e,cy:t,r0:n,r:i,startAngle:r,endAngle:a,clockwise:!0}}function a(e,t,n,i,r){var a=n.clientWidth,o=n.clientHeight,s=20;return e+a+s>i?e-=a+s:e+=s,t+o+s>r?t-=o+s:t+=s,[e,t]}function o(e,t,n){var i=n.clientWidth,r=n.clientHeight,a=5,o=0,s=0,l=t.width,u=t.height;switch(e){case"inside":o=t.x+l/2-i/2,s=t.y+u/2-r/2;break;case"top":o=t.x+l/2-i/2,s=t.y-r-a;break;case"bottom":o=t.x+l/2-i/2,s=t.y+u+a;break;case"left":o=t.x-i-a,s=t.y+u/2-r/2;break;case"right":o=t.x+l+a,s=t.y+u/2-r/2}return[o,s]}function s(e,t,n,i,r,s,l){var u=l.getWidth(),c=l.getHeight(),h=s&&s.getBoundingRect().clone();if(s&&h.applyTransform(s.transform),"function"==typeof e&&(e=e([t,n],r,i.el,h)),d.isArray(e))t=p(e[0],u),n=p(e[1],c);else if("string"==typeof e&&s){var f=o(e,h,i.el);t=f[0],n=f[1]}else{var f=a(t,n,i.el,u,c);t=f[0],n=f[1]}i.moveTo(t,n)}function l(e){var t=e.coordinateSystem,n=e.get("tooltip.trigger",!0);return!(!t||"cartesian2d"!==t.type&&"polar"!==t.type&&"singleAxis"!==t.type||"item"===n)}var u=e("./TooltipContent"),c=e("../../util/graphic"),d=e("zrender/core/util"),h=e("../../util/format"),f=e("../../util/number"),p=f.parsePercent,g=e("zrender/core/env"),m=e("../../model/Model");e("../../echarts").extendComponentView({type:"tooltip",_axisPointers:{},init:function(e,t){if(!g.node){var n=new u(t.getDom(),t);this._tooltipContent=n,t.on("showTip",this._manuallyShowTip,this),t.on("hideTip",this._manuallyHideTip,this)}},render:function(e,t,n){if(!g.node){this.group.removeAll(),this._axisPointers={},this._tooltipModel=e,this._ecModel=t,this._api=n,this._lastHover={};var i=this._tooltipContent;i.update(),i.enterable=e.get("enterable"),this._alwaysShowContent=e.get("alwaysShowContent"),this._seriesGroupByAxis=this._prepareAxisTriggerData(e,t);var r=this._crossText;if(r&&this.group.add(r),null!=this._lastX&&null!=this._lastY){var a=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){a._manuallyShowTip({x:a._lastX,y:a._lastY})})}var o=this._api.getZr();o.off("click",this._tryShow),o.off("mousemove",this._mousemove),o.off("mouseout",this._hide),o.off("globalout",this._hide),"click"===e.get("triggerOn")?o.on("click",this._tryShow,this):(o.on("mousemove",this._mousemove,this),o.on("mouseout",this._hide,this),o.on("globalout",this._hide,this))}},_mousemove:function(e){var t=this._tooltipModel.get("showDelay"),n=this;clearTimeout(this._showTimeout),t>0?this._showTimeout=setTimeout(function(){n._tryShow(e)},t):this._tryShow(e)},_manuallyShowTip:function(e){if(e.from!==this.uid){var t=this._ecModel,n=e.seriesIndex,i=e.dataIndex,r=t.getSeriesByIndex(n),a=this._api;if(null==e.x||null==e.y){if(r||t.eachSeries(function(e){l(e)&&!r&&(r=e)}),r){var o=r.getData();null==i&&(i=o.indexOfName(e.name));var s,u,c=o.getItemGraphicEl(i),h=r.coordinateSystem;if(h&&h.dataToPoint){var f=h.dataToPoint(o.getValues(d.map(h.dimensions,function(e){return r.coordDimToDataDim(e)[0]}),i,!0));s=f&&f[0],u=f&&f[1]}else if(c){var p=c.getBoundingRect().clone();p.applyTransform(c.transform),s=p.x+p.width/2,u=p.y+p.height/2}null!=s&&null!=u&&this._tryShow({offsetX:s,offsetY:u,target:c,event:{}})}}else{var c=a.getZr().handler.findHover(e.x,e.y);this._tryShow({offsetX:e.x,offsetY:e.y,target:c,event:{}})}}},_manuallyHideTip:function(e){e.from!==this.uid&&this._hide()},_prepareAxisTriggerData:function(e,t){var n={};return t.eachSeries(function(e){if(l(e)){var t,i,r=e.coordinateSystem;"cartesian2d"===r.type?(t=r.getBaseAxis(),i=t.dim+t.index):"singleAxis"===r.type?(t=r.getAxis(),i=t.dim+t.type):(t=r.getBaseAxis(),i=t.dim+r.name),n[i]=n[i]||{coordSys:[],series:[]},n[i].coordSys.push(r),n[i].series.push(e)}},this),n},_tryShow:function(e){var t=e.target,n=this._tooltipModel,i=n.get("trigger"),r=this._ecModel,a=this._api;if(n)if(this._lastX=e.offsetX,this._lastY=e.offsetY,t&&null!=t.dataIndex){var o=t.dataModel||r.getSeriesByIndex(t.seriesIndex),s=t.dataIndex,l=o.getData().getItemModel(s);"axis"===(l.get("tooltip.trigger")||i)?this._showAxisTooltip(n,r,e):(this._ticket="",this._hideAxisPointer(),this._resetLastHover(),this._showItemTooltipContent(o,s,t.dataType,e)),a.dispatchAction({type:"showTip",from:this.uid,dataIndex:t.dataIndex,seriesIndex:t.seriesIndex})}else if(t&&t.tooltip){var u=t.tooltip;if("string"==typeof u){var c=u;u={content:c,formatter:c}}var d=new m(u,n),h=d.get("content"),f=Math.random();this._showTooltipContent(d,h,d.get("formatterParams")||{},f,e.offsetX,e.offsetY,t,a)}else"item"===i?this._hide():this._showAxisTooltip(n,r,e),"cross"===n.get("axisPointer.type")&&a.dispatchAction({type:"showTip",from:this.uid,x:e.offsetX,y:e.offsetY})},_showAxisTooltip:function(e,n,i){var r=e.getModel("axisPointer"),a=r.get("type");if("cross"===a){var o=i.target;if(o&&null!=o.dataIndex){var s=n.getSeriesByIndex(o.seriesIndex),l=o.dataIndex;this._showItemTooltipContent(s,l,o.dataType,i)}}this._showAxisPointer();var u=!0;d.each(this._seriesGroupByAxis,function(e){var n=e.coordSys,o=n[0],s=[i.offsetX,i.offsetY];if(!o.containPoint(s))return void this._hideAxisPointer(o.name);u=!1;var l=o.dimensions,c=o.pointToData(s,!0);s=o.dataToPoint(c);var h=o.getBaseAxis(),f=r.get("axis");"auto"===f&&(f=h.dim);var p=!1,g=this._lastHover;if("cross"===a)t(g.data,c)&&(p=!0),g.data=c;else{var m=d.indexOf(l,f);g.data===c[m]&&(p=!0),g.data=c[m]}"cartesian2d"!==o.type||p?"polar"!==o.type||p?"singleAxis"!==o.type||p||this._showSinglePointer(r,o,f,s):this._showPolarPointer(r,o,f,s):this._showCartesianPointer(r,o,f,s),"cross"!==a&&this._dispatchAndShowSeriesTooltipContent(o,e.series,s,c,p)},this),this._tooltipModel.get("show")||this._hideAxisPointer(),u&&this._hide()},_showCartesianPointer:function(e,t,r,a){function o(i,r,a){var o="x"===i?n(r[0],a[0],r[0],a[1]):n(a[0],r[1],a[1],r[1]),s=l._getPointerElement(t,e,i,o);c.subPixelOptimizeLine({shape:o,style:s.style}),h?c.updateProps(s,{shape:o},e):s.attr({shape:o})}function s(n,r,a){var o=t.getAxis(n),s=o.getBandWidth(),u=a[1]-a[0],d="x"===n?i(r[0]-s/2,a[0],s,u):i(a[0],r[1]-s/2,u,s),f=l._getPointerElement(t,e,n,d);h?c.updateProps(f,{shape:d},e):f.attr({shape:d})}var l=this,u=e.get("type"),d=t.getBaseAxis(),h="cross"!==u&&"category"===d.type&&d.getBandWidth()>20;if("cross"===u)o("x",a,t.getAxis("y").getGlobalExtent()),o("y",a,t.getAxis("x").getGlobalExtent()),this._updateCrossText(t,a,e);else{var f=t.getAxis("x"===r?"y":"x"),p=f.getGlobalExtent();"cartesian2d"===t.type&&("line"===u?o:s)(r,a,p)}},_showSinglePointer:function(e,t,i,r){function a(i,r,a){var s=t.getAxis(),u=s.orient,d="horizontal"===u?n(r[0],a[0],r[0],a[1]):n(a[0],r[1],a[1],r[1]),h=o._getPointerElement(t,e,i,d);l?c.updateProps(h,{shape:d},e):h.attr({shape:d})}var o=this,s=e.get("type"),l="cross"!==s&&"category"===t.getBaseAxis().type,u=t.getRect(),d=[u.y,u.y+u.height];a(i,r,d)},_showPolarPointer:function(e,t,i,a){function o(i,r,a){var o,s=t.pointToCoord(r);if("angle"===i){var u=t.coordToPoint([a[0],s[1]]),d=t.coordToPoint([a[1],s[1]]);o=n(u[0],u[1],d[0],d[1])}else o={cx:t.cx,cy:t.cy,r:s[0]};var h=l._getPointerElement(t,e,i,o);f?c.updateProps(h,{shape:o},e):h.attr({shape:o})}function s(n,i,a){var o,s=t.getAxis(n),u=s.getBandWidth(),d=t.pointToCoord(i),h=Math.PI/180;o="angle"===n?r(t.cx,t.cy,a[0],a[1],(-d[1]-u/2)*h,(-d[1]+u/2)*h):r(t.cx,t.cy,d[0]-u/2,d[0]+u/2,0,2*Math.PI);var p=l._getPointerElement(t,e,n,o);f?c.updateProps(p,{shape:o},e):p.attr({shape:o})}var l=this,u=e.get("type"),d=t.getAngleAxis(),h=t.getRadiusAxis(),f="cross"!==u&&"category"===t.getBaseAxis().type;if("cross"===u)o("angle",a,h.getExtent()),o("radius",a,d.getExtent()),this._updateCrossText(t,a,e);else{var p=t.getAxis("radius"===i?"angle":"radius"),g=p.getExtent();("line"===u?o:s)(i,a,g)}},_updateCrossText:function(e,t,n){var i=n.getModel("crossStyle"),r=i.getModel("textStyle"),a=this._tooltipModel,o=this._crossText;o||(o=this._crossText=new c.Text({style:{textAlign:"left",textVerticalAlign:"bottom"}}),this.group.add(o));var s=e.pointToData(t),l=e.dimensions;s=d.map(s,function(t,n){var i=e.getAxis(l[n]);return t="category"===i.type||"time"===i.type?i.scale.getLabel(t):h.addCommas(t.toFixed(i.getPixelPrecision()))}),o.setStyle({fill:r.getTextColor()||i.get("color"),textFont:r.getFont(),text:s.join(", "),x:t[0]+5,y:t[1]-5}),o.z=a.get("z"),o.zlevel=a.get("zlevel")},_getPointerElement:function(e,t,n,i){var r=this._tooltipModel,a=r.get("z"),o=r.get("zlevel"),s=this._axisPointers,l=e.name;if(s[l]=s[l]||{},s[l][n])return s[l][n];var u=t.get("type"),d=t.getModel(u+"Style"),h="shadow"===u,f=d[h?"getAreaStyle":"getLineStyle"](),p="polar"===e.type?h?"Sector":"radius"===n?"Circle":"Line":h?"Rect":"Line";h?f.stroke=null:f.fill=null;var g=s[l][n]=new c[p]({style:f,z:a,zlevel:o,silent:!0,shape:i});return this.group.add(g),g},_dispatchAndShowSeriesTooltipContent:function(e,t,n,i,r){var a=this._tooltipModel,o=e.getBaseAxis(),l="x"===o.dim||"radius"===o.dim?0:1,u=d.map(t,function(e){return{seriesIndex:e.seriesIndex,dataIndex:e.getAxisTooltipDataIndex?e.getAxisTooltipDataIndex(e.coordDimToDataDim(o.dim),i,o):e.getData().indexOfNearest(e.coordDimToDataDim(o.dim)[0],i[l],!1,"category"===o.type?.5:null)}}),c=this._lastHover,h=this._api;if(c.payloadBatch&&!r&&h.dispatchAction({type:"downplay",batch:c.payloadBatch}),r||(h.dispatchAction({type:"highlight",batch:u}),c.payloadBatch=u),h.dispatchAction({type:"showTip",dataIndex:u[0].dataIndex,seriesIndex:u[0].seriesIndex,from:this.uid}),o&&a.get("showContent")&&a.get("show")){var f=d.map(t,function(e,t){return e.getDataParams(u[t].dataIndex)});if(r)s(a.get("position"),n[0],n[1],this._tooltipContent,f,null,h);else{var p=u[0].dataIndex,g="time"===o.type?o.scale.getLabel(i[l]):t[0].getData().getName(p),m=(g?g+"<br />":"")+d.map(t,function(e,t){return e.formatTooltip(u[t].dataIndex,!0)}).join("<br />"),v="axis_"+e.name+"_"+p;this._showTooltipContent(a,m,f,v,n[0],n[1],null,h)}}},_showItemTooltipContent:function(e,t,n,i){var r=this._api,a=e.getData(n),o=a.getItemModel(t),s=o.get("tooltip",!0);if("string"==typeof s){var l=s;s={formatter:l}}var u=this._tooltipModel,c=e.getModel("tooltip",u),d=new m(s,c,c.ecModel),h=e.getDataParams(t,n),f=e.formatTooltip(t,!1,n),p="item_"+e.name+"_"+t;this._showTooltipContent(d,f,h,p,i.offsetX,i.offsetY,i.target,r)},_showTooltipContent:function(e,t,n,i,r,a,o,l){if(this._ticket="",e.get("showContent")&&e.get("show")){var u=this._tooltipContent,c=e.get("formatter"),d=e.get("position"),f=t;if(c)if("string"==typeof c)f=h.formatTpl(c,n);else if("function"==typeof c){var p=this,g=i,m=function(e,t){e===p._ticket&&(u.setContent(t),s(d,r,a,u,n,o,l))};p._ticket=g,f=c(n,g,m)}u.show(e),u.setContent(f),s(d,r,a,u,n,o,l)}},_showAxisPointer:function(e){if(e){var t=this._axisPointers[e];t&&d.each(t,function(e){e.show()})}else this.group.eachChild(function(e){e.show()}),this.group.show()},_resetLastHover:function(){var e=this._lastHover;e.payloadBatch&&this._api.dispatchAction({type:"downplay",batch:e.payloadBatch}),this._lastHover={}},_hideAxisPointer:function(e){if(e){var t=this._axisPointers[e];t&&d.each(t,function(e){e.hide()})}else this.group.children().length&&this.group.hide()},_hide:function(){clearTimeout(this._showTimeout),this._hideAxisPointer(),this._resetLastHover(),this._alwaysShowContent||this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._api.dispatchAction({type:"hideTip",from:this.uid}),this._lastX=this._lastY=null},dispose:function(e,t){if(!g.node){var n=t.getZr();this._tooltipContent.hide(),n.off("click",this._tryShow),n.off("mousemove",this._mousemove),n.off("mouseout",this._hide),n.off("globalout",this._hide),t.off("showTip",this._manuallyShowTip),t.off("hideTip",this._manuallyHideTip)}}})}),t("zrender/vml/graphic",["require","../core/env","../core/vector","../core/BoundingRect","../core/PathProxy","../tool/color","../contain/text","../graphic/mixin/RectText","../graphic/Displayable","../graphic/Image","../graphic/Text","../graphic/Path","../graphic/Gradient","./core"],function(e){if(!e("../core/env").canvasSupported){var t=e("../core/vector"),n=e("../core/BoundingRect"),i=e("../core/PathProxy").CMD,r=e("../tool/color"),a=e("../contain/text"),o=e("../graphic/mixin/RectText"),s=e("../graphic/Displayable"),l=e("../graphic/Image"),u=e("../graphic/Text"),c=e("../graphic/Path"),d=e("../graphic/Gradient"),h=e("./core"),f=Math.round,p=Math.sqrt,g=Math.abs,m=Math.cos,v=Math.sin,y=Math.max,_=t.applyTransform,b=",",x="progid:DXImageTransform.Microsoft",w=21600,k=w/2,S=1e5,E=1e3,T=function(e){e.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",e.coordsize=w+","+w,e.coordorigin="0,0"},C=function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},D=function(e,t,n){return"rgb("+[e,t,n].join(",")+")"},M=function(e,t){t&&e&&t.parentNode!==e&&e.appendChild(t)},A=function(e,t){t&&e&&t.parentNode===e&&e.removeChild(t)},R=function(e,t,n){return(parseFloat(e)||0)*S+(parseFloat(t)||0)*E+n},I=function(e,t){return"string"==typeof e?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e},O=function(e,t,n){var i=r.parse(t);n=+n,isNaN(n)&&(n=1),i&&(e.color=D(i[0],i[1],i[2]),e.opacity=n*i[3])},P=function(e){var t=r.parse(e);return[D(t[0],t[1],t[2]),t[3]]},L=function(e,t,n){var i=t.fill;if(null!=i)if(i instanceof d){var r,a=0,o=[0,0],s=0,l=1,u=n.getBoundingRect(),c=u.width,h=u.height;if("linear"===i.type){r="gradient";var f=n.transform,p=[i.x*c,i.y*h],g=[i.x2*c,i.y2*h];f&&(_(p,p,f),_(g,g,f));var m=g[0]-p[0],v=g[1]-p[1];a=180*Math.atan2(m,v)/Math.PI,a<0&&(a+=360),a<1e-6&&(a=0)}else{r="gradientradial";var p=[i.x*c,i.y*h],f=n.transform,b=n.scale,x=c,k=h;o=[(p[0]-u.x)/x,(p[1]-u.y)/k],f&&_(p,p,f),x/=b[0]*w,k/=b[1]*w;var S=y(x,k);s=0/S,l=2*i.r/S-s}var E=i.colorStops.slice();E.sort(function(e,t){return e.offset-t.offset});for(var T=E.length,C=[],D=[],M=0;M<T;M++){var A=E[M],R=P(A.color);D.push(A.offset*l+s+" "+R[0]),
0!==M&&M!==T-1||C.push(R)}if(T>=2){var I=C[0][0],L=C[1][0],F=C[0][1]*t.opacity,N=C[1][1]*t.opacity;e.type=r,e.method="none",e.focus="100%",e.angle=a,e.color=I,e.color2=L,e.colors=D.join(","),e.opacity=N,e.opacity2=F}"radial"===r&&(e.focusposition=o.join(","))}else O(e,i,t.opacity)},F=function(e,t){null!=t.lineDash&&(e.dashstyle=t.lineDash.join(" ")),null==t.stroke||t.stroke instanceof d||O(e,t.stroke,t.opacity)},N=function(e,t,n,i){var r="fill"==t,a=e.getElementsByTagName(t)[0];null!=n[t]&&"none"!==n[t]&&(r||!r&&n.lineWidth)?(e[r?"filled":"stroked"]="true",n[t]instanceof d&&A(e,a),a||(a=h.createNode(t)),r?L(a,n,i):F(a,n),M(e,a)):(e[r?"filled":"stroked"]="false",A(e,a))},z=[[],[],[]],U=function(e,t){var n,r,a,o,s,l,u=i.M,c=i.C,d=i.L,h=i.A,g=i.Q,y=[];for(o=0;o<e.length;){switch(a=e[o++],r="",n=0,a){case u:r=" m ",n=1,s=e[o++],l=e[o++],z[0][0]=s,z[0][1]=l;break;case d:r=" l ",n=1,s=e[o++],l=e[o++],z[0][0]=s,z[0][1]=l;break;case g:case c:r=" c ",n=3;var x,S,E=e[o++],T=e[o++],C=e[o++],D=e[o++];a===g?(x=C,S=D,C=(C+2*E)/3,D=(D+2*T)/3,E=(s+2*E)/3,T=(l+2*T)/3):(x=e[o++],S=e[o++]),z[0][0]=E,z[0][1]=T,z[1][0]=C,z[1][1]=D,z[2][0]=x,z[2][1]=S,s=x,l=S;break;case h:var M=0,A=0,R=1,I=1,O=0;t&&(M=t[4],A=t[5],R=p(t[0]*t[0]+t[1]*t[1]),I=p(t[2]*t[2]+t[3]*t[3]),O=Math.atan2(-t[1]/I,t[0]/R));var P=e[o++],L=e[o++],F=e[o++],N=e[o++],U=e[o++]+O,B=e[o++]+U+O;o++;var $=e[o++],H=P+m(U)*F,q=L+v(U)*N,E=P+m(B)*F,T=L+v(B)*N,W=$?" wa ":" at ";Math.abs(H-E)<1e-10&&(Math.abs(B-U)>.01?$&&(H+=270/w):Math.abs(q-L)<1e-10?$&&H<P||!$&&H>P?T-=270/w:T+=270/w:$&&q<L||!$&&q>L?E+=270/w:E-=270/w),y.push(W,f(((P-F)*R+M)*w-k),b,f(((L-N)*I+A)*w-k),b,f(((P+F)*R+M)*w-k),b,f(((L+N)*I+A)*w-k),b,f((H*R+M)*w-k),b,f((q*I+A)*w-k),b,f((E*R+M)*w-k),b,f((T*I+A)*w-k)),s=E,l=T;break;case i.R:var j=z[0],V=z[1];j[0]=e[o++],j[1]=e[o++],V[0]=j[0]+e[o++],V[1]=j[1]+e[o++],t&&(_(j,j,t),_(V,V,t)),j[0]=f(j[0]*w-k),V[0]=f(V[0]*w-k),j[1]=f(j[1]*w-k),V[1]=f(V[1]*w-k),y.push(" m ",j[0],b,j[1]," l ",V[0],b,j[1]," l ",V[0],b,V[1]," l ",j[0],b,V[1]);break;case i.Z:y.push(" x ")}if(n>0){y.push(r);for(var K=0;K<n;K++){var G=z[K];t&&_(G,G,t),y.push(f(G[0]*w-k),b,f(G[1]*w-k),K<n-1?b:"")}}}return y.join("")};c.prototype.brushVML=function(e){var t=this.style,n=this._vmlEl;n||(n=h.createNode("shape"),T(n),this._vmlEl=n),N(n,"fill",t,this),N(n,"stroke",t,this);var i=this.transform,r=null!=i,a=n.getElementsByTagName("stroke")[0];if(a){var o=t.lineWidth;if(r&&!t.strokeNoScale){var s=i[0]*i[3]-i[1]*i[2];o*=p(g(s))}a.weight=o+"px"}var l=this.path;this.__dirtyPath&&(l.beginPath(),this.buildPath(l,this.shape),l.toStatic(),this.__dirtyPath=!1),n.path=U(l.data,this.transform),n.style.zIndex=R(this.zlevel,this.z,this.z2),M(e,n),t.text?this.drawRectText(e,this.getBoundingRect()):this.removeRectText(e)},c.prototype.onRemove=function(e){A(e,this._vmlEl),this.removeRectText(e)},c.prototype.onAdd=function(e){M(e,this._vmlEl),this.appendRectText(e)};var B=function(e){return"object"==typeof e&&e.tagName&&"IMG"===e.tagName.toUpperCase()};l.prototype.brushVML=function(e){var t,n,i=this.style,r=i.image;if(B(r)){var a=r.src;if(a===this._imageSrc)t=this._imageWidth,n=this._imageHeight;else{var o=r.runtimeStyle,s=o.width,l=o.height;o.width="auto",o.height="auto",t=r.width,n=r.height,o.width=s,o.height=l,this._imageSrc=a,this._imageWidth=t,this._imageHeight=n}r=a}else r===this._imageSrc&&(t=this._imageWidth,n=this._imageHeight);if(r){var u=i.x||0,c=i.y||0,d=i.width,g=i.height,m=i.sWidth,v=i.sHeight,w=i.sx||0,k=i.sy||0,S=m&&v,E=this._vmlEl;E||(E=h.doc.createElement("div"),T(E),this._vmlEl=E);var C,D=E.style,A=!1,I=1,O=1;if(this.transform&&(C=this.transform,I=p(C[0]*C[0]+C[1]*C[1]),O=p(C[2]*C[2]+C[3]*C[3]),A=C[1]||C[2]),A){var P=[u,c],L=[u+d,c],F=[u,c+g],N=[u+d,c+g];_(P,P,C),_(L,L,C),_(F,F,C),_(N,N,C);var z=y(P[0],L[0],F[0],N[0]),U=y(P[1],L[1],F[1],N[1]),$=[];$.push("M11=",C[0]/I,b,"M12=",C[2]/O,b,"M21=",C[1]/I,b,"M22=",C[3]/O,b,"Dx=",f(u*I+C[4]),b,"Dy=",f(c*O+C[5])),D.padding="0 "+f(z)+"px "+f(U)+"px 0",D.filter=x+".Matrix("+$.join("")+", SizingMethod=clip)"}else C&&(u=u*I+C[4],c=c*O+C[5]),D.filter="",D.left=f(u)+"px",D.top=f(c)+"px";var H=this._imageEl,q=this._cropEl;H||(H=h.doc.createElement("div"),this._imageEl=H);var W=H.style;if(S){if(t&&n)W.width=f(I*t*d/m)+"px",W.height=f(O*n*g/v)+"px";else{var j=new Image,V=this;j.onload=function(){j.onload=null,t=j.width,n=j.height,W.width=f(I*t*d/m)+"px",W.height=f(O*n*g/v)+"px",V._imageWidth=t,V._imageHeight=n,V._imageSrc=r},j.src=r}q||(q=h.doc.createElement("div"),q.style.overflow="hidden",this._cropEl=q);var K=q.style;K.width=f((d+w*d/m)*I),K.height=f((g+k*g/v)*O),K.filter=x+".Matrix(Dx="+-w*d/m*I+",Dy="+-k*g/v*O+")",q.parentNode||E.appendChild(q),H.parentNode!=q&&q.appendChild(H)}else W.width=f(I*d)+"px",W.height=f(O*g)+"px",E.appendChild(H),q&&q.parentNode&&(E.removeChild(q),this._cropEl=null);var G="",Y=i.opacity;Y<1&&(G+=".Alpha(opacity="+f(100*Y)+") "),G+=x+".AlphaImageLoader(src="+r+", SizingMethod=scale)",W.filter=G,E.style.zIndex=R(this.zlevel,this.z,this.z2),M(e,E),i.text&&this.drawRectText(e,this.getBoundingRect())}},l.prototype.onRemove=function(e){A(e,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(e)},l.prototype.onAdd=function(e){M(e,this._vmlEl),this.appendRectText(e)};var $,H="normal",q={},W=0,j=100,V=document.createElement("div"),K=function(e){var t=q[e];if(!t){W>j&&(W=0,q={});var n,i=V.style;try{i.font=e,n=i.fontFamily.split(",")[0]}catch(r){}t={style:i.fontStyle||H,variant:i.fontVariant||H,weight:i.fontWeight||H,size:0|parseFloat(i.fontSize||12),family:n||"Microsoft YaHei"},q[e]=t,W++}return t};a.measureText=function(e,t){var n=h.doc;$||($=n.createElement("div"),$.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",h.doc.body.appendChild($));try{$.style.font=t}catch(i){}return $.innerHTML="",$.appendChild(n.createTextNode(e)),{width:$.offsetWidth}};for(var G=new n,Y=function(e,t,n,i){var r=this.style,o=r.text;if(o){var s,l,u=r.textAlign,c=K(r.textFont),d=c.style+" "+c.variant+" "+c.weight+" "+c.size+'px "'+c.family+'"',p=r.textBaseline,g=r.textVerticalAlign;n=n||a.getBoundingRect(o,d,u,p);var m=this.transform;if(m&&!i&&(G.copy(t),G.applyTransform(m),t=G),i)s=t.x,l=t.y;else{var v=r.textPosition,y=r.textDistance;if(v instanceof Array)s=t.x+I(v[0],t.width),l=t.y+I(v[1],t.height),u=u||"left",p=p||"top";else{var x=a.adjustTextPositionOnRect(v,t,n,y);s=x.x,l=x.y,u=u||x.textAlign,p=p||x.textBaseline}}if(g){switch(g){case"middle":l-=n.height/2;break;case"bottom":l-=n.height}p="top"}var w=c.size;switch(p){case"hanging":case"top":l+=w/1.75;break;case"middle":break;default:l-=w/2.25}switch(u){case"left":break;case"center":s-=n.width/2;break;case"right":s-=n.width}var k,S,E,D=h.createNode,A=this._textVmlEl;A?(E=A.firstChild,k=E.nextSibling,S=k.nextSibling):(A=D("line"),k=D("path"),S=D("textpath"),E=D("skew"),S.style["v-text-align"]="left",T(A),k.textpathok=!0,S.on=!0,A.from="0 0",A.to="1000 0.05",M(A,E),M(A,k),M(A,S),this._textVmlEl=A);var O=[s,l],P=A.style;m&&i?(_(O,O,m),E.on=!0,E.matrix=m[0].toFixed(3)+b+m[2].toFixed(3)+b+m[1].toFixed(3)+b+m[3].toFixed(3)+",0,0",E.offset=(f(O[0])||0)+","+(f(O[1])||0),E.origin="0 0",P.left="0px",P.top="0px"):(E.on=!1,P.left=f(s)+"px",P.top=f(l)+"px"),S.string=C(o);try{S.style.font=d}catch(L){}N(A,"fill",{fill:i?r.fill:r.textFill,opacity:r.opacity},this),N(A,"stroke",{stroke:i?r.stroke:r.textStroke,opacity:r.opacity,lineDash:r.lineDash},this),A.style.zIndex=R(this.zlevel,this.z,this.z2),M(e,A)}},X=function(e){A(e,this._textVmlEl),this._textVmlEl=null},Q=function(e){M(e,this._textVmlEl)},Z=[o,s,l,c,u],J=0;J<Z.length;J++){var ee=Z[J].prototype;ee.drawRectText=Y,ee.removeRectText=X,ee.appendRectText=Q}u.prototype.brushVML=function(e){var t=this.style;t.text?this.drawRectText(e,{x:t.x||0,y:t.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(e)},u.prototype.onRemove=function(e){this.removeRectText(e)},u.prototype.onAdd=function(e){this.appendRectText(e)}}}),t("echarts/scale/Scale",["require","../util/clazz"],function(e){function t(){this._extent=[1/0,-(1/0)],this._interval=0,this.init&&this.init.apply(this,arguments)}var n=e("../util/clazz"),i=t.prototype;return i.parse=function(e){return e},i.contain=function(e){var t=this._extent;return e>=t[0]&&e<=t[1]},i.normalize=function(e){var t=this._extent;return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])},i.scale=function(e){var t=this._extent;return e*(t[1]-t[0])+t[0]},i.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},i.getExtent=function(){return this._extent.slice()},i.setExtent=function(e,t){var n=this._extent;isNaN(e)||(n[0]=e),isNaN(t)||(n[1]=t)},i.getTicksLabels=function(){for(var e=[],t=this.getTicks(),n=0;n<t.length;n++)e.push(this.getLabel(t[n]));return e},n.enableClassExtend(t),n.enableClassManagement(t,{registerWhenExtend:!0}),t}),t("zrender/vml/Painter",["require","../core/log","./core"],function(e){function t(e){return parseInt(e,10)}function n(e,t){a.initVML(),this.root=e,this.storage=t;var n=document.createElement("div"),i=document.createElement("div");n.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",i.style.cssText="position:absolute;left:0;top:0;",e.appendChild(n),this._vmlRoot=i,this._vmlViewport=n,this.resize();var r=t.delFromMap,o=t.addToMap;t.delFromMap=function(e){var n=t.get(e);r.call(t,e),n&&n.onRemove&&n.onRemove(i)},t.addToMap=function(e){e.onAdd&&e.onAdd(i),o.call(t,e)},this._firstPaint=!0}function i(e){return function(){r('In IE8.0 VML mode painter not support method "'+e+'"')}}var r=e("../core/log"),a=e("./core");n.prototype={constructor:n,getViewportRoot:function(){return this._vmlViewport},refresh:function(){var e=this.storage.getDisplayList(!0,!0);this._paintList(e)},_paintList:function(e){for(var t=this._vmlRoot,n=0;n<e.length;n++){var i=e[n];i.invisible||i.ignore?(i.__alreadyNotVisible||i.onRemove(t),i.__alreadyNotVisible=!0):(i.__alreadyNotVisible&&i.onAdd(t),i.__alreadyNotVisible=!1,i.__dirty&&(i.beforeBrush&&i.beforeBrush(),(i.brushVML||i.brush).call(i,t),i.afterBrush&&i.afterBrush())),i.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(t),this._firstPaint=!1)},resize:function(){var e=this._getWidth(),t=this._getHeight();if(this._width!=e&&this._height!=t){this._width=e,this._height=t;var n=this._vmlViewport.style;n.width=e+"px",n.height=t+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this.root.removeChild(this.vmlViewport)},_getWidth:function(){var e=this.root,n=e.currentStyle;return(e.clientWidth||t(n.width))-t(n.paddingLeft)-t(n.paddingRight)|0},_getHeight:function(){var e=this.root,n=e.currentStyle;return(e.clientHeight||t(n.height))-t(n.paddingTop)-t(n.paddingBottom)|0}};for(var o=["getLayer","insertLayer","eachLayer","eachBuildinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],s=0;s<o.length;s++){var l=o[s];n.prototype[l]=i(l)}return n}),t("echarts/scale/Interval",["require","../util/number","../util/format","./Scale"],function(e){var t=e("../util/number"),n=e("../util/format"),i=e("./Scale"),r=Math.floor,a=Math.ceil,o=i.extend({type:"interval",_interval:0,setExtent:function(e,t){var n=this._extent;isNaN(e)||(n[0]=parseFloat(e)),isNaN(t)||(n[1]=parseFloat(t))},unionExtent:function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1]),o.prototype.setExtent.call(this,t[0],t[1])},getInterval:function(){return this._interval||this.niceTicks(),this._interval},setInterval:function(e){this._interval=e,this._niceExtent=this._extent.slice()},getTicks:function(){this._interval||this.niceTicks();var e=this._interval,n=this._extent,i=[],r=1e4;if(e){var a=this._niceExtent;n[0]<a[0]&&i.push(n[0]);for(var o=a[0];o<=a[1];)if(i.push(o),o=t.round(o+e),i.length>r)return[];n[1]>a[1]&&i.push(n[1])}return i},getTicksLabels:function(){for(var e=[],t=this.getTicks(),n=0;n<t.length;n++)e.push(this.getLabel(t[n]));return e},getLabel:function(e){return n.addCommas(e)},niceTicks:function(e){e=e||5;var n=this._extent,i=n[1]-n[0];if(isFinite(i)){i<0&&(i=-i,n.reverse());var o=t.nice(i/e,!0),s=[t.round(a(n[0]/o)*o),t.round(r(n[1]/o)*o)];this._interval=o,this._niceExtent=s}},niceExtent:function(e,n,i){var o=this._extent;if(o[0]===o[1])if(0!==o[0]){var s=o[0];i?o[0]-=s/2:(o[1]+=s/2,o[0]-=s/2)}else o[1]=1;var l=o[1]-o[0];isFinite(l)||(o[0]=0,o[1]=1),this.niceTicks(e);var u=this._interval;n||(o[0]=t.round(r(o[0]/u)*u)),i||(o[1]=t.round(a(o[1]/u)*u))}});return o.create=function(){return new o},o}),t("echarts/model/globalDefault",[],function(){var e="";return"undefined"!=typeof navigator&&(e=navigator.platform||""),{color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],grid:{},textStyle:{fontFamily:e.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:!0,animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3}}),t("echarts/model/mixin/colorPalette",[],function(){return{clearColorPalette:function(){this._colorIdx=0,this._colorNameMap={}},getColorFromPalette:function(e,t){t=t||this;var n=t._colorIdx||0,i=t._colorNameMap||(t._colorNameMap={});if(i[e])return i[e];var r=this.get("color",!0)||[];if(r.length){var a=r[n];return e&&(i[e]=a),t._colorIdx=(n+1)%r.length,a}}}}),t("echarts/util/model",["require","./format","./number","../model/Model","zrender/core/util"],function(e){var t=e("./format"),n=e("./number"),i=e("../model/Model"),r=e("zrender/core/util"),a=["x","y","z","radius","angle"],o={};return o.createNameEach=function(e,t){e=e.slice();var n=r.map(e,o.capitalFirst);t=(t||[]).slice();var i=r.map(t,o.capitalFirst);return function(a,o){r.each(e,function(e,r){for(var s={name:e,capital:n[r]},l=0;l<t.length;l++)s[t[l]]=e+i[l];a.call(o,s)})}},o.capitalFirst=function(e){return e?e.charAt(0).toUpperCase()+e.substr(1):e},o.eachAxisDim=o.createNameEach(a,["axisIndex","axis","index"]),o.normalizeToArray=function(e){return e instanceof Array?e:null==e?[]:[e]},o.createLinkedNodesFinder=function(e,t,n){function i(e,t){return r.indexOf(t.nodes,e)>=0}function a(e,i){var a=!1;return t(function(t){r.each(n(e,t)||[],function(e){i.records[t.name][e]&&(a=!0)})}),a}function o(e,i){i.nodes.push(e),t(function(t){r.each(n(e,t)||[],function(e){i.records[t.name][e]=!0})})}return function(n){function r(e){!i(e,s)&&a(e,s)&&(o(e,s),l=!0)}var s={nodes:[],records:{}};if(t(function(e){s.records[e.name]={}}),!n)return s;o(n,s);var l;do l=!1,e(r);while(l);return s}},o.defaultEmphasis=function(e,t){if(e){var n=e.emphasis=e.emphasis||{},i=e.normal=e.normal||{};r.each(t,function(e){var t=r.retrieve(n[e],i[e]);null!=t&&(n[e]=t)})}},o.LABEL_OPTIONS=["position","show","textStyle","distance","formatter"],o.getDataItemValue=function(e){return e&&(null==e.value?e:e.value)},o.isDataItemOption=function(e){return r.isObject(e)&&!(e instanceof Array)},o.converDataValue=function(e,t){var i=t&&t.type;return"ordinal"===i?e:("time"!==i||isFinite(e)||null==e||"-"===e||(e=+n.parseDate(e)),null==e||""===e?NaN:+e)},o.createDataFormatModel=function(e,t){var n=new i;return r.mixin(n,o.dataFormatMixin),n.seriesIndex=t.seriesIndex,n.name=t.name||"",n.mainType=t.mainType,n.subType=t.subType,n.getData=function(){return e},n},o.dataFormatMixin={getDataParams:function(e,t){var n=this.getData(t),i=this.seriesIndex,r=this.name,a=this.getRawValue(e,t),o=n.getRawIndex(e),s=n.getName(e,!0),l=n.getRawDataItem(e);return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:i,seriesName:r,name:s,dataIndex:o,data:l,dataType:t,value:a,color:n.getItemVisual(e,"color"),$vars:["seriesName","name","value"]}},getFormattedLabel:function(e,n,i,r){n=n||"normal";var a=this.getData(i),o=a.getItemModel(e),s=this.getDataParams(e,i);null!=r&&s.value instanceof Array&&(s.value=s.value[r]);var l=o.get(["label",n,"formatter"]);return"function"==typeof l?(s.status=n,l(s)):"string"==typeof l?t.formatTpl(l,s):void 0},getRawValue:function(e,t){var n=this.getData(t),i=n.getRawDataItem(e);if(null!=i)return!r.isObject(i)||i instanceof Array?i:i.value},formatTooltip:r.noop},o.mappingToExists=function(e,t){t=(t||[]).slice();var n=r.map(e||[],function(e,t){return{exist:e}});return r.each(t,function(e,i){if(r.isObject(e))for(var a=0;a<n.length;a++){var s=n[a].exist;if(!n[a].option&&(null!=e.id&&s.id===e.id+""||null!=e.name&&!o.isIdInner(e)&&!o.isIdInner(s)&&s.name===e.name+"")){n[a].option=e,t[i]=null;break}}}),r.each(t,function(e,t){if(r.isObject(e)){for(var i=0;i<n.length;i++){var a=n[i].exist;if(!n[i].option&&!o.isIdInner(a)&&null==e.id){n[i].option=e;break}}i>=n.length&&n.push({option:e})}}),n},o.isIdInner=function(e){return r.isObject(e)&&e.id&&0===(e.id+"").indexOf("\0_ec_\0")},o.compressBatches=function(e,t){function n(e,t,n){for(var i=0,r=e.length;i<r;i++)for(var a=e[i].seriesId,s=o.normalizeToArray(e[i].dataIndex),l=n&&n[a],u=0,c=s.length;u<c;u++){var d=s[u];l&&l[d]?l[d]=null:(t[a]||(t[a]={}))[d]=1}}function i(e,t){var n=[];for(var r in e)if(e.hasOwnProperty(r)&&null!=e[r])if(t)n.push(+r);else{var a=i(e[r],!0);a.length&&n.push({seriesId:r,dataIndex:a})}return n}var r={},a={};return n(e||[],r),n(t||[],a,r),[i(r),i(a)]},o}),t("zrender/graphic/Path",["require","./Displayable","../core/util","../core/PathProxy","../contain/path","./Pattern"],function(e){function t(e){n.call(this,e),this.path=new r}var n=e("./Displayable"),i=e("../core/util"),r=e("../core/PathProxy"),a=e("../contain/path"),o=e("./Pattern"),s=o.prototype.getCanvasPattern,l=Math.abs;return t.prototype={constructor:t,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(e,t){var n=this.style,i=this.path,r=n.hasStroke(),a=n.hasFill(),o=n.fill,l=n.stroke,u=a&&!!o.colorStops,c=r&&!!l.colorStops,d=a&&!!o.image,h=r&&!!l.image;if(n.bind(e,this,t),this.setTransform(e),this.__dirty){var f=this.getBoundingRect();u&&(this._fillGradient=n.getGradient(e,o,f)),c&&(this._strokeGradient=n.getGradient(e,l,f))}u?e.fillStyle=this._fillGradient:d&&(e.fillStyle=s.call(o,e)),c?e.strokeStyle=this._strokeGradient:h&&(e.strokeStyle=s.call(l,e));var p=n.lineDash,g=n.lineDashOffset,m=!!e.setLineDash,v=this.getGlobalScale();i.setScale(v[0],v[1]),this.__dirtyPath||p&&!m&&r?(i=this.path.beginPath(e),p&&!m&&(i.setLineDash(p),i.setLineDashOffset(g)),this.buildPath(i,this.shape,!1),this.__dirtyPath=!1):(e.beginPath(),this.path.rebuildPath(e)),a&&i.fill(e),p&&m&&(e.setLineDash(p),e.lineDashOffset=g),r&&i.stroke(e),p&&m&&e.setLineDash([]),this.restoreTransform(e),(n.text||0===n.text)&&this.drawRectText(e,this.getBoundingRect())},buildPath:function(e,t,n){},getBoundingRect:function(){var e=this._rect,t=this.style,n=!e;if(n){var i=this.path;this.__dirtyPath&&(i.beginPath(),this.buildPath(i,this.shape,!1)),e=i.getBoundingRect()}if(this._rect=e,t.hasStroke()){var r=this._rectWithStroke||(this._rectWithStroke=e.clone());if(this.__dirty||n){r.copy(e);var a=t.lineWidth,o=t.strokeNoScale?this.getLineScale():1;t.hasFill()||(a=Math.max(a,this.strokeContainThreshold||4)),o>1e-10&&(r.width+=a/o,r.height+=a/o,r.x-=a/o/2,r.y-=a/o/2)}return r}return e},contain:function(e,t){var n=this.transformCoordToLocal(e,t),i=this.getBoundingRect(),r=this.style;if(e=n[0],t=n[1],i.contain(e,t)){var o=this.path.data;if(r.hasStroke()){var s=r.lineWidth,l=r.strokeNoScale?this.getLineScale():1;if(l>1e-10&&(r.hasFill()||(s=Math.max(s,this.strokeContainThreshold)),a.containStroke(o,s/l,e,t)))return!0}if(r.hasFill())return a.contain(o,e,t)}return!1},dirty:function(e){null==e&&(e=!0),e&&(this.__dirtyPath=e,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(e){return this.animate("shape",e)},attrKV:function(e,t){"shape"===e?(this.setShape(t),this.__dirtyPath=!0,this._rect=null):n.prototype.attrKV.call(this,e,t)},setShape:function(e,t){var n=this.shape;if(n){if(i.isObject(e))for(var r in e)n[r]=e[r];else n[e]=t;this.dirty(!0)}return this},getLineScale:function(){var e=this.transform;return e&&l(e[0]-1)>1e-10&&l(e[3]-1)>1e-10?Math.sqrt(l(e[0]*e[3]-e[2]*e[1])):1}},t.extend=function(e){var n=function(n){t.call(this,n),e.style&&this.style.extendFrom(e.style,!1);var i=e.shape;if(i){this.shape=this.shape||{};var r=this.shape;for(var a in i)!r.hasOwnProperty(a)&&i.hasOwnProperty(a)&&(r[a]=i[a])}e.init&&e.init.call(this,n)};i.inherits(n,t);for(var r in e)"style"!==r&&"shape"!==r&&(n.prototype[r]=e[r]);return n},i.inherits(t,n),t}),t("zrender/tool/path",["require","../graphic/Path","../core/PathProxy","./transformPath","../core/matrix"],function(e){function t(e,t,n,i,r,a,o,s,l,f,m){var v=l*(h/180),y=d(v)*(e-n)/2+c(v)*(t-i)/2,_=-1*c(v)*(e-n)/2+d(v)*(t-i)/2,b=y*y/(o*o)+_*_/(s*s);b>1&&(o*=u(b),s*=u(b));var x=(r===a?-1:1)*u((o*o*(s*s)-o*o*(_*_)-s*s*(y*y))/(o*o*(_*_)+s*s*(y*y)))||0,w=x*o*_/s,k=x*-s*y/o,S=(e+n)/2+d(v)*w-c(v)*k,E=(t+i)/2+c(v)*w+d(v)*k,T=g([1,0],[(y-w)/o,(_-k)/s]),C=[(y-w)/o,(_-k)/s],D=[(-1*y-w)/o,(-1*_-k)/s],M=g(C,D);p(C,D)<=-1&&(M=h),p(C,D)>=1&&(M=0),0===a&&M>0&&(M-=2*h),1===a&&M<0&&(M+=2*h),m.addData(f,S,E,o,s,T,M,v,a)}function n(e){if(!e)return[];var n,i=e.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(n=0;n<l.length;n++)i=i.replace(new RegExp(l[n],"g"),"|"+l[n]);var r,o=i.split("|"),s=0,u=0,c=new a,d=a.CMD;for(n=1;n<o.length;n++){var h,f=o[n],p=f.charAt(0),g=0,m=f.slice(1).replace(/e,-/g,"e-").split(",");m.length>0&&""===m[0]&&m.shift();for(var v=0;v<m.length;v++)m[v]=parseFloat(m[v]);for(;g<m.length&&!isNaN(m[g])&&!isNaN(m[0]);){var y,_,b,x,w,k,S,E=s,T=u;switch(p){case"l":s+=m[g++],u+=m[g++],h=d.L,c.addData(h,s,u);break;case"L":s=m[g++],u=m[g++],h=d.L,c.addData(h,s,u);break;case"m":s+=m[g++],u+=m[g++],h=d.M,c.addData(h,s,u),p="l";break;case"M":s=m[g++],u=m[g++],h=d.M,c.addData(h,s,u),p="L";break;case"h":s+=m[g++],h=d.L,c.addData(h,s,u);break;case"H":s=m[g++],h=d.L,c.addData(h,s,u);break;case"v":u+=m[g++],h=d.L,c.addData(h,s,u);break;case"V":u=m[g++],h=d.L,c.addData(h,s,u);break;case"C":h=d.C,c.addData(h,m[g++],m[g++],m[g++],m[g++],m[g++],m[g++]),s=m[g-2],u=m[g-1];break;case"c":h=d.C,c.addData(h,m[g++]+s,m[g++]+u,m[g++]+s,m[g++]+u,m[g++]+s,m[g++]+u),s+=m[g-2],u+=m[g-1];break;case"S":y=s,_=u;var C=c.len(),D=c.data;r===d.C&&(y+=s-D[C-4],_+=u-D[C-3]),h=d.C,E=m[g++],T=m[g++],s=m[g++],u=m[g++],c.addData(h,y,_,E,T,s,u);break;case"s":y=s,_=u;var C=c.len(),D=c.data;r===d.C&&(y+=s-D[C-4],_+=u-D[C-3]),h=d.C,E=s+m[g++],T=u+m[g++],s+=m[g++],u+=m[g++],c.addData(h,y,_,E,T,s,u);break;case"Q":E=m[g++],T=m[g++],s=m[g++],u=m[g++],h=d.Q,c.addData(h,E,T,s,u);break;case"q":E=m[g++]+s,T=m[g++]+u,s+=m[g++],u+=m[g++],h=d.Q,c.addData(h,E,T,s,u);break;case"T":y=s,_=u;var C=c.len(),D=c.data;r===d.Q&&(y+=s-D[C-4],_+=u-D[C-3]),s=m[g++],u=m[g++],h=d.Q,c.addData(h,y,_,s,u);break;case"t":y=s,_=u;var C=c.len(),D=c.data;r===d.Q&&(y+=s-D[C-4],_+=u-D[C-3]),s+=m[g++],u+=m[g++],h=d.Q,c.addData(h,y,_,s,u);break;case"A":b=m[g++],x=m[g++],w=m[g++],k=m[g++],S=m[g++],E=s,T=u,s=m[g++],u=m[g++],h=d.A,t(E,T,s,u,k,S,b,x,w,h,c);break;case"a":b=m[g++],x=m[g++],w=m[g++],k=m[g++],S=m[g++],E=s,T=u,s+=m[g++],u+=m[g++],h=d.A,t(E,T,s,u,k,S,b,x,w,h,c)}}"z"!==p&&"Z"!==p||(h=d.Z,c.addData(h)),r=h}return c.toStatic(),c}function i(e,t){var i,r=n(e);return t=t||{},t.buildPath=function(e){e.setData(r.data),i&&o(e,i);var t=e.getContext();t&&e.rebuildPath(t)},t.applyTransform=function(e){i||(i=s.create()),s.mul(i,e,i)},t}var r=e("../graphic/Path"),a=e("../core/PathProxy"),o=e("./transformPath"),s=e("../core/matrix"),l=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],u=Math.sqrt,c=Math.sin,d=Math.cos,h=Math.PI,f=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},p=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(f(e)*f(t))},g=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(p(e,t))};return{createFromString:function(e,t){return new r(i(e,t))},extendFromString:function(e,t){return r.extend(i(e,t))},mergePath:function(e,t){for(var n=[],i=e.length,a=0;a<i;a++){var o=e[a];o.__dirty&&o.buildPath(o.path,o.shape,!0),n.push(o.path)}var s=new r(t);return s.buildPath=function(e){e.appendPath(n);var t=e.getContext();t&&e.rebuildPath(t)},s}}}),t("zrender/graphic/Gradient",["require"],function(e){var t=function(e){this.colorStops=e||[]};return t.prototype={constructor:t,addColorStop:function(e,t){this.colorStops.push({offset:e,color:t})}},t}),t("zrender/graphic/Image",["require","./Displayable","../core/BoundingRect","../core/util","../core/LRU"],function(e){function t(e){n.call(this,e)}var n=e("./Displayable"),i=e("../core/BoundingRect"),r=e("../core/util"),a=e("../core/LRU"),o=new a(50);return t.prototype={constructor:t,type:"image",brush:function(e,t){var n,i=this.style,r=i.image;if(i.bind(e,this,t),n="string"==typeof r?this._image:r,!n&&r){var a=o.get(r);if(!a)return n=new Image,n.onload=function(){n.onload=null;for(var e=0;e<a.pending.length;e++)a.pending[e].dirty()},a={image:n,pending:[this]},n.src=r,o.put(r,a),void(this._image=n);if(n=a.image,this._image=n,!n.width||!n.height)return void a.pending.push(this)}if(n){var s=i.width||n.width,l=i.height||n.height,u=i.x||0,c=i.y||0;if(!n.width||!n.height)return;if(this.setTransform(e),i.sWidth&&i.sHeight){var d=i.sx||0,h=i.sy||0;e.drawImage(n,d,h,i.sWidth,i.sHeight,u,c,s,l)}else if(i.sx&&i.sy){var d=i.sx,h=i.sy,f=s-d,p=l-h;e.drawImage(n,d,h,f,p,u,c,s,l)}else e.drawImage(n,u,c,s,l);null==i.width&&(i.width=s),null==i.height&&(i.height=l),this.restoreTransform(e),null!=i.text&&this.drawRectText(e,this.getBoundingRect())}},getBoundingRect:function(){var e=this.style;return this._rect||(this._rect=new i(e.x||0,e.y||0,e.width||0,e.height||0)),this._rect}},r.inherits(t,n),t}),t("zrender/container/Group",["require","../core/util","../Element","../core/BoundingRect"],function(e){var t=e("../core/util"),n=e("../Element"),i=e("../core/BoundingRect"),r=function(e){e=e||{},n.call(this,e);for(var t in e)this[t]=e[t];this._children=[],this.__storage=null,this.__dirty=!0};return r.prototype={constructor:r,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},childOfName:function(e){for(var t=this._children,n=0;n<t.length;n++)if(t[n].name===e)return t[n]},childCount:function(){return this._children.length},add:function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},addBefore:function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var n=this._children,i=n.indexOf(t);i>=0&&(n.splice(i,0,e),this._doAdd(e))}return this},_doAdd:function(e){e.parent&&e.parent.remove(e),e.parent=this;var t=this.__storage,n=this.__zr;t&&t!==e.__storage&&(t.addToMap(e),e instanceof r&&e.addChildrenToStorage(t)),n&&n.refresh()},remove:function(e){var n=this.__zr,i=this.__storage,a=this._children,o=t.indexOf(a,e);return o<0?this:(a.splice(o,1),e.parent=null,i&&(i.delFromMap(e.id),e instanceof r&&e.delChildrenFromStorage(i)),n&&n.refresh(),this)},removeAll:function(){var e,t,n=this._children,i=this.__storage;for(t=0;t<n.length;t++)e=n[t],i&&(i.delFromMap(e.id),e instanceof r&&e.delChildrenFromStorage(i)),e.parent=null;return n.length=0,this},eachChild:function(e,t){for(var n=this._children,i=0;i<n.length;i++){var r=n[i];e.call(t,r,i)}return this},traverse:function(e,t){for(var n=0;n<this._children.length;n++){var i=this._children[n];e.call(t,i),"group"===i.type&&i.traverse(e,t)}return this},addChildrenToStorage:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.addToMap(n),n instanceof r&&n.addChildrenToStorage(e)}},delChildrenFromStorage:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.delFromMap(n.id),n instanceof r&&n.delChildrenFromStorage(e)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(e){for(var t=null,n=new i(0,0,0,0),r=e||this._children,a=[],o=0;o<r.length;o++){var s=r[o];if(!s.ignore&&!s.invisible){var l=s.getBoundingRect(),u=s.getLocalTransform(a);u?(n.copy(l),n.applyTransform(u),t=t||n.clone(),t.union(n)):(t=t||l.clone(),t.union(l))}}return t||n}},t.inherits(r,n),r}),t("zrender/graphic/Text",["require","./Displayable","../core/util","../contain/text"],function(e){var t=e("./Displayable"),n=e("../core/util"),i=e("../contain/text"),r=function(e){t.call(this,e)};return r.prototype={constructor:r,type:"text",brush:function(e,t){var n=this.style,r=n.x||0,a=n.y||0,o=n.text;if(null!=o&&(o+=""),n.bind(e,this,t),o){this.setTransform(e);var s,l=n.textAlign,u=n.textFont||n.font;if(n.textVerticalAlign){var c=i.getBoundingRect(o,u,n.textAlign,"top");switch(s="middle",n.textVerticalAlign){case"middle":a-=c.height/2-c.lineHeight/2;break;case"bottom":a-=c.height-c.lineHeight/2;break;default:a+=c.lineHeight/2}}else s=n.textBaseline;e.font=u,e.textAlign=l||"left",e.textAlign!==l&&(e.textAlign="left"),e.textBaseline=s||"alphabetic",e.textBaseline!==s&&(e.textBaseline="alphabetic");for(var d=i.measureText("国",e.font).width,h=o.split("\n"),f=0;f<h.length;f++)n.hasFill()&&e.fillText(h[f],r,a),n.hasStroke()&&e.strokeText(h[f],r,a),a+=d;this.restoreTransform(e)}},getBoundingRect:function(){if(!this._rect){var e=this.style,t=e.textVerticalAlign,n=i.getBoundingRect(e.text+"",e.textFont||e.font,e.textAlign,t?"top":e.textBaseline);switch(t){case"middle":n.y-=n.height/2;break;case"bottom":n.y-=n.height}n.x+=e.x||0,n.y+=e.y||0,this._rect=n}return this._rect}},n.inherits(r,t),r}),t("zrender/graphic/shape/Circle",["require","../Path"],function(e){"use strict";return e("../Path").extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(e,t,n){n&&e.moveTo(t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,2*Math.PI,!0)}})}),t("zrender/graphic/shape/Sector",["require","../Path"],function(e){return e("../Path").extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(e,t){var n=t.cx,i=t.cy,r=Math.max(t.r0||0,0),a=Math.max(t.r,0),o=t.startAngle,s=t.endAngle,l=t.clockwise,u=Math.cos(o),c=Math.sin(o);e.moveTo(u*r+n,c*r+i),e.lineTo(u*a+n,c*a+i),e.arc(n,i,a,o,s,!l),e.lineTo(Math.cos(s)*r+n,Math.sin(s)*r+i),0!==r&&e.arc(n,i,r,s,o,l),e.closePath()}})}),t("zrender/graphic/shape/Ring",["require","../Path"],function(e){return e("../Path").extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(e,t){var n=t.cx,i=t.cy,r=2*Math.PI;e.moveTo(n+t.r,i),e.arc(n,i,t.r,0,r,!1),e.moveTo(n+t.r0,i),e.arc(n,i,t.r0,0,r,!0)}})}),t("zrender/graphic/shape/Polygon",["require","../helper/poly","../Path"],function(e){var t=e("../helper/poly");return e("../Path").extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(e,n){t.buildPath(e,n,!0)}})}),t("zrender/graphic/shape/Polyline",["require","../helper/poly","../Path"],function(e){var t=e("../helper/poly");return e("../Path").extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(e,n){t.buildPath(e,n,!1)}})}),t("zrender/graphic/shape/Rect",["require","../helper/roundRect","../Path"],function(e){var t=e("../helper/roundRect");return e("../Path").extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(e,n){var i=n.x,r=n.y,a=n.width,o=n.height;n.r?t.buildPath(e,n):e.rect(i,r,a,o),e.closePath()}})}),t("zrender/graphic/shape/BezierCurve",["require","../../core/curve","../../core/vector","../Path"],function(e){"use strict";function t(e,t,n){var i=e.cpx2,r=e.cpy2;return null===i||null===r?[(n?u:s)(e.x1,e.cpx1,e.cpx2,e.x2,t),(n?u:s)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(n?l:o)(e.x1,e.cpx1,e.x2,t),(n?l:o)(e.y1,e.cpy1,e.y2,t)]}var n=e("../../core/curve"),i=e("../../core/vector"),r=n.quadraticSubdivide,a=n.cubicSubdivide,o=n.quadraticAt,s=n.cubicAt,l=n.quadraticDerivativeAt,u=n.cubicDerivativeAt,c=[];
return e("../Path").extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.x1,i=t.y1,o=t.x2,s=t.y2,l=t.cpx1,u=t.cpy1,d=t.cpx2,h=t.cpy2,f=t.percent;0!==f&&(e.moveTo(n,i),null==d||null==h?(f<1&&(r(n,l,o,f,c),l=c[1],o=c[2],r(i,u,s,f,c),u=c[1],s=c[2]),e.quadraticCurveTo(l,u,o,s)):(f<1&&(a(n,l,d,o,f,c),l=c[1],d=c[2],o=c[3],a(i,u,h,s,f,c),u=c[1],h=c[2],s=c[3]),e.bezierCurveTo(l,u,d,h,o,s)))},pointAt:function(e){return t(this.shape,e,!1)},tangentAt:function(e){var n=t(this.shape,e,!0);return i.normalize(n,n)}})}),t("zrender/graphic/shape/Line",["require","../Path"],function(e){return e("../Path").extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.x1,i=t.y1,r=t.x2,a=t.y2,o=t.percent;0!==o&&(e.moveTo(n,i),o<1&&(r=n*(1-o)+r*o,a=i*(1-o)+a*o),e.lineTo(r,a))},pointAt:function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]}})}),t("zrender/graphic/shape/Arc",["require","../Path"],function(e){return e("../Path").extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.cx,i=t.cy,r=Math.max(t.r,0),a=t.startAngle,o=t.endAngle,s=t.clockwise,l=Math.cos(a),u=Math.sin(a);e.moveTo(l*r+n,u*r+i),e.arc(n,i,r,a,o,!s)}})}),t("zrender/graphic/CompoundPath",["require","./Path"],function(e){var t=e("./Path");return t.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var e=this.__dirtyPath,t=this.shape.paths,n=0;n<t.length;n++)e=e||t[n].__dirtyPath;this.__dirtyPath=e,this.__dirty=this.__dirty||e},beforeBrush:function(){this._updatePathDirty();for(var e=this.shape.paths||[],t=this.getGlobalScale(),n=0;n<e.length;n++)e[n].path.setScale(t[0],t[1])},buildPath:function(e,t){for(var n=t.paths||[],i=0;i<n.length;i++)n[i].buildPath(e,n[i].shape,!0)},afterBrush:function(){for(var e=this.shape.paths,t=0;t<e.length;t++)e[t].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),t.prototype.getBoundingRect.call(this)}})}),t("zrender/graphic/LinearGradient",["require","../core/util","./Gradient"],function(e){"use strict";var t=e("../core/util"),n=e("./Gradient"),i=function(e,t,i,r,a,o){this.x=null==e?0:e,this.y=null==t?0:t,this.x2=null==i?1:i,this.y2=null==r?0:r,this.type="linear",this.global=o||!1,n.call(this,a)};return i.prototype={constructor:i},t.inherits(i,n),i}),t("zrender/graphic/RadialGradient",["require","../core/util","./Gradient"],function(e){"use strict";var t=e("../core/util"),n=e("./Gradient"),i=function(e,t,i,r,a){this.x=null==e?.5:e,this.y=null==t?.5:t,this.r=null==i?.5:i,this.type="radial",this.global=a||!1,n.call(this,r)};return i.prototype={constructor:i},t.inherits(i,n),i}),t("zrender/core/BoundingRect",["require","./vector","./matrix"],function(e){"use strict";function t(e,t,n,i){this.x=e,this.y=t,this.width=n,this.height=i}var n=e("./vector"),i=e("./matrix"),r=n.applyTransform,a=Math.min,o=Math.abs,s=Math.max;return t.prototype={constructor:t,union:function(e){var t=a(e.x,this.x),n=a(e.y,this.y);this.width=s(e.x+e.width,this.x+this.width)-t,this.height=s(e.y+e.height,this.y+this.height)-n,this.x=t,this.y=n},applyTransform:function(){var e=[],t=[];return function(n){n&&(e[0]=this.x,e[1]=this.y,t[0]=this.x+this.width,t[1]=this.y+this.height,r(e,e,n),r(t,t,n),this.x=a(e[0],t[0]),this.y=a(e[1],t[1]),this.width=o(t[0]-e[0]),this.height=o(t[1]-e[1]))}}(),calculateTransform:function(e){var t=this,n=e.width/t.width,r=e.height/t.height,a=i.create();return i.translate(a,a,[-t.x,-t.y]),i.scale(a,a,[n,r]),i.translate(a,a,[e.x,e.y]),a},intersect:function(e){var t=this,n=t.x,i=t.x+t.width,r=t.y,a=t.y+t.height,o=e.x,s=e.x+e.width,l=e.y,u=e.y+e.height;return!(i<o||s<n||a<l||u<r)},contain:function(e,t){var n=this;return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height},clone:function(){return new t(this.x,this.y,this.width,this.height)},copy:function(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height}},t}),t("zrender/contain/text",["require","../core/util","../core/BoundingRect"],function(e){function t(e,t){var n=e+":"+t;if(o[n])return o[n];for(var i=(e+"").split("\n"),r=0,a=0,u=i.length;a<u;a++)r=Math.max(h.measureText(i[a],t).width,r);return s>l&&(s=0,o={}),s++,o[n]=r,r}function n(e,n,i,r){var a=((e||"")+"").split("\n").length,o=t(e,n),s=t("国",n),l=a*s,u=new c(0,0,o,l);switch(u.lineHeight=s,r){case"bottom":case"alphabetic":u.y-=s;break;case"middle":u.y-=s/2}switch(i){case"end":case"right":u.x-=u.width;break;case"center":u.x-=u.width/2}return u}function i(e,t,n,i){var r=t.x,a=t.y,o=t.height,s=t.width,l=n.height,u=o/2-l/2,c="left";switch(e){case"left":r-=i,a+=u,c="right";break;case"right":r+=i+s,a+=u,c="left";break;case"top":r+=s/2,a-=i+l,c="center";break;case"bottom":r+=s/2,a+=o+i,c="center";break;case"inside":r+=s/2,a+=u,c="center";break;case"insideLeft":r+=i,a+=u,c="left";break;case"insideRight":r+=s-i,a+=u,c="right";break;case"insideTop":r+=s/2,a+=i,c="center";break;case"insideBottom":r+=s/2,a+=o-l-i,c="center";break;case"insideTopLeft":r+=i,a+=i,c="left";break;case"insideTopRight":r+=s-i,a+=i,c="right";break;case"insideBottomLeft":r+=i,a+=o-l-i;break;case"insideBottomRight":r+=s-i,a+=o-l-i,c="right"}return{x:r,y:a,textAlign:c,textBaseline:"top"}}function r(e,n,i,r,o){if(!n)return"";o=o||{},r=d(r,"...");for(var s=d(o.maxIterations,2),l=d(o.minChar,0),u=t("国",i),c=t("a",i),h=d(o.placeholder,""),f=n=Math.max(0,n-1),p=0;p<l&&f>=c;p++)f-=c;var g=t(r);g>f&&(r="",g=0),f=n-g;for(var m=(e+"").split("\n"),p=0,v=m.length;p<v;p++){var y=m[p],_=t(y,i);if(!(_<=n)){for(var b=0;;b++){if(_<=f||b>=s){y+=r;break}var x=0===b?a(y,f,c,u):_>0?Math.floor(y.length*f/_):0;y=y.substr(0,x),_=t(y,i)}""===y&&(y=h),m[p]=y}}return m.join("\n")}function a(e,t,n,i){for(var r=0,a=0,o=e.length;a<o&&r<t;a++){var s=e.charCodeAt(a);r+=0<=s&&s<=127?n:i}return a}var o={},s=0,l=5e3,u=e("../core/util"),c=e("../core/BoundingRect"),d=u.retrieve,h={getWidth:t,getBoundingRect:n,adjustTextPositionOnRect:i,truncateText:r,measureText:function(e,t){var n=u.getContext();return n.font=t||"12px sans-serif",n.measureText(e)}};return h}),t("echarts/coord/axisHelper",["require","../scale/Ordinal","../scale/Interval","../scale/Time","../scale/Log","../scale/Scale","../util/number","zrender/core/util","zrender/contain/text"],function(e){var t=e("../scale/Ordinal"),n=e("../scale/Interval");e("../scale/Time"),e("../scale/Log");var i=e("../scale/Scale"),r=e("../util/number"),a=e("zrender/core/util"),o=e("zrender/contain/text"),s={};return s.getScaleExtent=function(e,t){var n=e.scale,i=n.getExtent(),o=i[1]-i[0];if("ordinal"===n.type)return isFinite(o)?i:[0,0];var s=t.getMin?t.getMin():t.get("min"),l=t.getMax?t.getMax():t.get("max"),u=t.getNeedCrossZero?t.getNeedCrossZero():!t.get("scale"),c=t.get("boundaryGap");a.isArray(c)||(c=[c||0,c||0]),c[0]=r.parsePercent(c[0],1),c[1]=r.parsePercent(c[1],1);var d=!0,h=!0;return null==s&&(s=i[0]-c[0]*o,d=!1),null==l&&(l=i[1]+c[1]*o,h=!1),"dataMin"===s&&(s=i[0]),"dataMax"===l&&(l=i[1]),u&&(s>0&&l>0&&!d&&(s=0),s<0&&l<0&&!h&&(l=0)),[s,l]},s.niceScaleExtent=function(e,t){var n=e.scale,i=s.getScaleExtent(e,t),r=null!=(t.getMin?t.getMin():t.get("min")),a=null!=(t.getMax?t.getMax():t.get("max")),o=t.get("splitNumber");n.setExtent(i[0],i[1]),n.niceExtent(o,r,a);var l=t.get("minInterval");if(isFinite(l)&&!r&&!a&&"interval"===n.type){var u=n.getInterval(),c=Math.max(Math.abs(u),l)/u;i=n.getExtent(),n.setExtent(c*i[0],i[1]*c),n.niceExtent(o)}var u=t.get("interval");null!=u&&n.setInterval&&n.setInterval(u)},s.createScaleByModel=function(e,r){if(r=r||e.get("type"))switch(r){case"category":return new t(e.getCategories(),[1/0,-(1/0)]);case"value":return new n;default:return(i.getClass(r)||n).create(e)}},s.ifAxisCrossZero=function(e){var t=e.scale.getExtent(),n=t[0],i=t[1];return!(n>0&&i>0||n<0&&i<0)},s.getAxisLabelInterval=function(e,t,n,i){var r,a=0,s=0,l=1;t.length>40&&(l=Math.floor(t.length/40));for(var u=0;u<e.length;u+=l){var c=e[u],d=o.getBoundingRect(t[u],n,"center","top");d[i?"x":"y"]+=c,d[i?"width":"height"]*=1.3,r?r.intersect(d)?(s++,a=Math.max(a,s)):(r.union(d),s=0):r=d.clone()}return 0===a&&l>1?l:(a+1)*l-1},s.getFormattedLabels=function(e,t){var n=e.scale,i=n.getTicksLabels(),r=n.getTicks();return"string"==typeof t?(t=function(e){return function(t){return e.replace("{value}",t)}}(t),a.map(i,t)):"function"==typeof t?a.map(r,function(i,r){return t("category"===e.type?n.getLabel(i):i,r)},this):i},s}),t("echarts/coord/cartesian/Axis2D",["require","zrender/core/util","../Axis","./axisLabelInterval"],function(e){var t=e("zrender/core/util"),n=e("../Axis"),i=e("./axisLabelInterval"),r=function(e,t,i,r,a){n.call(this,e,t,i),this.type=r||"value",this.position=a||"bottom"};return r.prototype={constructor:r,index:0,onZero:!1,model:null,isHorizontal:function(){var e=this.position;return"top"===e||"bottom"===e},getGlobalExtent:function(){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),e},getLabelInterval:function(){var e=this._labelInterval;return e||(e=this._labelInterval=i(this)),e},isLabelIgnored:function(e){if("category"===this.type){var t=this.getLabelInterval();return"function"==typeof t&&!t(e,this.scale.getLabel(e))||e%(t+1)}},toLocalCoord:null,toGlobalCoord:null},t.inherits(r,n),r}),t("echarts/coord/cartesian/Cartesian2D",["require","zrender/core/util","./Cartesian"],function(e){"use strict";function t(e){i.call(this,e)}var n=e("zrender/core/util"),i=e("./Cartesian");return t.prototype={constructor:t,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(e){var t=this.getAxis("x"),n=this.getAxis("y");return t.contain(t.toLocalCoord(e[0]))&&n.contain(n.toLocalCoord(e[1]))},containData:function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},dataToPoints:function(e,t){return e.mapArray(["x","y"],function(e,t){return this.dataToPoint([e,t])},t,this)},dataToPoint:function(e,t){var n=this.getAxis("x"),i=this.getAxis("y");return[n.toGlobalCoord(n.dataToCoord(e[0],t)),i.toGlobalCoord(i.dataToCoord(e[1],t))]},pointToData:function(e,t){var n=this.getAxis("x"),i=this.getAxis("y");return[n.coordToData(n.toLocalCoord(e[0]),t),i.coordToData(i.toLocalCoord(e[1]),t)]},getOtherAxis:function(e){return this.getAxis("x"===e.dim?"y":"x")}},n.inherits(t,i),t}),t("echarts/coord/cartesian/GridModel",["require","./AxisModel","../../model/Component"],function(e){"use strict";e("./AxisModel");var t=e("../../model/Component");return t.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}})}),t("echarts/util/clazz",["require","zrender/core/util"],function(e){function t(e,t){var n=i.slice(arguments,2);return this.superClass.prototype[t].apply(e,n)}function n(e,t,n){return this.superClass.prototype[t].apply(e,n)}var i=e("zrender/core/util"),r={},a=".",o="___EC__COMPONENT__CONTAINER___",s=r.parseClassType=function(e){var t={main:"",sub:""};return e&&(e=e.split(a),t.main=e[0]||"",t.sub=e[1]||""),t};return r.enableClassExtend=function(e){e.$constructor=e,e.extend=function(e){var r=this,a=function(){e.$constructor?e.$constructor.apply(this,arguments):r.apply(this,arguments)};return i.extend(a.prototype,e),a.extend=this.extend,a.superCall=t,a.superApply=n,i.inherits(a,this),a.superClass=r,a}},r.enableClassManagement=function(e,t){function n(e){var t=r[e.main];return t&&t[o]||(t=r[e.main]={},t[o]=!0),t}t=t||{};var r={};if(e.registerClass=function(e,t){if(t)if(t=s(t),t.sub){if(t.sub!==o){var i=n(t);i[t.sub]=e}}else r[t.main]&&console.warn(t.main+" exists."),r[t.main]=e;return e},e.getClass=function(e,t,n){var i=r[e];if(i&&i[o]&&(i=t?i[t]:null),n&&!i)throw new Error("Component "+e+"."+(t||"")+" not exists. Load it first.");return i},e.getClassesByMainType=function(e){e=s(e);var t=[],n=r[e.main];return n&&n[o]?i.each(n,function(e,n){n!==o&&t.push(e)}):t.push(n),t},e.hasClass=function(e){return e=s(e),!!r[e.main]},e.getAllClassMainTypes=function(){var e=[];return i.each(r,function(t,n){e.push(n)}),e},e.hasSubTypes=function(e){e=s(e);var t=r[e.main];return t&&t[o]},e.parseClassType=s,t.registerWhenExtend){var a=e.extend;a&&(e.extend=function(t){var n=a.call(this,t);return e.registerClass(n,t.type)})}return e},r.setReadOnly=function(e,t){},r}),t("echarts/model/mixin/lineStyle",["require","./makeStyleMapper"],function(e){var t=e("./makeStyleMapper")([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);return{getLineStyle:function(e){var n=t.call(this,e),i=this.getLineDash();return i&&(n.lineDash=i),n},getLineDash:function(){var e=this.get("type");return"solid"===e||null==e?null:"dashed"===e?[5,5]:[1,1]}}}),t("echarts/model/mixin/areaStyle",["require","./makeStyleMapper"],function(e){return{getAreaStyle:e("./makeStyleMapper")([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]])}}),t("echarts/model/mixin/textStyle",["require","zrender/contain/text"],function(e){function t(e,t){return e&&e.getShallow(t)}var n=e("zrender/contain/text");return{getTextColor:function(){var e=this.ecModel;return this.getShallow("color")||e&&e.get("textStyle.color")},getFont:function(){var e=this.ecModel,n=e&&e.getModel("textStyle");return[this.getShallow("fontStyle")||t(n,"fontStyle"),this.getShallow("fontWeight")||t(n,"fontWeight"),(this.getShallow("fontSize")||t(n,"fontSize")||12)+"px",this.getShallow("fontFamily")||t(n,"fontFamily")||"sans-serif"].join(" ")},getTextRect:function(e){var t=this.get("textStyle")||{};return n.getBoundingRect(e,this.getFont(),t.align,t.baseline)},truncateText:function(e,t,i,r){return n.truncateText(e,t,this.getFont(),i,r)}}}),t("echarts/model/mixin/itemStyle",["require","./makeStyleMapper"],function(e){var t=e("./makeStyleMapper")([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);return{getItemStyle:function(e){var n=t.call(this,e),i=this.getBorderLineDash();return i&&(n.lineDash=i),n},getBorderLineDash:function(){var e=this.get("borderType");return"solid"===e||null==e?null:"dashed"===e?[5,5]:[1,1]}}}),t("echarts/component/marker/MarkerModel",["require","../../util/model","zrender/core/util","zrender/core/env","../../util/format","../../echarts"],function(e){function t(e){n.defaultEmphasis(e.label,n.LABEL_OPTIONS)}var n=e("../../util/model"),i=e("zrender/core/util"),r=e("zrender/core/env"),a=e("../../util/format"),o=a.addCommas,s=a.encodeHTML,l=e("../../echarts").extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function(e,t,n,i){if("marker"===this.type)throw new Error("Marker component is abstract component. Use markLine, markPoint, markArea instead.");this.mergeDefaultAndTheme(e,n),this.mergeOption(e,n,i.createdBySelf,!0)},ifEnableAnimation:function(){if(r.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.ifEnableAnimation()},mergeOption:function(e,n,r,a){var o=this.constructor,s=this.mainType+"Model";r||n.eachSeries(function(e){var r=e.get(this.mainType),l=e[s];if(!r||!r.data)return void(e[s]=null);if(l)l.mergeOption(r,n,!0);else{a&&t(r),i.each(r.data,function(e){e instanceof Array?(t(e[0]),t(e[1])):t(e)});var u={mainType:this.mainType,seriesIndex:e.seriesIndex,name:e.name,createdBySelf:!0};l=new o(r,this,n,u),l.__hostSeries=e}e[s]=l},this)},formatTooltip:function(e){var t=this.getData(),n=this.getRawValue(e),r=i.isArray(n)?i.map(n,o).join(", "):o(n),a=t.getName(e),l=this.name;return(null!=n||a)&&(l+="<br />"),a&&(l+=s(a),null!=n&&(l+=" : ")),null!=n&&(l+=r),l},getData:function(){return this._data},setData:function(e){this._data=e}});return i.mixin(l,n.dataFormatMixin),l}),t("zrender/graphic/Displayable",["require","../core/util","./Style","../Element","./mixin/RectText"],function(e){function t(e){e=e||{},r.call(this,e);for(var t in e)e.hasOwnProperty(t)&&"style"!==t&&(this[t]=e[t]);this.style=new i(e.style),this._rect=null,this.__clipPaths=[]}var n=e("../core/util"),i=e("./Style"),r=e("../Element"),a=e("./mixin/RectText");return t.prototype={constructor:t,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:-1,beforeBrush:function(e){},afterBrush:function(e){},brush:function(e,t){},getBoundingRect:function(){},contain:function(e,t){return this.rectContain(e,t)},traverse:function(e,t){e.call(t,this)},rectContain:function(e,t){var n=this.transformCoordToLocal(e,t),i=this.getBoundingRect();return i.contain(n[0],n[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(e){return this.animate("style",e)},attrKV:function(e,t){"style"!==e?r.prototype.attrKV.call(this,e,t):this.style.set(t)},setStyle:function(e,t){return this.style.set(e,t),this.dirty(!1),this},useStyle:function(e){return this.style=new i(e),this.dirty(!1),this}},n.inherits(t,r),n.mixin(t,a),t}),t("zrender/core/PathProxy",["require","./curve","./vector","./bbox","./BoundingRect","../config"],function(e){"use strict";var t=e("./curve"),n=e("./vector"),i=e("./bbox"),r=e("./BoundingRect"),a=e("../config").devicePixelRatio,o={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},s=[],l=[],u=[],c=[],d=Math.min,h=Math.max,f=Math.cos,p=Math.sin,g=Math.sqrt,m=Math.abs,v="undefined"!=typeof Float32Array,y=function(){this.data=[],this._len=0,this._ctx=null,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._ux=0,this._uy=0};return y.prototype={constructor:y,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(e,t){this._ux=m(1/a/e)||0,this._uy=m(1/a/t)||0},getContext:function(){return this._ctx},beginPath:function(e){return this._ctx=e,e&&e.beginPath(),this._len=0,this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(e,t){return this.addData(o.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},lineTo:function(e,t){var n=m(e-this._xi)>this._ux||m(t-this._yi)>this._uy||this._len<5;return this.addData(o.L,e,t),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(e,t):this._ctx.lineTo(e,t)),n&&(this._xi=e,this._yi=t),this},bezierCurveTo:function(e,t,n,i,r,a){return this.addData(o.C,e,t,n,i,r,a),this._ctx&&(this._needsDash()?this._dashedBezierTo(e,t,n,i,r,a):this._ctx.bezierCurveTo(e,t,n,i,r,a)),this._xi=r,this._yi=a,this},quadraticCurveTo:function(e,t,n,i){return this.addData(o.Q,e,t,n,i),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(e,t,n,i):this._ctx.quadraticCurveTo(e,t,n,i)),this._xi=n,this._yi=i,this},arc:function(e,t,n,i,r,a){return this.addData(o.A,e,t,n,n,i,r-i,0,a?0:1),this._ctx&&this._ctx.arc(e,t,n,i,r,a),this._xi=f(r)*n+e,this._xi=p(r)*n+e,this},arcTo:function(e,t,n,i,r){return this._ctx&&this._ctx.arcTo(e,t,n,i,r),this},rect:function(e,t,n,i){return this._ctx&&this._ctx.rect(e,t,n,i),this.addData(o.R,e,t,n,i),this},closePath:function(){this.addData(o.Z);var e=this._ctx,t=this._x0,n=this._y0;return e&&(this._needsDash()&&this._dashedLineTo(t,n),e.closePath()),this._xi=t,this._yi=n,this},fill:function(e){e&&e.fill(),this.toStatic()},stroke:function(e){e&&e.stroke(),this.toStatic()},setLineDash:function(e){if(e instanceof Array){this._lineDash=e,this._dashIdx=0;for(var t=0,n=0;n<e.length;n++)t+=e[n];this._dashSum=t}return this},setLineDashOffset:function(e){return this._dashOffset=e,this},len:function(){return this._len},setData:function(e){var t=e.length;this.data&&this.data.length==t||!v||(this.data=new Float32Array(t));for(var n=0;n<t;n++)this.data[n]=e[n];this._len=t},appendPath:function(e){e instanceof Array||(e=[e]);for(var t=e.length,n=0,i=this._len,r=0;r<t;r++)n+=e[r].len();v&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n));for(var r=0;r<t;r++)for(var a=e[r].data,o=0;o<a.length;o++)this.data[i++]=a[o];this._len=i},addData:function(e){var t=this.data;this._len+arguments.length>t.length&&(this._expandData(),t=this.data);for(var n=0;n<arguments.length;n++)t[this._len++]=arguments[n];this._prevCmd=e},_expandData:function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(e,t){var n,i,r=this._dashSum,a=this._dashOffset,o=this._lineDash,s=this._ctx,l=this._xi,u=this._yi,c=e-l,f=t-u,p=g(c*c+f*f),m=l,v=u,y=o.length;for(c/=p,f/=p,a<0&&(a=r+a),a%=r,m-=a*c,v-=a*f;c>0&&m<=e||c<0&&m>=e||0==c&&(f>0&&v<=t||f<0&&v>=t);)i=this._dashIdx,n=o[i],m+=c*n,v+=f*n,this._dashIdx=(i+1)%y,c>0&&m<l||c<0&&m>l||f>0&&v<u||f<0&&v>u||s[i%2?"moveTo":"lineTo"](c>=0?d(m,e):h(m,e),f>=0?d(v,t):h(v,t));c=m-e,f=v-t,this._dashOffset=-g(c*c+f*f)},_dashedBezierTo:function(e,n,i,r,a,o){var s,l,u,c,d,h=this._dashSum,f=this._dashOffset,p=this._lineDash,m=this._ctx,v=this._xi,y=this._yi,_=t.cubicAt,b=0,x=this._dashIdx,w=p.length,k=0;for(f<0&&(f=h+f),f%=h,s=0;s<1;s+=.1)l=_(v,e,i,a,s+.1)-_(v,e,i,a,s),u=_(y,n,r,o,s+.1)-_(y,n,r,o,s),b+=g(l*l+u*u);for(;x<w&&(k+=p[x],!(k>f));x++);for(s=(k-f)/b;s<=1;)c=_(v,e,i,a,s),d=_(y,n,r,o,s),x%2?m.moveTo(c,d):m.lineTo(c,d),s+=p[x]/b,x=(x+1)%w;x%2!==0&&m.lineTo(a,o),l=a-c,u=o-d,this._dashOffset=-g(l*l+u*u)},_dashedQuadraticTo:function(e,t,n,i){var r=n,a=i;n=(n+2*e)/3,i=(i+2*t)/3,e=(this._xi+2*e)/3,t=(this._yi+2*t)/3,this._dashedBezierTo(e,t,n,i,r,a)},toStatic:function(){var e=this.data;e instanceof Array&&(e.length=this._len,v&&(this.data=new Float32Array(e)))},getBoundingRect:function(){s[0]=s[1]=u[0]=u[1]=Number.MAX_VALUE,l[0]=l[1]=c[0]=c[1]=-Number.MAX_VALUE;for(var e=this.data,t=0,a=0,d=0,h=0,g=0;g<e.length;){var m=e[g++];switch(1==g&&(t=e[g],a=e[g+1],d=t,h=a),m){case o.M:d=e[g++],h=e[g++],t=d,a=h,u[0]=d,u[1]=h,c[0]=d,c[1]=h;break;case o.L:i.fromLine(t,a,e[g],e[g+1],u,c),t=e[g++],a=e[g++];break;case o.C:i.fromCubic(t,a,e[g++],e[g++],e[g++],e[g++],e[g],e[g+1],u,c),t=e[g++],a=e[g++];break;case o.Q:i.fromQuadratic(t,a,e[g++],e[g++],e[g],e[g+1],u,c),t=e[g++],a=e[g++];break;case o.A:var v=e[g++],y=e[g++],_=e[g++],b=e[g++],x=e[g++],w=e[g++]+x,k=(e[g++],1-e[g++]);1==g&&(d=f(x)*_+v,h=p(x)*b+y),i.fromArc(v,y,_,b,x,w,k,u,c),t=f(w)*_+v,a=p(w)*b+y;break;case o.R:d=t=e[g++],h=a=e[g++];var S=e[g++],E=e[g++];i.fromLine(d,h,d+S,h+E,u,c);break;case o.Z:t=d,a=h}n.min(s,s,u),n.max(l,l,c)}return 0===g&&(s[0]=s[1]=l[0]=l[1]=0),new r(s[0],s[1],l[0]-s[0],l[1]-s[1])},rebuildPath:function(e){for(var t,n,i,r,a,s,l=this.data,u=this._ux,c=this._uy,d=this._len,h=0;h<d;){var g=l[h++];switch(1==h&&(i=l[h],r=l[h+1],t=i,n=r),g){case o.M:t=i=l[h++],n=r=l[h++],e.moveTo(i,r);break;case o.L:a=l[h++],s=l[h++],(m(a-i)>u||m(s-r)>c||h===d-1)&&(e.lineTo(a,s),i=a,r=s);break;case o.C:e.bezierCurveTo(l[h++],l[h++],l[h++],l[h++],l[h++],l[h++]),i=l[h-2],r=l[h-1];break;case o.Q:e.quadraticCurveTo(l[h++],l[h++],l[h++],l[h++]),i=l[h-2],r=l[h-1];break;case o.A:var v=l[h++],y=l[h++],_=l[h++],b=l[h++],x=l[h++],w=l[h++],k=l[h++],S=l[h++],E=_>b?_:b,T=_>b?1:_/b,C=_>b?b/_:1,D=Math.abs(_-b)>.001,M=x+w;D?(e.translate(v,y),e.rotate(k),e.scale(T,C),e.arc(0,0,E,x,M,1-S),e.scale(1/T,1/C),e.rotate(-k),e.translate(-v,-y)):e.arc(v,y,E,x,M,1-S),1==h&&(t=f(x)*_+v,n=p(x)*b+y),i=f(M)*_+v,r=p(M)*b+y;break;case o.R:t=i=l[h],n=r=l[h+1],e.rect(l[h++],l[h++],l[h++],l[h++]);break;case o.Z:e.closePath(),i=t,r=n}}}},y.CMD=o,y}),t("zrender/graphic/mixin/RectText",["require","../../contain/text","../../core/BoundingRect"],function(e){function t(e,t){return"string"==typeof e?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}var n=e("../../contain/text"),i=e("../../core/BoundingRect"),r=new i,a=function(){};return a.prototype={constructor:a,drawRectText:function(e,i,a){var o=this.style,s=o.text;if(null!=s&&(s+=""),s){e.save();var l,u,c=o.textPosition,d=o.textDistance,h=o.textAlign,f=o.textFont||o.font,p=o.textBaseline,g=o.textVerticalAlign;a=a||n.getBoundingRect(s,f,h,p);var m=this.transform;if(m&&(r.copy(i),r.applyTransform(m),i=r),c instanceof Array){if(l=i.x+t(c[0],i.width),u=i.y+t(c[1],i.height),h=h||"left",p=p||"top",g){switch(g){case"middle":u-=a.height/2-a.lineHeight/2;break;case"bottom":u-=a.height-a.lineHeight/2;break;default:u+=a.lineHeight/2}p="middle"}}else{var v=n.adjustTextPositionOnRect(c,i,a,d);l=v.x,u=v.y,h=h||v.textAlign,p=p||v.textBaseline}e.textAlign=h||"left",e.textBaseline=p||"alphabetic";var y=o.textFill,_=o.textStroke;y&&(e.fillStyle=y),_&&(e.strokeStyle=_),e.font=f,e.shadowBlur=o.textShadowBlur,e.shadowColor=o.textShadowColor||"transparent",e.shadowOffsetX=o.textShadowOffsetX,e.shadowOffsetY=o.textShadowOffsetY;for(var b=s.split("\n"),x=0;x<b.length;x++)y&&e.fillText(b[x],l,u),_&&e.strokeText(b[x],l,u),u+=a.lineHeight;e.restore()}}},a}),t("zrender/vml/core",["require","exports","module","../core/env"],function(e,t,n){if(!e("../core/env").canvasSupported){var i,r="urn:schemas-microsoft-com:vml",a=window,o=a.document,s=!1;try{!o.namespaces.zrvml&&o.namespaces.add("zrvml",r),i=function(e){return o.createElement("<zrvml:"+e+' class="zrvml">')}}catch(l){i=function(e){return o.createElement("<"+e+' xmlns="'+r+'" class="zrvml">')}}var u=function(){if(!s){s=!0;var e=o.styleSheets;e.length<31?o.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):e[0].addRule(".zrvml","behavior:url(#default#VML)")}};n.exports={doc:o,initVML:u,createNode:i}}}),t("zrender/contain/path",["require","../core/PathProxy","./line","./cubic","./quadratic","./arc","./util","../core/curve","./windingLine"],function(e){"use strict";function t(e,t){return Math.abs(e-t)<v}function n(){var e=_[0];_[0]=_[1],_[1]=e}function i(e,t,i,r,a,o,s,l,u,c){if(c>t&&c>r&&c>o&&c>l||c<t&&c<r&&c<o&&c<l)return 0;var d=f.cubicRootAt(t,r,o,l,c,y);if(0===d)return 0;for(var h,p,g=0,m=-1,v=0;v<d;v++){var b=y[v],x=0===b||1===b?.5:1,w=f.cubicAt(e,i,a,s,b);w<u||(m<0&&(m=f.cubicExtrema(t,r,o,l,_),_[1]<_[0]&&m>1&&n(),h=f.cubicAt(t,r,o,l,_[0]),m>1&&(p=f.cubicAt(t,r,o,l,_[1]))),g+=2==m?b<_[0]?h<t?x:-x:b<_[1]?p<h?x:-x:l<p?x:-x:b<_[0]?h<t?x:-x:l<h?x:-x)}return g}function r(e,t,n,i,r,a,o,s){if(s>t&&s>i&&s>a||s<t&&s<i&&s<a)return 0;var l=f.quadraticRootAt(t,i,a,s,y);if(0===l)return 0;var u=f.quadraticExtremum(t,i,a);if(u>=0&&u<=1){for(var c=0,d=f.quadraticAt(t,i,a,u),h=0;h<l;h++){var p=0===y[h]||1===y[h]?.5:1,g=f.quadraticAt(e,n,r,y[h]);g<o||(c+=y[h]<u?d<t?p:-p:a<d?p:-p)}return c}var p=0===y[0]||1===y[0]?.5:1,g=f.quadraticAt(e,n,r,y[0]);return g<o?0:a<t?p:-p}function a(e,t,n,i,r,a,o,s){if(s-=t,s>n||s<-n)return 0;var l=Math.sqrt(n*n-s*s);y[0]=-l,y[1]=l;var u=Math.abs(i-r);if(u<1e-4)return 0;if(u%m<1e-4){i=0,r=m;var c=a?1:-1;return o>=y[0]+e&&o<=y[1]+e?c:0}if(a){var l=i;i=h(r),r=h(l)}else i=h(i),r=h(r);i>r&&(r+=m);for(var d=0,f=0;f<2;f++){var p=y[f];if(p+e>o){var g=Math.atan2(s,p),c=a?1:-1;g<0&&(g=m+g),(g>=i&&g<=r||g+m>=i&&g+m<=r)&&(g>Math.PI/2&&g<1.5*Math.PI&&(c=-c),d+=c)}}return d}function o(e,n,o,l,h){for(var f=0,m=0,v=0,y=0,_=0,b=0;b<e.length;){var x=e[b++];switch(x===s.M&&b>1&&(o||(f+=p(m,v,y,_,l,h))),1==b&&(m=e[b],v=e[b+1],y=m,_=v),x){case s.M:y=e[b++],_=e[b++],m=y,v=_;break;case s.L:if(o){if(g(m,v,e[b],e[b+1],n,l,h))return!0}else f+=p(m,v,e[b],e[b+1],l,h)||0;m=e[b++],v=e[b++];break;case s.C:if(o){if(u.containStroke(m,v,e[b++],e[b++],e[b++],e[b++],e[b],e[b+1],n,l,h))return!0}else f+=i(m,v,e[b++],e[b++],e[b++],e[b++],e[b],e[b+1],l,h)||0;m=e[b++],v=e[b++];break;case s.Q:if(o){if(c.containStroke(m,v,e[b++],e[b++],e[b],e[b+1],n,l,h))return!0}else f+=r(m,v,e[b++],e[b++],e[b],e[b+1],l,h)||0;m=e[b++],v=e[b++];break;case s.A:var w=e[b++],k=e[b++],S=e[b++],E=e[b++],T=e[b++],C=e[b++],D=(e[b++],1-e[b++]),M=Math.cos(T)*S+w,A=Math.sin(T)*E+k;b>1?f+=p(m,v,M,A,l,h):(y=M,_=A);var R=(l-w)*E/S+w;if(o){if(d.containStroke(w,k,E,T,T+C,D,n,R,h))return!0}else f+=a(w,k,E,T,T+C,D,R,h);m=Math.cos(T+C)*S+w,v=Math.sin(T+C)*E+k;break;case s.R:y=m=e[b++],_=v=e[b++];var I=e[b++],O=e[b++],M=y+I,A=_+O;if(o){if(g(y,_,M,_,n,l,h)||g(M,_,M,A,n,l,h)||g(M,A,y,A,n,l,h)||g(y,A,y,_,n,l,h))return!0}else f+=p(M,_,M,A,l,h),f+=p(y,A,y,_,l,h);break;case s.Z:if(o){if(g(m,v,y,_,n,l,h))return!0}else f+=p(m,v,y,_,l,h);m=y,v=_}}return o||t(v,_)||(f+=p(m,v,y,_,l,h)||0),0!==f}var s=e("../core/PathProxy").CMD,l=e("./line"),u=e("./cubic"),c=e("./quadratic"),d=e("./arc"),h=e("./util").normalizeRadian,f=e("../core/curve"),p=e("./windingLine"),g=l.containStroke,m=2*Math.PI,v=1e-4,y=[-1,-1,-1],_=[-1,-1];return{contain:function(e,t,n){return o(e,0,!1,t,n)},containStroke:function(e,t,n,i){return o(e,t,!0,n,i)}}}),t("zrender/tool/transformPath",["require","../core/PathProxy","../core/vector"],function(e){function t(e,t){var i,l,u,c,d,h,f=e.data,p=n.M,g=n.C,m=n.L,v=n.R,y=n.A,_=n.Q;for(u=0,c=0;u<f.length;){switch(i=f[u++],c=u,l=0,i){case p:l=1;break;case m:l=1;break;case g:l=3;break;case _:l=2;break;case y:var b=t[4],x=t[5],w=o(t[0]*t[0]+t[1]*t[1]),k=o(t[2]*t[2]+t[3]*t[3]),S=s(-t[1]/k,t[0]/w);f[u++]+=b,f[u++]+=x,f[u++]*=w,f[u++]*=k,f[u++]+=S,f[u++]+=S,u+=2,c=u;break;case v:h[0]=f[u++],h[1]=f[u++],r(h,h,t),f[c++]=h[0],f[c++]=h[1],h[0]+=f[u++],h[1]+=f[u++],r(h,h,t),f[c++]=h[0],f[c++]=h[1]}for(d=0;d<l;d++){var h=a[d];h[0]=f[u++],h[1]=f[u++],r(h,h,t),f[c++]=h[0],f[c++]=h[1]}}}var n=e("../core/PathProxy").CMD,i=e("../core/vector"),r=i.applyTransform,a=[[],[],[]],o=Math.sqrt,s=Math.atan2;return t}),t("zrender/graphic/Pattern",["require"],function(e){var t=function(e,t){this.image=e,this.repeat=t,this.type="pattern"};return t.prototype.getCanvasPattern=function(e){return this._canvasPattern||(this._canvasPattern=e.createPattern(this.image,this.repeat))},t}),t("echarts/scale/Ordinal",["require","zrender/core/util","./Scale"],function(e){var t=e("zrender/core/util"),n=e("./Scale"),i=n.prototype,r=n.extend({type:"ordinal",init:function(e,t){this._data=e,this._extent=t||[0,e.length-1]},parse:function(e){return"string"==typeof e?t.indexOf(this._data,e):Math.round(e)},contain:function(e){return e=this.parse(e),i.contain.call(this,e)&&null!=this._data[e]},normalize:function(e){return i.normalize.call(this,this.parse(e))},scale:function(e){return Math.round(i.scale.call(this,e))},getTicks:function(){for(var e=[],t=this._extent,n=t[0];n<=t[1];)e.push(n),n++;return e},getLabel:function(e){return this._data[e]},count:function(){return this._extent[1]-this._extent[0]+1},niceTicks:t.noop,niceExtent:t.noop});return r.create=function(){return new r},r}),t("echarts/model/mixin/makeStyleMapper",["require","zrender/core/util"],function(e){var t=e("zrender/core/util");return function(e){for(var n=0;n<e.length;n++)e[n][1]||(e[n][1]=e[n][0]);return function(n){for(var i={},r=0;r<e.length;r++){var a=e[r][1];if(!(n&&t.indexOf(n,a)>=0)){var o=this.getShallow(a);null!=o&&(i[e[r][0]]=o)}}return i}}}),t("zrender/graphic/Style",["require"],function(e){function t(e,t,n){var i=t.x,r=t.x2,a=t.y,o=t.y2;t.global||(i=i*n.width+n.x,r=r*n.width+n.x,a=a*n.height+n.y,o=o*n.height+n.y);var s=e.createLinearGradient(i,a,r,o);return s}function n(e,t,n){var i=n.width,r=n.height,a=Math.min(i,r),o=t.x,s=t.y,l=t.r;t.global||(o=o*i+n.x,s=s*r+n.y,l*=a);var u=e.createRadialGradient(o,s,0,o,s,l);return u}var i=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],r=function(e){this.extendFrom(e)};r.prototype={constructor:r,fill:"#000000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,textFill:"#000",textStroke:null,textPosition:"inside",textBaseline:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,blend:null,bind:function(e,t,n){for(var r=this,a=n&&n.style,o=!a,s=0;s<i.length;s++){var l=i[s],u=l[0];(o||r[u]!==a[u])&&(e[u]=r[u]||l[1])}if((o||r.fill!==a.fill)&&(e.fillStyle=r.fill),(o||r.stroke!==a.stroke)&&(e.strokeStyle=r.stroke),
(o||r.opacity!==a.opacity)&&(e.globalAlpha=null==r.opacity?1:r.opacity),(o||r.blend!==a.blend)&&(e.globalCompositeOperation=r.blend||"source-over"),this.hasStroke()){var c=r.lineWidth;e.lineWidth=c/(this.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1)}},hasFill:function(){var e=this.fill;return null!=e&&"none"!==e},hasStroke:function(){var e=this.stroke;return null!=e&&"none"!==e&&this.lineWidth>0},extendFrom:function(e,t){if(e){var n=this;for(var i in e)!e.hasOwnProperty(i)||!t&&n.hasOwnProperty(i)||(n[i]=e[i])}},set:function(e,t){"string"==typeof e?this[e]=t:this.extendFrom(e,!0)},clone:function(){var e=new this.constructor;return e.extendFrom(this,!0),e},getGradient:function(e,i,r){for(var a="radial"===i.type?n:t,o=a(e,i,r),s=i.colorStops,l=0;l<s.length;l++)o.addColorStop(s[l].offset,s[l].color);return o}};for(var a=r.prototype,o=0;o<i.length;o++){var s=i[o];s[0]in a||(a[s[0]]=s[1])}return r.getGradient=a.getGradient,r}),t("zrender/Element",["require","./core/guid","./mixin/Eventful","./mixin/Transformable","./mixin/Animatable","./core/util"],function(e){"use strict";var t=e("./core/guid"),n=e("./mixin/Eventful"),i=e("./mixin/Transformable"),r=e("./mixin/Animatable"),a=e("./core/util"),o=function(e){i.call(this,e),n.call(this,e),r.call(this,e),this.id=e.id||t()};return o.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function(e,t){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=e,n[5]+=t,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(e,t){},attrKV:function(e,t){if("position"===e||"scale"===e||"origin"===e){if(t){var n=this[e];n||(n=this[e]=[]),n[0]=t[0],n[1]=t[1]}}else this[e]=t},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(e,t){if("string"==typeof e)this.attrKV(e,t);else if(a.isObject(e))for(var n in e)e.hasOwnProperty(n)&&this.attrKV(n,e[n]);return this.dirty(!1),this},setClipPath:function(e){var t=this.__zr;t&&e.addSelfToZr(t),this.clipPath&&this.clipPath!==e&&this.removeClipPath(),this.clipPath=e,e.__zr=t,e.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var e=this.clipPath;e&&(e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(e){this.__zr=e;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.addAnimator(t[n]);this.clipPath&&this.clipPath.addSelfToZr(e)},removeSelfFromZr:function(e){this.__zr=null;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.removeAnimator(t[n]);this.clipPath&&this.clipPath.removeSelfFromZr(e)}},a.mixin(o,r),a.mixin(o,i),a.mixin(o,n),o}),t("zrender/core/curve",["require","./vector"],function(e){"use strict";function t(e){return e>-b&&e<b}function n(e){return e>b||e<-b}function i(e,t,n,i,r){var a=1-r;return a*a*(a*e+3*r*t)+r*r*(r*i+3*a*n)}function r(e,t,n,i,r){var a=1-r;return 3*(((t-e)*a+2*(n-t)*r)*a+(i-n)*r*r)}function a(e,n,i,r,a,o){var s=r+3*(n-i)-e,l=3*(i-2*n+e),u=3*(n-e),c=e-a,d=l*l-3*s*u,h=l*u-9*s*c,f=u*u-3*l*c,p=0;if(t(d)&&t(h))if(t(l))o[0]=0;else{var g=-u/l;g>=0&&g<=1&&(o[p++]=g)}else{var m=h*h-4*d*f;if(t(m)){var v=h/d,g=-l/s+v,b=-v/2;g>=0&&g<=1&&(o[p++]=g),b>=0&&b<=1&&(o[p++]=b)}else if(m>0){var x=_(m),S=d*l+1.5*s*(-h+x),E=d*l+1.5*s*(-h-x);S=S<0?-y(-S,k):y(S,k),E=E<0?-y(-E,k):y(E,k);var g=(-l-(S+E))/(3*s);g>=0&&g<=1&&(o[p++]=g)}else{var T=(2*d*l-3*s*h)/(2*_(d*d*d)),C=Math.acos(T)/3,D=_(d),M=Math.cos(C),g=(-l-2*D*M)/(3*s),b=(-l+D*(M+w*Math.sin(C)))/(3*s),A=(-l+D*(M-w*Math.sin(C)))/(3*s);g>=0&&g<=1&&(o[p++]=g),b>=0&&b<=1&&(o[p++]=b),A>=0&&A<=1&&(o[p++]=A)}}return p}function o(e,i,r,a,o){var s=6*r-12*i+6*e,l=9*i+3*a-3*e-9*r,u=3*i-3*e,c=0;if(t(l)){if(n(s)){var d=-u/s;d>=0&&d<=1&&(o[c++]=d)}}else{var h=s*s-4*l*u;if(t(h))o[0]=-s/(2*l);else if(h>0){var f=_(h),d=(-s+f)/(2*l),p=(-s-f)/(2*l);d>=0&&d<=1&&(o[c++]=d),p>=0&&p<=1&&(o[c++]=p)}}return c}function s(e,t,n,i,r,a){var o=(t-e)*r+e,s=(n-t)*r+t,l=(i-n)*r+n,u=(s-o)*r+o,c=(l-s)*r+s,d=(c-u)*r+u;a[0]=e,a[1]=o,a[2]=u,a[3]=d,a[4]=d,a[5]=c,a[6]=l,a[7]=i}function l(e,t,n,r,a,o,s,l,u,c,d){var h,f,p,g,m,y=.005,b=1/0;S[0]=u,S[1]=c;for(var w=0;w<1;w+=.05)E[0]=i(e,n,a,s,w),E[1]=i(t,r,o,l,w),g=v(S,E),g<b&&(h=w,b=g);b=1/0;for(var k=0;k<32&&!(y<x);k++)f=h-y,p=h+y,E[0]=i(e,n,a,s,f),E[1]=i(t,r,o,l,f),g=v(E,S),f>=0&&g<b?(h=f,b=g):(T[0]=i(e,n,a,s,p),T[1]=i(t,r,o,l,p),m=v(T,S),p<=1&&m<b?(h=p,b=m):y*=.5);return d&&(d[0]=i(e,n,a,s,h),d[1]=i(t,r,o,l,h)),_(b)}function u(e,t,n,i){var r=1-i;return r*(r*e+2*i*t)+i*i*n}function c(e,t,n,i){return 2*((1-i)*(t-e)+i*(n-t))}function d(e,i,r,a,o){var s=e-2*i+r,l=2*(i-e),u=e-a,c=0;if(t(s)){if(n(l)){var d=-u/l;d>=0&&d<=1&&(o[c++]=d)}}else{var h=l*l-4*s*u;if(t(h)){var d=-l/(2*s);d>=0&&d<=1&&(o[c++]=d)}else if(h>0){var f=_(h),d=(-l+f)/(2*s),p=(-l-f)/(2*s);d>=0&&d<=1&&(o[c++]=d),p>=0&&p<=1&&(o[c++]=p)}}return c}function h(e,t,n){var i=e+n-2*t;return 0===i?.5:(e-t)/i}function f(e,t,n,i,r){var a=(t-e)*i+e,o=(n-t)*i+t,s=(o-a)*i+a;r[0]=e,r[1]=a,r[2]=s,r[3]=s,r[4]=o,r[5]=n}function p(e,t,n,i,r,a,o,s,l){var c,d=.005,h=1/0;S[0]=o,S[1]=s;for(var f=0;f<1;f+=.05){E[0]=u(e,n,r,f),E[1]=u(t,i,a,f);var p=v(S,E);p<h&&(c=f,h=p)}h=1/0;for(var g=0;g<32&&!(d<x);g++){var m=c-d,y=c+d;E[0]=u(e,n,r,m),E[1]=u(t,i,a,m);var p=v(E,S);if(m>=0&&p<h)c=m,h=p;else{T[0]=u(e,n,r,y),T[1]=u(t,i,a,y);var b=v(T,S);y<=1&&b<h?(c=y,h=b):d*=.5}}return l&&(l[0]=u(e,n,r,c),l[1]=u(t,i,a,c)),_(h)}var g=e("./vector"),m=g.create,v=g.distSquare,y=Math.pow,_=Math.sqrt,b=1e-8,x=1e-4,w=_(3),k=1/3,S=m(),E=m(),T=m();return{cubicAt:i,cubicDerivativeAt:r,cubicRootAt:a,cubicExtrema:o,cubicSubdivide:s,cubicProjectPoint:l,quadraticAt:u,quadraticDerivativeAt:c,quadraticRootAt:d,quadraticExtremum:h,quadraticSubdivide:f,quadraticProjectPoint:p}}),t("zrender/config",[],function(){var e=1;"undefined"!=typeof window&&(e=Math.max(window.devicePixelRatio||1,1));var t={debugMode:0,devicePixelRatio:e};return t}),t("zrender/core/bbox",["require","./vector","./curve"],function(e){var t=e("./vector"),n=e("./curve"),i={},r=Math.min,a=Math.max,o=Math.sin,s=Math.cos,l=t.create(),u=t.create(),c=t.create(),d=2*Math.PI;i.fromPoints=function(e,t,n){if(0!==e.length){var i,o=e[0],s=o[0],l=o[0],u=o[1],c=o[1];for(i=1;i<e.length;i++)o=e[i],s=r(s,o[0]),l=a(l,o[0]),u=r(u,o[1]),c=a(c,o[1]);t[0]=s,t[1]=u,n[0]=l,n[1]=c}},i.fromLine=function(e,t,n,i,o,s){o[0]=r(e,n),o[1]=r(t,i),s[0]=a(e,n),s[1]=a(t,i)};var h=[],f=[];return i.fromCubic=function(e,t,i,o,s,l,u,c,d,p){var g,m=n.cubicExtrema,v=n.cubicAt,y=m(e,i,s,u,h);for(d[0]=1/0,d[1]=1/0,p[0]=-(1/0),p[1]=-(1/0),g=0;g<y;g++){var _=v(e,i,s,u,h[g]);d[0]=r(_,d[0]),p[0]=a(_,p[0])}for(y=m(t,o,l,c,f),g=0;g<y;g++){var b=v(t,o,l,c,f[g]);d[1]=r(b,d[1]),p[1]=a(b,p[1])}d[0]=r(e,d[0]),p[0]=a(e,p[0]),d[0]=r(u,d[0]),p[0]=a(u,p[0]),d[1]=r(t,d[1]),p[1]=a(t,p[1]),d[1]=r(c,d[1]),p[1]=a(c,p[1])},i.fromQuadratic=function(e,t,i,o,s,l,u,c){var d=n.quadraticExtremum,h=n.quadraticAt,f=a(r(d(e,i,s),1),0),p=a(r(d(t,o,l),1),0),g=h(e,i,s,f),m=h(t,o,l,p);u[0]=r(e,s,g),u[1]=r(t,l,m),c[0]=a(e,s,g),c[1]=a(t,l,m)},i.fromArc=function(e,n,i,r,a,h,f,p,g){var m=t.min,v=t.max,y=Math.abs(a-h);if(y%d<1e-4&&y>1e-4)return p[0]=e-i,p[1]=n-r,g[0]=e+i,void(g[1]=n+r);if(l[0]=s(a)*i+e,l[1]=o(a)*r+n,u[0]=s(h)*i+e,u[1]=o(h)*r+n,m(p,l,u),v(g,l,u),a%=d,a<0&&(a+=d),h%=d,h<0&&(h+=d),a>h&&!f?h+=d:a<h&&f&&(a+=d),f){var _=h;h=a,a=_}for(var b=0;b<h;b+=Math.PI/2)b>a&&(c[0]=s(b)*i+e,c[1]=o(b)*r+n,m(p,c,p),v(g,c,g))},i}),t("echarts/coord/cartesian/Cartesian",["require","zrender/core/util"],function(e){"use strict";function t(e){return this._axes[e]}var n=e("zrender/core/util"),i=function(e){this._axes={},this._dimList=[],this.name=e||""};return i.prototype={constructor:i,type:"cartesian",getAxis:function(e){return this._axes[e]},getAxes:function(){return n.map(this._dimList,t,this)},getAxesByScale:function(e){return e=e.toLowerCase(),n.filter(this.getAxes(),function(t){return t.scale.type===e})},addAxis:function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},dataToCoord:function(e){return this._dataCoordConvert(e,"dataToCoord")},coordToData:function(e){return this._dataCoordConvert(e,"coordToData")},_dataCoordConvert:function(e,t){for(var n=this._dimList,i=e instanceof Array?[]:{},r=0;r<n.length;r++){var a=n[r],o=this._axes[a];i[a]=o[t](e[a])}return i}},i}),t("echarts/util/component",["require","zrender/core/util","./clazz"],function(e){var t=e("zrender/core/util"),n=e("./clazz"),i=n.parseClassType,r=0,a={},o="_";return a.getUID=function(e){return[e||"",r++,Math.random()].join(o)},a.enableSubTypeDefaulter=function(e){var t={};return e.registerSubTypeDefaulter=function(e,n){e=i(e),t[e.main]=n},e.determineSubType=function(n,r){var a=r.type;if(!a){var o=i(n).main;e.hasSubTypes(n)&&t[o]&&(a=t[o](r))}return a},e},a.enableTopologicalTravel=function(e,n){function i(e){var i={},o=[];return t.each(e,function(s){var l=r(i,s),u=l.originalDeps=n(s),c=a(u,e);l.entryCount=c.length,0===l.entryCount&&o.push(s),t.each(c,function(e){t.indexOf(l.predecessor,e)<0&&l.predecessor.push(e);var n=r(i,e);t.indexOf(n.successor,e)<0&&n.successor.push(s)})}),{graph:i,noEntryList:o}}function r(e,t){return e[t]||(e[t]={predecessor:[],successor:[]}),e[t]}function a(e,n){var i=[];return t.each(e,function(e){t.indexOf(n,e)>=0&&i.push(e)}),i}e.topologicalTravel=function(e,n,r,a){function o(e){u[e].entryCount--,0===u[e].entryCount&&c.push(e)}function s(e){d[e]=!0,o(e)}if(e.length){var l=i(n),u=l.graph,c=l.noEntryList,d={};for(t.each(e,function(e){d[e]=!0});c.length;){var h=c.pop(),f=u[h],p=!!d[h];p&&(r.call(a,h,f.originalDeps.slice()),delete d[h]),t.each(f.successor,p?s:o)}t.each(d,function(){throw new Error("Circle dependency may exists")})}}},a}),t("echarts/model/mixin/boxLayout",["require"],function(e){return{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}}),t("zrender/core/guid",[],function(){var e=2311;return function(){return e++}}),t("zrender/mixin/Transformable",["require","../core/matrix","../core/vector"],function(e){"use strict";function t(e){return e>a||e<-a}var n=e("../core/matrix"),i=e("../core/vector"),r=n.identity,a=5e-5,o=function(e){e=e||{},e.position||(this.position=[0,0]),null==e.rotation&&(this.rotation=0),e.scale||(this.scale=[1,1]),this.origin=this.origin||null},s=o.prototype;s.transform=null,s.needLocalTransform=function(){return t(this.rotation)||t(this.position[0])||t(this.position[1])||t(this.scale[0]-1)||t(this.scale[1]-1)},s.updateTransform=function(){var e=this.parent,t=e&&e.transform,i=this.needLocalTransform(),a=this.transform;return i||t?(a=a||n.create(),i?this.getLocalTransform(a):r(a),t&&(i?n.mul(a,e.transform,a):n.copy(a,e.transform)),this.transform=a,this.invTransform=this.invTransform||n.create(),void n.invert(this.invTransform,a)):void(a&&r(a))},s.getLocalTransform=function(e){e=e||[],r(e);var t=this.origin,i=this.scale,a=this.rotation,o=this.position;return t&&(e[4]-=t[0],e[5]-=t[1]),n.scale(e,e,i),a&&n.rotate(e,e,a),t&&(e[4]+=t[0],e[5]+=t[1]),e[4]+=o[0],e[5]+=o[1],e},s.setTransform=function(e){var t=this.transform;t&&e.transform(t[0],t[1],t[2],t[3],t[4],t[5])},s.restoreTransform=function(e){var t=this.invTransform;t&&e.transform(t[0],t[1],t[2],t[3],t[4],t[5])};var l=[];return s.decomposeTransform=function(){if(this.transform){var e=this.parent,i=this.transform;e&&e.transform&&(n.mul(l,e.invTransform,i),i=l);var r=i[0]*i[0]+i[1]*i[1],a=i[2]*i[2]+i[3]*i[3],o=this.position,s=this.scale;t(r-1)&&(r=Math.sqrt(r)),t(a-1)&&(a=Math.sqrt(a)),i[0]<0&&(r=-r),i[3]<0&&(a=-a),o[0]=i[4],o[1]=i[5],s[0]=r,s[1]=a,this.rotation=Math.atan2(-i[1]/a,i[0]/r)}},s.getGlobalScale=function(){var e=this.transform;if(!e)return[1,1];var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]),n=Math.sqrt(e[2]*e[2]+e[3]*e[3]);return e[0]<0&&(t=-t),e[3]<0&&(n=-n),[t,n]},s.transformCoordToLocal=function(e,t){var n=[e,t],r=this.invTransform;return r&&i.applyTransform(n,n,r),n},s.transformCoordToGlobal=function(e,t){var n=[e,t],r=this.transform;return r&&i.applyTransform(n,n,r),n},o}),t("zrender/mixin/Animatable",["require","../animation/Animator","../core/util","../core/log"],function(e){"use strict";var t=e("../animation/Animator"),n=e("../core/util"),i=n.isString,r=n.isFunction,a=n.isObject,o=e("../core/log"),s=function(){this.animators=[]};return s.prototype={constructor:s,animate:function(e,i){var r,a=!1,s=this,l=this.__zr;if(e){var u=e.split("."),c=s;a="shape"===u[0];for(var d=0,h=u.length;d<h;d++)c&&(c=c[u[d]]);c&&(r=c)}else r=s;if(!r)return void o('Property "'+e+'" is not existed in element '+s.id);var f=s.animators,p=new t(r,i);return p.during(function(e){s.dirty(a)}).done(function(){f.splice(n.indexOf(f,p),1)}),f.push(p),l&&l.animation.addAnimator(p),p},stopAnimation:function(e){for(var t=this.animators,n=t.length,i=0;i<n;i++)t[i].stop(e);return t.length=0,this},animateTo:function(e,t,n,a,o){function s(){u--,u||o&&o()}i(n)?(o=a,a=n,n=0):r(a)?(o=a,a="linear",n=0):r(n)?(o=n,n=0):r(t)?(o=t,t=500):t||(t=500),this.stopAnimation(),this._animateToShallow("",this,e,t,n,a,o);var l=this.animators.slice(),u=l.length;u||o&&o();for(var c=0;c<l.length;c++)l[c].done(s).start(a)},_animateToShallow:function(e,t,i,r,o){var s={},l=0;for(var u in i)if(null!=t[u])a(i[u])&&!n.isArrayLike(i[u])?this._animateToShallow(e?e+"."+u:u,t[u],i[u],r,o):(s[u]=i[u],l++);else if(null!=i[u])if(e){var c={};c[e]={},c[e][u]=i[u],this.attr(c)}else this.attr(u,i[u]);return l>0&&this.animate(e,!1).when(null==r?500:r,s).delay(o||0),this}},s}),t("echarts/coord/Axis",["require","../util/number","zrender/core/util"],function(e){function t(e,t){var n=e[1]-e[0],i=t,r=n/i/2;e[0]+=r,e[1]-=r}var n=e("../util/number"),i=n.linearMap,r=e("zrender/core/util"),a=[0,1],o=function(e,t,n){this.dim=e,this.scale=t,this._extent=n||[0,0],this.inverse=!1,this.onBand=!1};return o.prototype={constructor:o,contain:function(e){var t=this._extent,n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return e>=n&&e<=i},containData:function(e){return this.contain(this.dataToCoord(e))},getExtent:function(){var e=this._extent.slice();return e},getPixelPrecision:function(e){return n.getPixelPrecision(e||this.scale.getExtent(),this._extent)},setExtent:function(e,t){var n=this._extent;n[0]=e,n[1]=t},dataToCoord:function(e,n){var r=this._extent,o=this.scale;return e=o.normalize(e),this.onBand&&"ordinal"===o.type&&(r=r.slice(),t(r,o.count())),i(e,a,r,n)},coordToData:function(e,n){var r=this._extent,o=this.scale;this.onBand&&"ordinal"===o.type&&(r=r.slice(),t(r,o.count()));var s=i(e,r,a,n);return this.scale.scale(s)},getTicksCoords:function(e){if(this.onBand&&!e){for(var t=this.getBands(),n=[],i=0;i<t.length;i++)n.push(t[i][0]);return t[i-1]&&n.push(t[i-1][1]),n}return r.map(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){return r.map(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var e=this.getExtent(),t=[],n=this.scale.count(),i=e[0],r=e[1],a=r-i,o=0;o<n;o++)t.push([a*o/n+i,a*(o+1)/n+i]);return t},getBandWidth:function(){var e=this._extent,t=this.scale.getExtent(),n=t[1]-t[0]+(this.onBand?1:0);0===n&&(n=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/n}},o}),t("echarts/coord/cartesian/axisLabelInterval",["require","zrender/core/util","../axisHelper"],function(e){"use strict";var t=e("zrender/core/util"),n=e("../axisHelper");return function(e){var i=e.model,r=i.getModel("axisLabel"),a=r.get("interval");return"category"!==e.type||"auto"!==a?"auto"===a?0:a:n.getAxisLabelInterval(t.map(e.scale.getTicks(),e.dataToCoord,e),i.getFormattedLabels(),r.getModel("textStyle").getFont(),e.isHorizontal())}}),t("zrender/core/log",["require","../config"],function(e){var t=e("../config");return function(){if(0!==t.debugMode)if(1==t.debugMode)for(var e in arguments)throw new Error(arguments[e]);else if(t.debugMode>1)for(var e in arguments)console.log(arguments[e])}}),t("zrender/animation/Animator",["require","./Clip","../tool/color","../core/util"],function(e){function t(e,t){return e[t]}function n(e,t,n){e[t]=n}function i(e,t,n){return(t-e)*n+e}function r(e,t,n){return n>.5?t:e}function a(e,t,n,r,a){var o=e.length;if(1==a)for(var s=0;s<o;s++)r[s]=i(e[s],t[s],n);else for(var l=e[0].length,s=0;s<o;s++)for(var u=0;u<l;u++)r[s][u]=i(e[s][u],t[s][u],n)}function o(e,t,n){var i=e.length,r=t.length;if(i!==r){var a=i>r;if(a)e.length=r;else for(var o=i;o<r;o++)e.push(1===n?t[o]:v.call(t[o]))}for(var s=e[0]&&e[0].length,o=0;o<e.length;o++)if(1===n)isNaN(e[o])&&(e[o]=t[o]);else for(var l=0;l<s;l++)isNaN(e[o][l])&&(e[o][l]=t[o][l])}function s(e,t,n){if(e===t)return!0;var i=e.length;if(i!==t.length)return!1;if(1===n){for(var r=0;r<i;r++)if(e[r]!==t[r])return!1}else for(var a=e[0].length,r=0;r<i;r++)for(var o=0;o<a;o++)if(e[r][o]!==t[r][o])return!1;return!0}function l(e,t,n,i,r,a,o,s,l){var c=e.length;if(1==l)for(var d=0;d<c;d++)s[d]=u(e[d],t[d],n[d],i[d],r,a,o);else for(var h=e[0].length,d=0;d<c;d++)for(var f=0;f<h;f++)s[d][f]=u(e[d][f],t[d][f],n[d][f],i[d][f],r,a,o)}function u(e,t,n,i,r,a,o){var s=.5*(n-e),l=.5*(i-t);return(2*(t-n)+s+l)*o+(-3*(t-n)-2*s-l)*a+s*r+t}function c(e){if(m(e)){var t=e.length;if(m(e[0])){for(var n=[],i=0;i<t;i++)n.push(v.call(e[i]));return n}return v.call(e)}return e}function d(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),"rgba("+e.join(",")+")"}function h(e,t,n,c,h){var g=e._getter,v=e._setter,y="spline"===t,_=c.length;if(_){var b,x=c[0].value,w=m(x),k=!1,S=!1,E=w&&m(x[0])?2:1;c.sort(function(e,t){return e.time-t.time}),b=c[_-1].time;for(var T=[],C=[],D=c[0].value,M=!0,A=0;A<_;A++){T.push(c[A].time/b);var R=c[A].value;if(w&&s(R,D,E)||!w&&R===D||(M=!1),D=R,"string"==typeof R){var I=p.parse(R);I?(R=I,k=!0):S=!0}C.push(R)}if(!M){for(var O=C[_-1],A=0;A<_-1;A++)w?o(C[A],O,E):!isNaN(C[A])||isNaN(O)||S||k||(C[A]=O);w&&o(g(e._target,h),O,E);var P,L,F,N,z,U,B=0,$=0;if(k)var H=[0,0,0,0];var q=function(e,t){var n;if(t<$){for(P=Math.min(B+1,_-1),n=P;n>=0&&!(T[n]<=t);n--);n=Math.min(n,_-2)}else{for(n=B;n<_&&!(T[n]>t);n++);n=Math.min(n-1,_-2)}B=n,$=t;var o=T[n+1]-T[n];if(0!==o)if(L=(t-T[n])/o,y)if(N=C[n],F=C[0===n?n:n-1],z=C[n>_-2?_-1:n+1],U=C[n>_-3?_-1:n+2],w)l(F,N,z,U,L,L*L,L*L*L,g(e,h),E);else{var s;if(k)s=l(F,N,z,U,L,L*L,L*L*L,H,1),s=d(H);else{if(S)return r(N,z,L);s=u(F,N,z,U,L,L*L,L*L*L)}v(e,h,s)}else if(w)a(C[n],C[n+1],L,g(e,h),E);else{var s;if(k)a(C[n],C[n+1],L,H,1),s=d(H);else{if(S)return r(C[n],C[n+1],L);s=i(C[n],C[n+1],L)}v(e,h,s)}},W=new f({target:e._target,life:b,loop:e._loop,delay:e._delay,onframe:q,ondestroy:n});return t&&"spline"!==t&&(W.easing=t),W}}}var f=e("./Clip"),p=e("../tool/color"),g=e("../core/util"),m=g.isArrayLike,v=Array.prototype.slice,y=function(e,i,r,a){this._tracks={},this._target=e,this._loop=i||!1,this._getter=r||t,this._setter=a||n,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};return y.prototype={when:function(e,t){var n=this._tracks;for(var i in t){if(!n[i]){n[i]=[];var r=this._getter(this._target,i);if(null==r)continue;0!==e&&n[i].push({time:0,value:c(r)})}n[i].push({time:e,value:t[i]})}return this},during:function(e){return this._onframeList.push(e),this},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var e=this._doneList,t=e.length,n=0;n<t;n++)e[n].call(this)},start:function(e){var t,n=this,i=0,r=function(){i--,i||n._doneCallback()};for(var a in this._tracks){var o=h(this,e,r,this._tracks[a],a);o&&(this._clipList.push(o),i++,this.animation&&this.animation.addClip(o),t=o)}if(t){var s=t.onframe;t.onframe=function(e,t){s(e,t);for(var i=0;i<n._onframeList.length;i++)n._onframeList[i](e,t)}}return i||this._doneCallback(),this},stop:function(e){for(var t=this._clipList,n=this.animation,i=0;i<t.length;i++){var r=t[i];e&&r.onframe(this._target,1),n&&n.removeClip(r)}t.length=0},delay:function(e){return this._delay=e,this},done:function(e){return e&&this._doneList.push(e),this},getClips:function(){return this._clipList}},y}),t("echarts/coord/cartesian/AxisModel",["require","../../model/Component","zrender/core/util","../axisModelCreator","../axisModelCommonMixin"],function(e){"use strict";function t(e,t){return t.type||(t.data?"category":"value")}var n=e("../../model/Component"),i=e("zrender/core/util"),r=e("../axisModelCreator"),a=n.extend({type:"cartesian2dAxis",axis:null,init:function(){a.superApply(this,"init",arguments),this._resetRange()},mergeOption:function(){a.superApply(this,"mergeOption",arguments),this._resetRange()},restoreData:function(){a.superApply(this,"restoreData",arguments),this._resetRange()},setRange:function(e,t){this.option.rangeStart=e,this.option.rangeEnd=t},getMin:function(){var e=this.option;return null!=e.rangeStart?e.rangeStart:e.min},getMax:function(){var e=this.option;return null!=e.rangeEnd?e.rangeEnd:e.max},getNeedCrossZero:function(){var e=this.option;return null==e.rangeStart&&null==e.rangeEnd&&!e.scale},_resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}});i.merge(a.prototype,e("../axisModelCommonMixin"));var o={gridIndex:0,offset:0};return r("x",a,t,o),r("y",a,t,o),a}),t("zrender/animation/Clip",["require","./easing"],function(e){function t(e){this._target=e.target,this._life=e.life||1e3,this._delay=e.delay||0,this._initialized=!1,this.loop=null!=e.loop&&e.loop,this.gap=e.gap||0,this.easing=e.easing||"Linear",this.onframe=e.onframe,this.ondestroy=e.ondestroy,this.onrestart=e.onrestart}var n=e("./easing");return t.prototype={constructor:t,step:function(e){this._initialized||(this._startTime=(new Date).getTime()+this._delay,this._initialized=!0);var t=(e-this._startTime)/this._life;if(!(t<0)){t=Math.min(t,1);var i=this.easing,r="string"==typeof i?n[i]:i,a="function"==typeof r?r(t):t;return this.fire("frame",a),1==t?this.loop?(this.restart(),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(){var e=(new Date).getTime(),t=(e-this._startTime)%this._life;this._startTime=(new Date).getTime()-t+this.gap,this._needsRemove=!1},fire:function(e,t){e="on"+e,this[e]&&this[e](this._target,t)}},t}),t("echarts/coord/axisModelCreator",["require","./axisDefault","zrender/core/util","../model/Component","../util/layout"],function(e){var t=e("./axisDefault"),n=e("zrender/core/util"),i=e("../model/Component"),r=e("../util/layout"),a=["value","category","time","log"];return function(e,o,s,l){n.each(a,function(i){o.extend({type:e+"Axis."+i,mergeDefaultAndTheme:function(t,a){var o=this.layoutMode,l=o?r.getLayoutParams(t):{},u=a.getTheme();n.merge(t,u.get(i+"Axis")),n.merge(t,this.getDefaultOption()),t.type=s(e,t),o&&r.mergeLayoutParam(t,l,o)},defaultOption:n.mergeAll([{},t[i+"Axis"],l],!0)})}),i.registerSubTypeDefaulter(e+"Axis",n.curry(s,e))}}),t("echarts/coord/axisModelCommonMixin",["require","zrender/core/util","./axisHelper"],function(e){function t(e){return r.isObject(e)&&null!=e.value?e.value:e}function n(){return"category"===this.get("type")&&r.map(this.get("data"),t)}function i(){return a.getFormattedLabels(this.axis,this.get("axisLabel.formatter"))}var r=e("zrender/core/util"),a=e("./axisHelper");return{getFormattedLabels:i,getCategories:n}}),t("zrender/animation/easing",[],function(){var e={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return 0===e?0:Math.pow(1024,e-1)},exponentialOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,n=.1,i=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=i/4):t=i*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/i)))},elasticOut:function(e){var t,n=.1,i=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=i/4):t=i*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/i)+1)},elasticInOut:function(e){var t,n=.1,i=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=i/4):t=i*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?-.5*(n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/i)):n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/i)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(t){return 1-e.bounceOut(1-t)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(t){return t<.5?.5*e.bounceIn(2*t):.5*e.bounceOut(2*t-1)+.5}};return e}),t("echarts/coord/axisDefault",["require","zrender/core/util"],function(e){var t=e("zrender/core/util"),n={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisLine:{show:!0,onZero:!0,lineStyle:{color:"#333",width:1,type:"solid"}},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},i=t.merge({boundaryGap:!0,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},n),r=t.merge({boundaryGap:[0,0],splitNumber:5},n),a=t.defaults({scale:!0,min:"dataMin",max:"dataMax"},r),o=t.defaults({},r);return o.scale=!0,{categoryAxis:i,valueAxis:r,timeAxis:a,logAxis:o}}),t("zrender/contain/line",[],function(){return{containStroke:function(e,t,n,i,r,a,o){if(0===r)return!1;var s=r,l=0,u=e;if(o>t+s&&o>i+s||o<t-s&&o<i-s||a>e+s&&a>n+s||a<e-s&&a<n-s)return!1;if(e===n)return Math.abs(a-e)<=s/2;l=(t-i)/(e-n),u=(e*i-n*t)/(e-n);var c=l*a-o+u,d=c*c/(l*l+1);return d<=s/2*s/2}}}),t("zrender/contain/cubic",["require","../core/curve"],function(e){var t=e("../core/curve");return{containStroke:function(e,n,i,r,a,o,s,l,u,c,d){if(0===u)return!1;var h=u;if(d>n+h&&d>r+h&&d>o+h&&d>l+h||d<n-h&&d<r-h&&d<o-h&&d<l-h||c>e+h&&c>i+h&&c>a+h&&c>s+h||c<e-h&&c<i-h&&c<a-h&&c<s-h)return!1;var f=t.cubicProjectPoint(e,n,i,r,a,o,s,l,c,d,null);return f<=h/2}}}),t("zrender/contain/quadratic",["require","../core/curve"],function(e){var t=e("../core/curve");return{containStroke:function(e,n,i,r,a,o,s,l,u){if(0===s)return!1;var c=s;if(u>n+c&&u>r+c&&u>o+c||u<n-c&&u<r-c&&u<o-c||l>e+c&&l>i+c&&l>a+c||l<e-c&&l<i-c&&l<a-c)return!1;var d=t.quadraticProjectPoint(e,n,i,r,a,o,l,u,null);return d<=c/2}}}),t("zrender/contain/windingLine",[],function(){return function(e,t,n,i,r,a){if(a>t&&a>i||a<t&&a<i)return 0;if(i===t)return 0;var o=i<t?1:-1,s=(a-t)/(i-t);1!==s&&0!==s||(o=i<t?.5:-.5);var l=s*(n-e)+e;return l>r?o:0}}),t("zrender/contain/arc",["require","./util"],function(e){var t=e("./util").normalizeRadian,n=2*Math.PI;return{containStroke:function(e,i,r,a,o,s,l,u,c){if(0===l)return!1;var d=l;u-=e,c-=i;var h=Math.sqrt(u*u+c*c);if(h-d>r||h+d<r)return!1;if(Math.abs(a-o)%n<1e-4)return!0;if(s){var f=a;a=t(o),o=t(f)}else a=t(a),o=t(o);a>o&&(o+=n);var p=Math.atan2(c,u);return p<0&&(p+=n),p>=a&&p<=o||p+n>=a&&p+n<=o}}}),t("zrender/core/LRU",["require"],function(e){var t=function(){this.head=null,this.tail=null,this._len=0},n=t.prototype;n.insert=function(e){var t=new i(e);return this.insertEntry(t),t},n.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,this.tail=e):this.head=this.tail=e,this._len++},n.remove=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._len--},n.len=function(){return this._len};var i=function(e){this.value=e,this.next,this.prev},r=function(e){this._list=new t,this._map={},this._maxSize=e||10},a=r.prototype;return a.put=function(e,t){var n=this._list,i=this._map;if(null==i[e]){var r=n.len();if(r>=this._maxSize&&r>0){var a=n.head;n.remove(a),delete i[a.key]}var o=n.insert(t);o.key=e,i[e]=o}},a.get=function(e){var t=this._map[e],n=this._list;if(null!=t)return t!==n.tail&&(n.remove(t),n.insertEntry(t)),t.value},a.clear=function(){this._list.clear(),this._map={}},r}),t("zrender/contain/util",["require"],function(e){var t=2*Math.PI;return{normalizeRadian:function(e){return e%=t,e<0&&(e+=t),e}}}),t("echarts/chart/helper/createListFromArray",["require","../../data/List","../../data/helper/completeDimensions","zrender/core/util","../../util/model","../../CoordinateSystem"],function(e){"use strict";function t(e){for(var t=0;t<e.length&&null==e[t];)t++;return e[t]}function n(e){var n=t(e);return null!=n&&!u.isArray(h(n))}function i(e,t,i){if(e=e||[],!u.isArray(e))throw new Error("Invalid data.");var r=t.get("coordinateSystem"),a=p[r],g=d.get(r),m=a&&a(e,t,i),v=m&&m.dimensions;v||(v=g&&g.dimensions||["x","y"],v=l(v,e,v.concat(["value"])));var y=m?m.categoryIndex:-1,_=new s(v,t),b=o(m,e),x={},w=y>=0&&n(e)?function(e,t,n,i){return c.isDataItemOption(e)&&(_.hasItemOption=!0),i===y?n:f(h(e),v[i])}:function(e,t,n,i){var r=h(e),a=f(r&&r[i],v[i]);c.isDataItemOption(e)&&(_.hasItemOption=!0);var o=m&&m.categoryAxesModels;return o&&o[t]&&"string"==typeof a&&(x[t]=x[t]||o[t].getCategories(),a=u.indexOf(x[t],a),a<0&&!isNaN(a)&&(a=+a)),a};return _.hasItemOption=!1,_.initData(e,b,w),_}function r(e){return"category"!==e&&"time"!==e}function a(e){return"category"===e?"ordinal":"time"===e?"time":"float"}function o(e,t){var n,i=[],r=e&&e.dimensions[e.categoryIndex];if(r&&(n=e.categoryAxesModels[r.name]),n){var a=n.getCategories();if(a){var o=t.length;if(u.isArray(t[0])&&t[0].length>1){i=[];for(var s=0;s<o;s++)i[s]=a[t[s][e.categoryIndex||0]]}else i=a.slice(0)}}return i}var s=e("../../data/List"),l=e("../../data/helper/completeDimensions"),u=e("zrender/core/util"),c=e("../../util/model"),d=e("../../CoordinateSystem"),h=c.getDataItemValue,f=c.converDataValue,p={cartesian2d:function(e,t,n){var i=n.getComponent("xAxis",t.get("xAxisIndex")),o=n.getComponent("yAxis",t.get("yAxisIndex"));if(!i)throw new Error('xAxis "'+t.get("xAxisIndex")+'" not found');if(!o)throw new Error('yAxis "'+t.get("yAxisIndex")+'" not found');var s=i.get("type"),u=o.get("type"),c=[{name:"x",type:a(s),stackable:r(s)},{name:"y",type:a(u),stackable:r(u)}],d="category"===s,h="category"===u;l(c,e,["x","y","z"]);var f={};return d&&(f.x=i),h&&(f.y=o),{dimensions:c,categoryIndex:d?0:h?1:-1,categoryAxesModels:f}},polar:function(e,t,n){var i=t.get("polarIndex")||0,o=function(e){return e.get("polarIndex")===i},s=n.findComponents({mainType:"angleAxis",filter:o})[0],u=n.findComponents({mainType:"radiusAxis",filter:o})[0];if(!s)throw new Error("angleAxis option not found");if(!u)throw new Error("radiusAxis option not found");var c=u.get("type"),d=s.get("type"),h=[{name:"radius",type:a(c),stackable:r(c)},{name:"angle",type:a(d),stackable:r(d)}],f="category"===d,p="category"===c;l(h,e,["radius","angle","value"]);var g={};return p&&(g.radius=u),f&&(g.angle=s),{dimensions:h,categoryIndex:f?1:p?0:-1,categoryAxesModels:g
}},geo:function(e,t,n){return{dimensions:l([{name:"lng"},{name:"lat"}],e,["lng","lat","value"])}}};return i}),t("zrender/Storage",["require","./core/util","./core/env","./container/Group","./core/timsort"],function(e){"use strict";function t(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var n=e("./core/util"),i=e("./core/env"),r=e("./container/Group"),a=e("./core/timsort"),o=function(){this._elements={},this._roots=[],this._displayList=[],this._displayListLen=0};return o.prototype={constructor:o,traverse:function(e,t){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,t)},getDisplayList:function(e,t){return t=t||!1,e&&this.updateDisplayList(t),this._displayList},updateDisplayList:function(e){this._displayListLen=0;for(var n=this._roots,r=this._displayList,o=0,s=n.length;o<s;o++)this._updateAndAddDisplayable(n[o],null,e);r.length=this._displayListLen,i.canvasSupported&&a(r,t)},_updateAndAddDisplayable:function(e,t,n){if(!e.ignore||n){e.beforeUpdate(),e.__dirty&&e.update(),e.afterUpdate();var i=e.clipPath;if(i&&(i.parent=e,i.updateTransform(),t?(t=t.slice(),t.push(i)):t=[i]),e.isGroup){for(var r=e._children,a=0;a<r.length;a++){var o=r[a];e.__dirty&&(o.__dirty=!0),this._updateAndAddDisplayable(o,t,n)}e.__dirty=!1}else e.__clipPaths=t,this._displayList[this._displayListLen++]=e}},addRoot:function(e){this._elements[e.id]||(e instanceof r&&e.addChildrenToStorage(this),this.addToMap(e),this._roots.push(e))},delRoot:function(e){if(null==e){for(var t=0;t<this._roots.length;t++){var i=this._roots[t];i instanceof r&&i.delChildrenFromStorage(this)}return this._elements={},this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(e instanceof Array)for(var t=0,a=e.length;t<a;t++)this.delRoot(e[t]);else{var o;o="string"==typeof e?this._elements[e]:e;var s=n.indexOf(this._roots,o);s>=0&&(this.delFromMap(o.id),this._roots.splice(s,1),o instanceof r&&o.delChildrenFromStorage(this))}},addToMap:function(e){return e instanceof r&&(e.__storage=this),e.dirty(),this._elements[e.id]=e,this},get:function(e){return this._elements[e]},delFromMap:function(e){var t=this._elements,n=t[e];return n&&(delete t[e],n instanceof r&&(n.__storage=null)),this},dispose:function(){this._elements=this._renderList=this._roots=null},displayableSortFunc:t},o}),t("zrender/graphic/helper/poly",["require","./smoothSpline","./smoothBezier"],function(e){var t=e("./smoothSpline"),n=e("./smoothBezier");return{buildPath:function(e,i,r){var a=i.points,o=i.smooth;if(a&&a.length>=2){if(o&&"spline"!==o){var s=n(a,o,r,i.smoothConstraint);e.moveTo(a[0][0],a[0][1]);for(var l=a.length,u=0;u<(r?l:l-1);u++){var c=s[2*u],d=s[2*u+1],h=a[(u+1)%l];e.bezierCurveTo(c[0],c[1],d[0],d[1],h[0],h[1])}}else{"spline"===o&&(a=t(a,r)),e.moveTo(a[0][0],a[0][1]);for(var u=1,f=a.length;u<f;u++)e.lineTo(a[u][0],a[u][1])}r&&e.closePath()}}}}),t("zrender/Handler",["require","./core/util","./mixin/Draggable","./mixin/Eventful"],function(e){"use strict";function t(e,t,n){return{type:e,event:n,target:t,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta}}function n(){}function i(e,t,n){if(e[e.rectHover?"rectContain":"contain"](t,n)){for(var i=e;i;){if(i.silent||i.clipPath&&!i.clipPath.contain(t,n))return!1;i=i.parent}return!0}return!1}var r=e("./core/util"),a=e("./mixin/Draggable"),o=e("./mixin/Eventful");n.prototype.dispose=function(){};var s=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove"],l=function(e,t,i){o.call(this),this.storage=e,this.painter=t,i=i||new n,this.proxy=i,i.handler=this,this._hovered,this._lastTouchMoment,this._lastX,this._lastY,a.call(this),r.each(s,function(e){i.on&&i.on(e,this[e],this)},this)};return l.prototype={constructor:l,mousemove:function(e){var t=e.zrX,n=e.zrY,i=this.findHover(t,n,null),r=this._hovered,a=this.proxy;this._hovered=i,a.setCursor&&a.setCursor(i?i.cursor:"default"),r&&i!==r&&r.__zr&&this.dispatchToElement(r,"mouseout",e),this.dispatchToElement(i,"mousemove",e),i&&i!==r&&this.dispatchToElement(i,"mouseover",e)},mouseout:function(e){this.dispatchToElement(this._hovered,"mouseout",e),this.trigger("globalout",{event:e})},resize:function(e){this._hovered=null},dispatch:function(e,t){var n=this[e];n&&n.call(this,t)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},dispatchToElement:function(e,n,i){for(var r="on"+n,a=t(n,e,i),o=e;o&&(o[r]&&(a.cancelBubble=o[r].call(o,a)),o.trigger(n,a),o=o.parent,!a.cancelBubble););a.cancelBubble||(this.trigger(n,a),this.painter&&this.painter.eachOtherLayer(function(e){"function"==typeof e[r]&&e[r].call(e,a),e.trigger&&e.trigger(n,a)}))},findHover:function(e,t,n){for(var r=this.storage.getDisplayList(),a=r.length-1;a>=0;a--)if(!r[a].silent&&r[a]!==n&&!r[a].ignore&&i(r[a],e,t))return r[a]}},r.each(["click","mousedown","mouseup","mousewheel","dblclick"],function(e){l.prototype[e]=function(t){var n=this.findHover(t.zrX,t.zrY,null);if("mousedown"===e)this._downel=n,this._upel=n;else if("mosueup"===e)this._upel=n;else if("click"===e&&this._downel!==this._upel)return;this.dispatchToElement(n,e,t)}}),r.mixin(l,o),r.mixin(l,a),l}),t("zrender/animation/Animation",["require","../core/util","../core/event","./requestAnimationFrame","./Animator"],function(e){"use strict";var t=e("../core/util"),n=e("../core/event").Dispatcher,i=e("./requestAnimationFrame"),r=e("./Animator"),a=function(e){e=e||{},this.stage=e.stage||{},this.onframe=e.onframe||function(){},this._clips=[],this._running=!1,this._time=0,n.call(this)};return a.prototype={constructor:a,addClip:function(e){this._clips.push(e)},addAnimator:function(e){e.animation=this;for(var t=e.getClips(),n=0;n<t.length;n++)this.addClip(t[n])},removeClip:function(e){var n=t.indexOf(this._clips,e);n>=0&&this._clips.splice(n,1)},removeAnimator:function(e){for(var t=e.getClips(),n=0;n<t.length;n++)this.removeClip(t[n]);e.animation=null},_update:function(){for(var e=(new Date).getTime(),t=e-this._time,n=this._clips,i=n.length,r=[],a=[],o=0;o<i;o++){var s=n[o],l=s.step(e);l&&(r.push(l),a.push(s))}for(var o=0;o<i;)n[o]._needsRemove?(n[o]=n[i-1],n.pop(),i--):o++;i=r.length;for(var o=0;o<i;o++)a[o].fire(r[o]);this._time=e,this.onframe(t),this.trigger("frame",t),this.stage.update&&this.stage.update()},start:function(){function e(){t._running&&(i(e),t._update())}var t=this;this._running=!0,this._time=(new Date).getTime(),i(e)},stop:function(){this._running=!1},clear:function(){this._clips=[]},animate:function(e,t){t=t||{};var n=new r(e,t.loop,t.getter,t.setter);return n}},t.mixin(a,n),a}),t("zrender/dom/HandlerProxy",["require","../core/event","../core/util","../mixin/Eventful","../core/env","../core/GestureMgr"],function(e){function t(e){return"mousewheel"===e&&c.browser.firefox?"DOMMouseScroll":e}function n(e,t,n){var i=e._gestureMgr;"start"===n&&i.clear();var r=i.recognize(t,e.handler.findHover(t.zrX,t.zrY,null),e.dom);if("end"===n&&i.clear(),r){var a=r.type;t.gestureEvent=a,e.handler.dispatchToElement(r.target,a,r.event)}}function i(e){e._touching=!0,clearTimeout(e._touchTimer),e._touchTimer=setTimeout(function(){e._touching=!1},700)}function r(){return c.touchEventsSupported}function a(e){function t(e,t){return function(){if(!t._touching)return e.apply(t,arguments)}}for(var n=0;n<v.length;n++){var i=v[n];e._handlers[i]=l.bind(y[i],e)}for(var n=0;n<m.length;n++){var i=m[n];e._handlers[i]=t(y[i],e)}}function o(e){function n(n,i){l.each(n,function(n){h(e,t(n),i._handlers[n])},i)}u.call(this),this.dom=e,this._touching=!1,this._touchTimer,this._gestureMgr=new d,this._handlers={},a(this),r()&&n(v,this),n(m,this)}var s=e("../core/event"),l=e("../core/util"),u=e("../mixin/Eventful"),c=e("../core/env"),d=e("../core/GestureMgr"),h=s.addEventListener,f=s.removeEventListener,p=s.normalizeEvent,g=300,m=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove"],v=["touchstart","touchend","touchmove"],y={mousemove:function(e){e=p(this.dom,e),this.trigger("mousemove",e)},mouseout:function(e){e=p(this.dom,e);var t=e.toElement||e.relatedTarget;if(t!=this.dom)for(;t&&9!=t.nodeType;){if(t===this.dom)return;t=t.parentNode}this.trigger("mouseout",e)},touchstart:function(e){e=p(this.dom,e),this._lastTouchMoment=new Date,n(this,e,"start"),y.mousemove.call(this,e),y.mousedown.call(this,e),i(this)},touchmove:function(e){e=p(this.dom,e),n(this,e,"change"),y.mousemove.call(this,e),i(this)},touchend:function(e){e=p(this.dom,e),n(this,e,"end"),y.mouseup.call(this,e),+new Date-this._lastTouchMoment<g&&y.click.call(this,e),i(this)}};l.each(["click","mousedown","mouseup","mousewheel","dblclick"],function(e){y[e]=function(t){t=p(this.dom,t),this.trigger(e,t)}});var _=o.prototype;return _.dispose=function(){for(var e=m.concat(v),n=0;n<e.length;n++){var i=e[n];f(this.dom,t(i),this._handlers[i])}},_.setCursor=function(e){this.dom.style.cursor=e||"default"},l.mixin(o,u),o}),t("echarts/data/helper/completeDimensions",["require","zrender/core/util"],function(e){function t(e,t,a,o){if(!t)return e;var s=n(t[0]),l=i.isArray(s)&&s.length||1;a=a||[],o=o||"extra";for(var u=0;u<l;u++)if(!e[u]){var c=a[u]||o+(u-a.length);e[u]=r(t,u)?{type:"ordinal",name:c}:c}return e}function n(e){return i.isArray(e)?e:i.isObject(e)?e.value:e}var i=e("zrender/core/util"),r=t.guessOrdinal=function(e,t){for(var r=0,a=e.length;r<a;r++){var o=n(e[r]);if(!i.isArray(o))return!1;var o=o[t];if(null!=o&&isFinite(o))return!1;if(i.isString(o)&&"-"!==o)return!0}return!1};return t}),t("echarts/data/DataDiffer",["require"],function(e){"use strict";function t(e){return e}function n(e,n,i,r){this._old=e,this._new=n,this._oldKeyGetter=i||t,this._newKeyGetter=r||t}function i(e,t,n,i){for(var r=0;r<e.length;r++){var a=i(e[r],r),o=t[a];null==o?(n.push(a),t[a]=r):(o.length||(t[a]=o=[o]),o.push(r))}}return n.prototype={constructor:n,add:function(e){return this._add=e,this},update:function(e){return this._update=e,this},remove:function(e){return this._remove=e,this},execute:function(){var e,t=this._old,n=this._new,r=this._oldKeyGetter,a=this._newKeyGetter,o={},s={},l=[],u=[];for(i(t,o,l,r),i(n,s,u,a),e=0;e<t.length;e++){var c=l[e],d=s[c];if(null!=d){var h=d.length;h?(1===h&&(s[c]=null),d=d.unshift()):s[c]=null,this._update&&this._update(d,e)}else this._remove&&this._remove(e)}for(var e=0;e<u.length;e++){var c=u[e];if(s.hasOwnProperty(c)){var d=s[c];if(null==d)continue;if(d.length)for(var f=0,h=d.length;f<h;f++)this._add&&this._add(d[f]);else this._add&&this._add(d)}}}},n}),t("zrender/Painter",["require","./config","./core/util","./core/log","./core/BoundingRect","./core/timsort","./Layer","./animation/requestAnimationFrame","./graphic/Image"],function(e){"use strict";function t(e){return parseInt(e,10)}function n(e){return!!e&&(!!e.isBuildin||"function"==typeof e.resize&&"function"==typeof e.refresh)}function i(e){e.__unusedCount++}function r(e){1==e.__unusedCount&&e.clear()}function a(e,t,n){return v.copy(e.getBoundingRect()),e.transform&&v.applyTransform(e.transform),y.width=t,y.height=n,!v.intersect(y)}function o(e,t){if(e==t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!0}function s(e,t){for(var n=0;n<e.length;n++){var i,r=e[n];r.transform&&(i=r.transform,t.transform(i[0],i[1],i[2],i[3],i[4],i[5]));var a=r.path;a.beginPath(t),r.buildPath(a,r.shape),t.clip(),r.transform&&(i=r.invTransform,t.transform(i[0],i[1],i[2],i[3],i[4],i[5]))}}function l(e,t){var n=document.createElement("div"),i=n.style;return i.position="relative",i.overflow="hidden",i.width=e+"px",i.height=t+"px",n}var u=e("./config"),c=e("./core/util"),d=e("./core/log"),h=e("./core/BoundingRect"),f=e("./core/timsort"),p=e("./Layer"),g=e("./animation/requestAnimationFrame"),m=5,v=new h(0,0,0,0),y=new h(0,0,0,0),_=function(e,t,n){var i=!e.nodeName||"CANVAS"===e.nodeName.toUpperCase();n=n||{},this.dpr=n.devicePixelRatio||u.devicePixelRatio,this._singleCanvas=i,this.root=e;var r=e.style;r&&(r["-webkit-tap-highlight-color"]="transparent",r["-webkit-user-select"]=r["user-select"]=r["-webkit-touch-callout"]="none",e.innerHTML=""),this.storage=t;var a=this._zlevelList=[],o=this._layers={};if(this._layerConfig={},i){var s=e.width,c=e.height;this._width=s,this._height=c;var d=new p(e,this,1);d.initContext(),o[0]=d,a.push(0)}else{this._width=this._getWidth(),this._height=this._getHeight();var h=this._domRoot=l(this._width,this._height);e.appendChild(h)}this.pathToImage=this._createPathToImage(),this._progressiveLayers=[],this._hoverlayer,this._hoverElements=[]};return _.prototype={constructor:_,isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._singleCanvas?this._layers[0].dom:this._domRoot},refresh:function(e){var t=this.storage.getDisplayList(!0),n=this._zlevelList;this._paintList(t,e);for(var i=0;i<n.length;i++){var r=n[i],a=this._layers[r];!a.isBuildin&&a.refresh&&a.refresh()}return this.refreshHover(),this._progressiveLayers.length&&this._startProgessive(),this},addHover:function(e,t){if(!e.__hoverMir){var n=new e.constructor({style:e.style,shape:e.shape});n.__from=e,e.__hoverMir=n,n.setStyle(t),this._hoverElements.push(n)}},removeHover:function(e){var t=e.__hoverMir,n=this._hoverElements,i=c.indexOf(n,t);i>=0&&n.splice(i,1),e.__hoverMir=null},clearHover:function(e){for(var t=this._hoverElements,n=0;n<t.length;n++){var i=t[n].__from;i&&(i.__hoverMir=null)}t.length=0},refreshHover:function(){var e=this._hoverElements,t=e.length,n=this._hoverlayer;if(n&&n.clear(),t){f(e,this.storage.displayableSortFunc),n||(n=this._hoverlayer=this.getLayer(1e5));var i={};n.ctx.save();for(var r=0;r<t;){var a=e[r],o=a.__from;o&&o.__zr?(r++,o.invisible||(a.transform=o.transform,a.invTransform=o.invTransform,a.__clipPaths=o.__clipPaths,this._doPaintEl(a,n,!0,i))):(e.splice(r,1),o.__hoverMir=null,t--)}n.ctx.restore()}},_startProgessive:function(){function e(){n===t._progressiveToken&&t.storage&&(t._doPaintList(t.storage.getDisplayList()),t._furtherProgressive?(t._progress++,g(e)):t._progressiveToken=-1)}var t=this;if(t._furtherProgressive){var n=t._progressiveToken=+new Date;t._progress++,g(e)}},_clearProgressive:function(){this._progressiveToken=-1,this._progress=0,c.each(this._progressiveLayers,function(e){e.__dirty&&e.clear()})},_paintList:function(e,t){null==t&&(t=!1),this._updateLayerStatus(e),this._clearProgressive(),this.eachBuildinLayer(i),this._doPaintList(e,t),this.eachBuildinLayer(r)},_doPaintList:function(e,t){function n(e){a.save(),a.globalAlpha=1,a.shadowBlur=0,i.__dirty=!0,a.drawImage(e.dom,0,0,h,f),a.restore(),i.ctx.restore()}for(var i,r,a,o,s,l,u=0,h=this._width,f=this._height,p=this._progress,g=0,v=e.length;g<v;g++){var y=e[g],_=this._singleCanvas?0:y.zlevel,b=y.__frame;if(b<0&&s&&(n(s),s=null),r!==_&&(a&&a.restore(),o={},r=_,i=this.getLayer(r),i.isBuildin||d("ZLevel "+r+" has been used by unkown layer "+i.id),a=i.ctx,a.save(),i.__unusedCount=0,(i.__dirty||t)&&i.clear()),i.__dirty||t){if(b>=0){if(!s){if(s=this._progressiveLayers[Math.min(u++,m-1)],s.ctx.save(),s.renderScope={},s&&s.__progress>s.__maxProgress){g=s.__nextIdxNotProg-1;continue}l=s.__progress,s.__dirty||(p=l),s.__progress=p+1}b===p&&this._doPaintEl(y,s,!0,s.renderScope)}else this._doPaintEl(y,i,t,o);y.__dirty=!1}}s&&n(s),a&&a.restore(),this._furtherProgressive=!1,c.each(this._progressiveLayers,function(e){e.__maxProgress>=e.__progress&&(this._furtherProgressive=!0)},this)},_doPaintEl:function(e,t,n,i){var r=t.ctx;if((t.__dirty||n)&&!e.invisible&&0!==e.style.opacity&&e.scale[0]&&e.scale[1]&&(!e.culling||!a(e,this._width,this._height))){var l=e.__clipPaths;(i.prevClipLayer!==t||o(l,i.prevElClipPaths))&&(i.prevElClipPaths&&(i.prevClipLayer.ctx.restore(),i.prevClipLayer=i.prevElClipPaths=null,i.prevEl=null),l&&(r.save(),s(l,r),i.prevClipLayer=t,i.prevElClipPaths=l)),e.beforeBrush&&e.beforeBrush(r),e.brush(r,i.prevEl||null),i.prevEl=e,e.afterBrush&&e.afterBrush(r)}},getLayer:function(e){if(this._singleCanvas)return this._layers[0];var t=this._layers[e];return t||(t=new p("zr_"+e,this,this.dpr),t.isBuildin=!0,this._layerConfig[e]&&c.merge(t,this._layerConfig[e],!0),this.insertLayer(e,t),t.initContext()),t},insertLayer:function(e,t){var i=this._layers,r=this._zlevelList,a=r.length,o=null,s=-1,l=this._domRoot;if(i[e])return void d("ZLevel "+e+" has been used already");if(!n(t))return void d("Layer of zlevel "+e+" is not valid");if(a>0&&e>r[0]){for(s=0;s<a-1&&!(r[s]<e&&r[s+1]>e);s++);o=i[r[s]]}if(r.splice(s+1,0,e),o){var u=o.dom;u.nextSibling?l.insertBefore(t.dom,u.nextSibling):l.appendChild(t.dom)}else l.firstChild?l.insertBefore(t.dom,l.firstChild):l.appendChild(t.dom);i[e]=t},eachLayer:function(e,t){var n,i,r=this._zlevelList;for(i=0;i<r.length;i++)n=r[i],e.call(t,this._layers[n],n)},eachBuildinLayer:function(e,t){var n,i,r,a=this._zlevelList;for(r=0;r<a.length;r++)i=a[r],n=this._layers[i],n.isBuildin&&e.call(t,n,i)},eachOtherLayer:function(e,t){var n,i,r,a=this._zlevelList;for(r=0;r<a.length;r++)i=a[r],n=this._layers[i],n.isBuildin||e.call(t,n,i)},getLayers:function(){return this._layers},_updateLayerStatus:function(e){var t=this._layers,n=this._progressiveLayers,i={},r={};this.eachBuildinLayer(function(e,t){i[t]=e.elCount,e.elCount=0,e.__dirty=!1}),c.each(n,function(e,t){r[t]=e.elCount,e.elCount=0,e.__dirty=!1});for(var a,o,s=0,l=0,u=0,d=e.length;u<d;u++){var h=e[u],f=this._singleCanvas?0:h.zlevel,g=t[f],v=h.progressive;if(g&&(g.elCount++,g.__dirty=g.__dirty||h.__dirty),v>=0){o!==v&&(o=v,l++);var y=h.__frame=l-1;if(!a){var _=Math.min(s,m-1);a=n[_],a||(a=n[_]=new p("progressive",this,this.dpr),a.initContext()),a.__maxProgress=0}a.__dirty=a.__dirty||h.__dirty,a.elCount++,a.__maxProgress=Math.max(a.__maxProgress,y),a.__maxProgress>=a.__progress&&(g.__dirty=!0)}else h.__frame=-1,a&&(a.__nextIdxNotProg=u,s++,a=null)}a&&(s++,a.__nextIdxNotProg=u),this.eachBuildinLayer(function(e,t){i[t]!==e.elCount&&(e.__dirty=!0)}),n.length=Math.min(s,m),c.each(n,function(e,t){r[t]!==e.elCount&&(h.__dirty=!0),e.__dirty&&(e.__progress=0)})},clear:function(){return this.eachBuildinLayer(this._clearLayer),this},_clearLayer:function(e){e.clear()},configLayer:function(e,t){if(t){var n=this._layerConfig;n[e]?c.merge(n[e],t,!0):n[e]=t;var i=this._layers[e];i&&c.merge(i,n[e],!0)}},delLayer:function(e){var t=this._layers,n=this._zlevelList,i=t[e];i&&(i.dom.parentNode.removeChild(i.dom),delete t[e],n.splice(c.indexOf(n,e),1))},resize:function(e,t){var n=this._domRoot;if(n.style.display="none",e=e||this._getWidth(),t=t||this._getHeight(),n.style.display="",this._width!=e||t!=this._height){n.style.width=e+"px",n.style.height=t+"px";for(var i in this._layers)this._layers[i].resize(e,t);this.refresh(!0)}return this._width=e,this._height=t,this},clearLayer:function(e){var t=this._layers[e];t&&t.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(e){if(e=e||{},this._singleCanvas)return this._layers[0].dom;var t=new p("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clearColor=e.backgroundColor,t.clear();for(var n=this.storage.getDisplayList(!0),i={},r=0;r<n.length;r++){var a=n[r];this._doPaintEl(a,t,!0,i)}return t.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getWidth:function(){var e=this.root,n=document.defaultView.getComputedStyle(e);return(e.clientWidth||t(n.width)||t(e.style.width))-(t(n.paddingLeft)||0)-(t(n.paddingRight)||0)|0},_getHeight:function(){var e=this.root,n=document.defaultView.getComputedStyle(e);return(e.clientHeight||t(n.height)||t(e.style.height))-(t(n.paddingTop)||0)-(t(n.paddingBottom)||0)|0},_pathToImage:function(t,n,i,r,a){var o=document.createElement("canvas"),s=o.getContext("2d");o.width=i*a,o.height=r*a,s.clearRect(0,0,i*a,r*a);var l={position:n.position,rotation:n.rotation,scale:n.scale};n.position=[0,0,0],n.rotation=0,n.scale=[1,1],n&&n.brush(s);var u=e("./graphic/Image"),c=new u({id:t,style:{x:0,y:0,image:o}});return null!=l.position&&(c.position=n.position=l.position),null!=l.rotation&&(c.rotation=n.rotation=l.rotation),null!=l.scale&&(c.scale=n.scale=l.scale),c},_createPathToImage:function(){var e=this;return function(t,n,i,r){return e._pathToImage(t,n,i,r,e.dpr)}}},_}),t("zrender/mixin/Draggable",["require"],function(e){function t(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}return t.prototype={constructor:t,_dragStart:function(e){var t=e.target;t&&t.draggable&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.dispatchToElement(t,"dragstart",e.event))},_drag:function(e){var t=this._draggingTarget;if(t){var n=e.offsetX,i=e.offsetY,r=n-this._x,a=i-this._y;this._x=n,this._y=i,t.drift(r,a,e),this.dispatchToElement(t,"drag",e.event);var o=this.findHover(n,i,t),s=this._dropTarget;this._dropTarget=o,t!==o&&(s&&o!==s&&this.dispatchToElement(s,"dragleave",e.event),o&&o!==s&&this.dispatchToElement(o,"dragenter",e.event))}},_dragEnd:function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.dispatchToElement(t,"dragend",e.event),this._dropTarget&&this.dispatchToElement(this._dropTarget,"drop",e.event),this._draggingTarget=null,this._dropTarget=null}},t}),t("zrender/graphic/helper/smoothSpline",["require","../../core/vector"],function(e){function t(e,t,n,i,r,a,o){var s=.5*(n-e),l=.5*(i-t);return(2*(t-n)+s+l)*o+(-3*(t-n)-2*s-l)*a+s*r+t}var n=e("../../core/vector");return function(e,i){for(var r=e.length,a=[],o=0,s=1;s<r;s++)o+=n.distance(e[s-1],e[s]);var l=o/2;l=l<r?r:l;for(var s=0;s<l;s++){var u,c,d,h=s/(l-1)*(i?r:r-1),f=Math.floor(h),p=h-f,g=e[f%r];i?(u=e[(f-1+r)%r],c=e[(f+1)%r],d=e[(f+2)%r]):(u=e[0===f?f:f-1],c=e[f>r-2?r-1:f+1],d=e[f>r-3?r-1:f+2]);var m=p*p,v=p*m;a.push([t(u[0],g[0],c[0],d[0],p,m,v),t(u[1],g[1],c[1],d[1],p,m,v)])}return a}}),t("zrender/graphic/helper/smoothBezier",["require","../../core/vector"],function(e){var t=e("../../core/vector"),n=t.min,i=t.max,r=t.scale,a=t.distance,o=t.add;return function(e,s,l,u){var c,d,h,f,p=[],g=[],m=[],v=[];if(u){h=[1/0,1/0],f=[-(1/0),-(1/0)];for(var y=0,_=e.length;y<_;y++)n(h,h,e[y]),i(f,f,e[y]);n(h,h,u[0]),i(f,f,u[1])}for(var y=0,_=e.length;y<_;y++){var b=e[y];if(l)c=e[y?y-1:_-1],d=e[(y+1)%_];else{if(0===y||y===_-1){p.push(t.clone(e[y]));continue}c=e[y-1],d=e[y+1]}t.sub(g,d,c),r(g,g,s);var x=a(b,c),w=a(b,d),k=x+w;0!==k&&(x/=k,w/=k),r(m,g,-x),r(v,g,w);var S=o([],b,m),E=o([],b,v);u&&(i(S,S,h),n(S,S,f),i(E,E,h),n(E,E,f)),p.push(S),p.push(E)}return l&&p.push(p.shift()),p}}),t("echarts/chart/bar/barItemStyle",["require","../../model/mixin/makeStyleMapper"],function(e){var t=e("../../model/mixin/makeStyleMapper")([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);return{getBarItemStyle:function(e){var n=t.call(this,e);if(this.getBorderLineDash){var i=this.getBorderLineDash();i&&(n.lineDash=i)}return n}}}),t("zrender/core/event",["require","../mixin/Eventful"],function(e){"use strict";function t(e){return e.getBoundingClientRect?e.getBoundingClientRect():{left:0,top:0}}function n(e,n,i){var r=t(e);return i=i||{},i.zrX=n.clientX-r.left,i.zrY=n.clientY-r.top,i}function i(e,t){if(t=t||window.event,null!=t.zrX)return t;var i=t.type,r=i&&i.indexOf("touch")>=0;if(r){var a="touchend"!=i?t.targetTouches[0]:t.changedTouches[0];a&&n(e,a,t)}else n(e,t,t),t.zrDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3;return t}function r(e,t,n){s?e.addEventListener(t,n):e.attachEvent("on"+t,n)}function a(e,t,n){s?e.removeEventListener(t,n):e.detachEvent("on"+t,n)}var o=e("../mixin/Eventful"),s="undefined"!=typeof window&&!!window.addEventListener,l=s?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0};return{clientToLocal:n,normalizeEvent:i,addEventListener:r,removeEventListener:a,stop:l,Dispatcher:o}}),t("zrender/animation/requestAnimationFrame",["require"],function(e){return"undefined"!=typeof window&&(window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){setTimeout(e,16)}}),t("zrender/graphic/helper/roundRect",["require"],function(e){return{buildPath:function(e,t){var n,i,r,a,o=t.x,s=t.y,l=t.width,u=t.height,c=t.r;l<0&&(o+=l,l=-l),u<0&&(s+=u,u=-u),"number"==typeof c?n=i=r=a=c:c instanceof Array?1===c.length?n=i=r=a=c[0]:2===c.length?(n=r=c[0],i=a=c[1]):3===c.length?(n=c[0],i=a=c[1],r=c[2]):(n=c[0],i=c[1],r=c[2],a=c[3]):n=i=r=a=0;var d;n+i>l&&(d=n+i,n*=l/d,i*=l/d),r+a>l&&(d=r+a,r*=l/d,a*=l/d),i+r>u&&(d=i+r,i*=u/d,r*=u/d),n+a>u&&(d=n+a,n*=u/d,a*=u/d),e.moveTo(o+n,s),e.lineTo(o+l-i,s),0!==i&&e.quadraticCurveTo(o+l,s,o+l,s+i),e.lineTo(o+l,s+u-r),0!==r&&e.quadraticCurveTo(o+l,s+u,o+l-r,s+u),e.lineTo(o+a,s+u),0!==a&&e.quadraticCurveTo(o,s+u,o,s+u-a),e.lineTo(o,s+n),0!==n&&e.quadraticCurveTo(o,s,o+n,s)}}}),t("zrender/core/GestureMgr",["require","./event"],function(e){"use strict";function t(e){var t=e[1][0]-e[0][0],n=e[1][1]-e[0][1];return Math.sqrt(t*t+n*n)}function n(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var i=e("./event"),r=function(){this._track=[]};r.prototype={constructor:r,recognize:function(e,t,n){return this._doTrack(e,t,n),this._recognize(e)},clear:function(){return this._track.length=0,this},_doTrack:function(e,t,n){var r=e.touches;if(r){for(var a={points:[],touches:[],target:t,event:e},o=0,s=r.length;o<s;o++){var l=r[o],u=i.clientToLocal(n,l);a.points.push([u.zrX,u.zrY]),a.touches.push(l)}this._track.push(a)}},_recognize:function(e){for(var t in a)if(a.hasOwnProperty(t)){var n=a[t](this._track,e);if(n)return n}}};var a={pinch:function(e,i){var r=e.length;if(r){var a=(e[r-1]||{}).points,o=(e[r-2]||{}).points||a;if(o&&o.length>1&&a&&a.length>1){var s=t(a)/t(o);!isFinite(s)&&(s=1),i.pinchScale=s;var l=n(a);return i.pinchX=l[0],i.pinchY=l[1],{type:"pinch",target:e[0].target,event:i}}}}};return r}),t("echarts/component/axis/AxisView",["require","zrender/core/util","../../util/graphic","./AxisBuilder","../../echarts"],function(e){function t(e,t){function n(e,t){var n=i.getAxis(e);return n.toGlobalCoord(n.dataToCoord(0))}var i=e.coordinateSystem,r=t.axis,a={},o=r.position,s=r.onZero?"onZero":o,l=r.dim,u=i.getRect(),c=[u.x,u.x+u.width,u.y,u.y+u.height],d=t.get("offset")||0,h={x:{top:c[2]-d,bottom:c[3]+d},y:{left:c[0]-d,right:c[1]+d}};h.x.onZero=Math.max(Math.min(n("y"),h.x.bottom),h.x.top),h.y.onZero=Math.max(Math.min(n("x"),h.y.right),h.y.left),a.position=["y"===l?h.y[s]:c[0],"x"===l?h.x[s]:c[3]],a.rotation=Math.PI/2*("x"===l?0:1);var f={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=f[o],r.onZero&&(a.labelOffset=h[l][o]-h[l].onZero),t.getModel("axisTick").get("inside")&&(a.tickDirection=-a.tickDirection),t.getModel("axisLabel").get("inside")&&(a.labelDirection=-a.labelDirection);var p=t.getModel("axisLabel").get("rotate");return a.labelRotation="top"===s?-p:p,a.labelInterval=r.getLabelInterval(),a.z2=1,a}var n=e("zrender/core/util"),i=e("../../util/graphic"),r=e("./AxisBuilder"),a=r.ifIgnoreOnTick,o=r.getInterval,s=["axisLine","axisLabel","axisTick","axisName"],l=["splitArea","splitLine"],u=e("../../echarts").extendComponentView({type:"axis",render:function(e,a){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new i.Group,this.group.add(this._axisGroup),e.get("show")){var u=a.getComponent("grid",e.get("gridIndex")),c=t(u,e),d=new r(e,c);n.each(s,d.add,d),this._axisGroup.add(d.getGroup()),n.each(l,function(t){e.get(t+".show")&&this["_"+t](e,u,c.labelInterval)},this),i.groupTransition(o,this._axisGroup,e)}},_splitLine:function(e,t,r){var s=e.axis,l=e.getModel("splitLine"),u=l.getModel("lineStyle"),c=u.get("color"),d=o(l,r);c=n.isArray(c)?c:[c];for(var h=t.coordinateSystem.getRect(),f=s.isHorizontal(),p=0,g=s.getTicksCoords(),m=s.scale.getTicks(),v=[],y=[],_=u.getLineStyle(),b=0;b<g.length;b++)if(!a(s,b,d)){var x=s.toGlobalCoord(g[b]);f?(v[0]=x,v[1]=h.y,y[0]=x,y[1]=h.y+h.height):(v[0]=h.x,v[1]=x,y[0]=h.x+h.width,y[1]=x);var w=p++%c.length;this._axisGroup.add(new i.Line(i.subPixelOptimizeLine({anid:"line_"+m[b],shape:{x1:v[0],y1:v[1],x2:y[0],y2:y[1]},style:n.defaults({stroke:c[w]},_),silent:!0})))}},_splitArea:function(e,t,r){var s=e.axis,l=e.getModel("splitArea"),u=l.getModel("areaStyle"),c=u.get("color"),d=t.coordinateSystem.getRect(),h=s.getTicksCoords(),f=s.scale.getTicks(),p=s.toGlobalCoord(h[0]),g=s.toGlobalCoord(h[0]),m=0,v=o(l,r),y=u.getAreaStyle();c=n.isArray(c)?c:[c];for(var _=1;_<h.length;_++)if(!a(s,_,v)){var b,x,w,k,S=s.toGlobalCoord(h[_]);s.isHorizontal()?(b=p,x=d.y,w=S-b,k=d.height):(b=d.x,x=g,w=d.width,k=S-x);var E=m++%c.length;this._axisGroup.add(new i.Rect({anid:"area_"+f[_],shape:{x:b,y:x,width:w,height:k},style:n.defaults({fill:c[E]},y),silent:!0})),p=b+w,g=x+k}}});u.extend({type:"xAxis"}),u.extend({type:"yAxis"})}),t("zrender/Layer",["require","./core/util","./config","./graphic/Style","./graphic/Pattern"],function(e){function t(){return!1}function n(e,t,n,i){var r=document.createElement(t),a=n.getWidth(),o=n.getHeight(),s=r.style;return s.position="absolute",s.left=0,s.top=0,s.width=a+"px",s.height=o+"px",r.width=a*i,r.height=o*i,r.setAttribute("data-zr-dom-id",e),r}var i=e("./core/util"),r=e("./config"),a=e("./graphic/Style"),o=e("./graphic/Pattern"),s=function(e,a,o){var s;o=o||r.devicePixelRatio,"string"==typeof e?s=n(e,"canvas",a,o):i.isObject(e)&&(s=e,e=s.id),this.id=e,this.dom=s;var l=s.style;l&&(s.onselectstart=t,l["-webkit-user-select"]="none",l["user-select"]="none",l["-webkit-touch-callout"]="none",l["-webkit-tap-highlight-color"]="rgba(0,0,0,0)"),this.domBack=null,this.ctxBack=null,this.painter=a,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=o};return s.prototype={constructor:s,elCount:0,__dirty:!0,initContext:function(){this.ctx=this.dom.getContext("2d");var e=this.dpr;1!=e&&this.ctx.scale(e,e)},createBackBuffer:function(){var e=this.dpr;this.domBack=n("back-"+this.id,"canvas",this.painter,e),this.ctxBack=this.domBack.getContext("2d"),1!=e&&this.ctxBack.scale(e,e)},resize:function(e,t){var n=this.dpr,i=this.dom,r=i.style,a=this.domBack;r.width=e+"px",r.height=t+"px",i.width=e*n,i.height=t*n,1!=n&&this.ctx.scale(n,n),a&&(a.width=e*n,a.height=t*n,1!=n&&this.ctxBack.scale(n,n))},clear:function(e){var t=this.dom,n=this.ctx,i=t.width,r=t.height,s=this.clearColor,l=this.motionBlur&&!e,u=this.lastFrameAlpha,c=this.dpr;if(l&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(t,0,0,i/c,r/c)),n.clearRect(0,0,i/c,r/c),s){var d;s.colorStops?(d=s.__canvasGradient||a.getGradient(n,s,{x:0,y:0,width:i/c,height:r/c}),s.__canvasGradient=d):s.image&&(d=o.prototype.getCanvasPattern.call(s,n)),n.save(),n.fillStyle=d||s,n.fillRect(0,0,i/c,r/c),n.restore()}if(l){var h=this.domBack;n.save(),n.globalAlpha=u,n.drawImage(h,0,0,i/c,r/c),n.restore()}}},s}),t("echarts/component/axis/AxisBuilder",["require","zrender/core/util","../../util/format","../../util/graphic","../../model/Model","../../util/number","zrender/core/vector"],function(e){function t(e){var t={componentType:e.mainType};return t[e.mainType+"Index"]=e.componentIndex,t}function n(e,t,n){var i,r,a=c(t-e.rotation);return d(a)?(r=n>0?"top":"bottom",i="center"):d(a-g)?(r=n>0?"bottom":"top",i="center"):(r="middle",i=a>0&&a<g?n>0?"right":"left":n>0?"left":"right"),{rotation:a,textAlign:i,verticalAlign:r}}function i(e,t,n,i){var r,a,o=c(n-e.rotation),s=i[0]>i[1],l="start"===t&&!s||"start"!==t&&s;return d(o-g/2)?(a=l?"bottom":"top",r="center"):d(o-1.5*g)?(a=l?"top":"bottom",r="center"):(a="middle",r=o<1.5*g&&o>g/2?l?"left":"right":l?"right":"left"),{rotation:o,textAlign:r,verticalAlign:a}}function r(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show);
}var a=e("zrender/core/util"),o=e("../../util/format"),s=e("../../util/graphic"),l=e("../../model/Model"),u=e("../../util/number"),c=u.remRadian,d=u.isRadianAroundZero,h=e("zrender/core/vector"),f=h.applyTransform,p=a.retrieve,g=Math.PI,m=function(e,t){this.opt=t,this.axisModel=e,a.defaults(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new s.Group;var n=new s.Group({position:t.position.slice(),rotation:t.rotation});n.updateTransform(),this._transform=n.transform,this._dumbGroup=n};m.prototype={constructor:m,hasBuilder:function(e){return!!v[e]},add:function(e){v[e].call(this)},getGroup:function(){return this.group}};var v={axisLine:function(){var e=this.opt,t=this.axisModel;if(t.get("axisLine.show")){var n=this.axisModel.axis.getExtent(),i=this._transform,r=[n[0],0],o=[n[1],0];i&&(f(r,r,i),f(o,o,i)),this.group.add(new s.Line(s.subPixelOptimizeLine({anid:"line",shape:{x1:r[0],y1:r[1],x2:o[0],y2:o[1]},style:a.extend({lineCap:"round"},t.getModel("axisLine.lineStyle").getLineStyle()),strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1})))}},axisTick:function(){var e=this.axisModel;if(e.get("axisTick.show"))for(var t=e.axis,n=e.getModel("axisTick"),i=this.opt,r=n.getModel("lineStyle"),o=n.get("length"),l=_(n,i.labelInterval),u=t.getTicksCoords(n.get("alignWithLabel")),c=t.scale.getTicks(),d=[],h=[],p=this._transform,g=0;g<u.length;g++)if(!y(t,g,l)){var m=u[g];d[0]=m,d[1]=0,h[0]=m,h[1]=i.tickDirection*o,p&&(f(d,d,p),f(h,h,p)),this.group.add(new s.Line(s.subPixelOptimizeLine({anid:"tick_"+c[g],shape:{x1:d[0],y1:d[1],x2:h[0],y2:h[1]},style:a.defaults(r.getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")}),z2:2,silent:!0})))}},axisLabel:function(){function e(e,t){var n=e&&e.getBoundingRect().clone(),i=t&&t.getBoundingRect().clone();if(n&&i)return n.applyTransform(e.getLocalTransform()),i.applyTransform(t.getLocalTransform()),n.intersect(i)}var i=this.opt,a=this.axisModel,o=p(i.axisLabelShow,a.get("axisLabel.show"));if(o){var u=a.axis,c=a.getModel("axisLabel"),d=c.getModel("textStyle"),h=c.get("margin"),f=u.scale.getTicks(),m=a.getFormattedLabels(),v=p(i.labelRotation,c.get("rotate"))||0;v=v*g/180;for(var _=n(i,v,i.labelDirection),b=a.get("data"),x=[],w=r(a),k=a.get("triggerEvent"),S=0;S<f.length;S++)if(!y(u,S,i.labelInterval)){var E=d;b&&b[S]&&b[S].textStyle&&(E=new l(b[S].textStyle,d,a.ecModel));var T=E.getTextColor()||a.get("axisLine.lineStyle.color"),C=u.dataToCoord(f[S]),D=[C,i.labelOffset+i.labelDirection*h],M=u.scale.getLabel(f[S]),A=new s.Text({anid:"label_"+f[S],style:{text:m[S],textAlign:E.get("align",!0)||_.textAlign,textVerticalAlign:E.get("baseline",!0)||_.verticalAlign,textFont:E.getFont(),fill:"function"==typeof T?T(M):T},position:D,rotation:_.rotation,silent:w,z2:10});k&&(A.eventData=t(a),A.eventData.targetType="axisLabel",A.eventData.value=M),this._dumbGroup.add(A),A.updateTransform(),x.push(A),this.group.add(A),A.decomposeTransform()}if("category"!==u.type){if(a.getMin?a.getMin():a.get("min")){var R=x[0],I=x[1];e(R,I)&&(R.ignore=!0)}if(a.getMax?a.getMax():a.get("max")){var O=x[x.length-1],P=x[x.length-2];e(P,O)&&(O.ignore=!0)}}}},axisName:function(){var e=this.opt,l=this.axisModel,u=p(e.axisName,l.get("name"));if(u){var c,d=l.get("nameLocation"),h=e.nameDirection,f=l.getModel("nameTextStyle"),m=l.get("nameGap")||0,v=this.axisModel.axis.getExtent(),y=v[0]>v[1]?-1:1,_=["start"===d?v[0]-y*m:"end"===d?v[1]+y*m:(v[0]+v[1])/2,"middle"===d?e.labelOffset+h*m:0],b=l.get("nameRotate");null!=b&&(b=b*g/180);var x;"middle"===d?c=n(e,null!=b?b:e.rotation,h):(c=i(e,d,b||0,v),x=e.axisNameAvailableWidth,null!=x&&(x=Math.abs(x/Math.sin(c.rotation)),!isFinite(x)&&(x=null)));var w=f.getFont(),k=l.get("nameTruncate",!0)||{},S=k.ellipsis,E=p(k.maxWidth,x),T=null!=S&&null!=E?o.truncateText(u,E,w,S,{minChar:2,placeholder:k.placeholder}):u,C=l.get("tooltip",!0),D=l.mainType,M={componentType:D,name:u,$vars:["name"]};M[D+"Index"]=l.componentIndex;var A=new s.Text({anid:"name",__fullText:u,__truncatedText:T,style:{text:T,textFont:w,fill:f.getTextColor()||l.get("axisLine.lineStyle.color"),textAlign:c.textAlign,textVerticalAlign:c.verticalAlign},position:_,rotation:c.rotation,silent:r(l),z2:1,tooltip:C&&C.show?a.extend({content:u,formatter:function(){return u},formatterParams:M},C):null});l.get("triggerEvent")&&(A.eventData=t(l),A.eventData.targetType="axisName",A.eventData.name=u),this._dumbGroup.add(A),A.updateTransform(),this.group.add(A),A.decomposeTransform()}}},y=m.ifIgnoreOnTick=function(e,t,n){var i,r=e.scale;return"ordinal"===r.type&&("function"==typeof n?(i=r.getTicks()[t],!n(i,r.getLabel(i))):t%(n+1))},_=m.getInterval=function(e,t){var n=e.get("interval");return null!=n&&"auto"!=n||(n=t),n};return m}),t("echarts/preprocessor/helper/compatStyle",["require","zrender/core/util"],function(e){function t(e){var t=e&&e.itemStyle;t&&n.each(i,function(i){var r=t.normal,a=t.emphasis;r&&r[i]&&(e[i]=e[i]||{},e[i].normal?n.merge(e[i].normal,r[i]):e[i].normal=r[i],r[i]=null),a&&a[i]&&(e[i]=e[i]||{},e[i].emphasis?n.merge(e[i].emphasis,a[i]):e[i].emphasis=a[i],a[i]=null)})}var n=e("zrender/core/util"),i=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];return function(e){if(e){t(e),t(e.markPoint),t(e.markLine);var i=e.data;if(i){for(var r=0;r<i.length;r++)t(i[r]);var a=e.markPoint;if(a&&a.data)for(var o=a.data,r=0;r<o.length;r++)t(o[r]);var s=e.markLine;if(s&&s.data)for(var l=s.data,r=0;r<l.length;r++)n.isArray(l[r])?(t(l[r][0]),t(l[r][1])):t(l[r])}}}}),t("echarts/chart/helper/Symbol",["require","zrender/core/util","../../util/symbol","../../util/graphic","../../util/number"],function(e){function t(e){return e instanceof Array||(e=[+e,+e]),e}function n(e,t,n){o.Group.call(this),this.updateData(e,t,n)}function i(e,t){this.parent.drift(e,t)}var r=e("zrender/core/util"),a=e("../../util/symbol"),o=e("../../util/graphic"),s=e("../../util/number"),l=n.prototype;l._createSymbol=function(e,n,r){this.removeAll();var s=n.hostModel,l=n.getItemVisual(r,"color"),u=a.createSymbol(e,-.5,-.5,1,1,l);u.attr({z2:100,culling:!0,scale:[0,0]}),u.drift=i;var c=t(n.getItemVisual(r,"symbolSize"));o.initProps(u,{scale:c},s,r),this._symbolType=e,this.add(u)},l.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(e)},l.getScale=function(){return this.childAt(0).scale},l.highlight=function(){this.childAt(0).trigger("emphasis")},l.downplay=function(){this.childAt(0).trigger("normal")},l.setZ=function(e,t){var n=this.childAt(0);n.zlevel=e,n.z=t},l.setDraggable=function(e){var t=this.childAt(0);t.draggable=e,t.cursor=e?"move":"pointer"},l.updateData=function(e,n,i){this.silent=!1;var r=e.getItemVisual(n,"symbol")||"circle",a=e.hostModel,s=t(e.getItemVisual(n,"symbolSize"));if(r!==this._symbolType)this._createSymbol(r,e,n);else{var l=this.childAt(0);o.updateProps(l,{scale:s},a,n)}this._updateCommon(e,n,s,i),this._seriesModel=a};var u=["itemStyle","normal"],c=["itemStyle","emphasis"],d=["label","normal"],h=["label","emphasis"];return l._updateCommon=function(e,n,i,a){var l=this.childAt(0),f=e.hostModel,p=e.getItemVisual(n,"color");"image"!==l.type&&l.useStyle({strokeNoScale:!0}),a=a||null;var g=a&&a.itemStyle,m=a&&a.hoverItemStyle,v=a&&a.symbolRotate,y=a&&a.symbolOffset,_=a&&a.labelModel,b=a&&a.hoverLabelModel,x=a&&a.hoverAnimation;if(!a||e.hasItemOption){var w=e.getItemModel(n);g=w.getModel(u).getItemStyle(["color"]),m=w.getModel(c).getItemStyle(),v=w.getShallow("symbolRotate"),y=w.getShallow("symbolOffset"),_=w.getModel(d),b=w.getModel(h),x=w.getShallow("hoverAnimation")}else m=r.extend({},m);var k=l.style;l.rotation=(v||0)*Math.PI/180||0,y&&l.attr("position",[s.parsePercent(y[0],i[0]),s.parsePercent(y[1],i[1])]),l.setColor(p),l.setStyle(g);var S=e.getItemVisual(n,"opacity");null!=S&&(k.opacity=S);for(var E,T,C=e.dimensions.slice();C.length&&(E=C.pop(),T=e.getDimensionInfo(E).type,"ordinal"===T||"time"===T););null!=E&&_.getShallow("show")?(o.setText(k,_,p),k.text=r.retrieve(f.getFormattedLabel(n,"normal"),e.get(E,n))):k.text="",null!=E&&b.getShallow("show")?(o.setText(m,b,p),m.text=r.retrieve(f.getFormattedLabel(n,"emphasis"),e.get(E,n))):m.text="";var D=t(e.getItemVisual(n,"symbolSize"));if(l.off("mouseover").off("mouseout").off("emphasis").off("normal"),o.setHoverStyle(l,m),x&&f.ifEnableAnimation()){var M=function(){var e=D[1]/D[0];this.animateTo({scale:[Math.max(1.1*D[0],D[0]+3),Math.max(1.1*D[1],D[1]+3*e)]},400,"elasticOut")},A=function(){this.animateTo({scale:D},400,"elasticOut")};l.on("mouseover",M).on("mouseout",A).on("emphasis",M).on("normal",A)}},l.fadeOut=function(e){var t=this.childAt(0);this.silent=!0,t.style.text="",o.updateProps(t,{scale:[0,0]},this._seriesModel,this.dataIndex,e)},r.inherits(n,o.Group),n}),t("echarts/chart/helper/SymbolDraw",["require","../../util/graphic","./Symbol"],function(e){function t(e){this.group=new i.Group,this._symbolCtor=e||r}function n(e,t,n){var i=e.getItemLayout(t);return i&&!isNaN(i[0])&&!isNaN(i[1])&&!(n&&n(t))&&"none"!==e.getItemVisual(t,"symbol")}var i=e("../../util/graphic"),r=e("./Symbol"),a=t.prototype;return a.updateData=function(e,t){var r=this.group,a=e.hostModel,o=this._data,s=this._symbolCtor,l={itemStyle:a.getModel("itemStyle.normal").getItemStyle(["color"]),hoverItemStyle:a.getModel("itemStyle.emphasis").getItemStyle(),symbolRotate:a.get("symbolRotate"),symbolOffset:a.get("symbolOffset"),hoverAnimation:a.get("hoverAnimation"),labelModel:a.getModel("label.normal"),hoverLabelModel:a.getModel("label.emphasis")};e.diff(o).add(function(i){var a=e.getItemLayout(i);if(n(e,i,t)){var o=new s(e,i,l);o.attr("position",a),e.setItemGraphicEl(i,o),r.add(o)}}).update(function(u,c){var d=o.getItemGraphicEl(c),h=e.getItemLayout(u);return n(e,u,t)?(d?(d.updateData(e,u,l),i.updateProps(d,{position:h},a)):(d=new s(e,u),d.attr("position",h)),r.add(d),void e.setItemGraphicEl(u,d)):void r.remove(d)}).remove(function(e){var t=o.getItemGraphicEl(e);t&&t.fadeOut(function(){r.remove(t)})}).execute(),this._data=e},a.updateLayout=function(){var e=this._data;e&&e.eachItemGraphicEl(function(t,n){var i=e.getItemLayout(n);t.attr("position",i)})},a.remove=function(e){var t=this.group,n=this._data;n&&(e?n.eachItemGraphicEl(function(e){e.fadeOut(function(){t.remove(e)})}):t.removeAll())},t}),t("echarts/chart/line/lineAnimationDiff",["require"],function(e){function t(e){return e>=0?1:-1}function n(e,n,i){for(var r,a=e.getBaseAxis(),o=e.getOtherAxis(a),s=a.onZero?0:o.scale.getExtent()[0],l=o.dim,u="x"===l||"radius"===l?1:0,c=n.stackedOn,d=n.get(l,i);c&&t(c.get(l,i))===t(d);){r=c;break}var h=[];return h[u]=n.get(a.dim,i),h[1-u]=r?r.get(l,i,!0):s,e.dataToPoint(h)}function i(e,t){var n=[];return t.diff(e).add(function(e){n.push({cmd:"+",idx:e})}).update(function(e,t){n.push({cmd:"=",idx:t,idx1:e})}).remove(function(e){n.push({cmd:"-",idx:e})}).execute(),n}return function(e,t,r,a,o,s){for(var l=i(e,t),u=[],c=[],d=[],h=[],f=[],p=[],g=[],m=s.dimensions,v=0;v<l.length;v++){var y=l[v],_=!0;switch(y.cmd){case"=":var b=e.getItemLayout(y.idx),x=t.getItemLayout(y.idx1);(isNaN(b[0])||isNaN(b[1]))&&(b=x.slice()),u.push(b),c.push(x),d.push(r[y.idx]),h.push(a[y.idx1]),g.push(t.getRawIndex(y.idx1));break;case"+":var w=y.idx;u.push(o.dataToPoint([t.get(m[0],w,!0),t.get(m[1],w,!0)])),c.push(t.getItemLayout(w).slice()),d.push(n(o,t,w)),h.push(a[w]),g.push(t.getRawIndex(w));break;case"-":var w=y.idx,k=e.getRawIndex(w);k!==w?(u.push(e.getItemLayout(w)),c.push(s.dataToPoint([e.get(m[0],w,!0),e.get(m[1],w,!0)])),d.push(r[w]),h.push(n(s,e,w)),g.push(k)):_=!1}_&&(f.push(y),p.push(p.length))}p.sort(function(e,t){return g[e]-g[t]});for(var S=[],E=[],T=[],C=[],D=[],v=0;v<p.length;v++){var w=p[v];S[v]=u[w],E[v]=c[w],T[v]=d[w],C[v]=h[w],D[v]=f[w]}return{current:S,next:E,stackedOnCurrent:T,stackedOnNext:C,status:D}}}),t("echarts/chart/line/poly",["require","zrender/graphic/Path","zrender/core/vector"],function(e){function t(e){return isNaN(e[0])||isNaN(e[1])}function n(e,n,i,r,f,p,g,m,v,y,_){for(var b=0,x=i,w=0;w<r;w++){var k=n[x];if(x>=f||x<0)break;if(t(k)){if(_){x+=p;continue}break}if(x===i)e[p>0?"moveTo":"lineTo"](k[0],k[1]),u(d,k);else if(v>0){var S=x+p,E=n[S];if(_)for(;E&&t(n[S]);)S+=p,E=n[S];var T=.5,C=n[b],E=n[S];if(!E||t(E))u(h,k);else{t(E)&&!_&&(E=k),a.sub(c,E,C);var D,M;if("x"===y||"y"===y){var A="x"===y?0:1;D=Math.abs(k[A]-C[A]),M=Math.abs(k[A]-E[A])}else D=a.dist(k,C),M=a.dist(k,E);T=M/(M+D),l(h,k,c,-v*(1-T))}o(d,d,m),s(d,d,g),o(h,h,m),s(h,h,g),e.bezierCurveTo(d[0],d[1],h[0],h[1],k[0],k[1]),l(d,k,c,v*T)}else e.lineTo(k[0],k[1]);b=x,x+=p}return w}function i(e,t){var n=[1/0,1/0],i=[-(1/0),-(1/0)];if(t)for(var r=0;r<e.length;r++){var a=e[r];a[0]<n[0]&&(n[0]=a[0]),a[1]<n[1]&&(n[1]=a[1]),a[0]>i[0]&&(i[0]=a[0]),a[1]>i[1]&&(i[1]=a[1])}return{min:t?n:i,max:t?i:n}}var r=e("zrender/graphic/Path"),a=e("zrender/core/vector"),o=a.min,s=a.max,l=a.scaleAndAdd,u=a.copy,c=[],d=[],h=[];return{Polyline:r.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},buildPath:function(e,r){var a=r.points,o=0,s=a.length,l=i(a,r.smoothConstraint);if(r.connectNulls){for(;s>0&&t(a[s-1]);s--);for(;o<s&&t(a[o]);o++);}for(;o<s;)o+=n(e,a,o,s,s,1,l.min,l.max,r.smooth,r.smoothMonotone,r.connectNulls)+1}}),Polygon:r.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},buildPath:function(e,r){var a=r.points,o=r.stackedOnPoints,s=0,l=a.length,u=r.smoothMonotone,c=i(a,r.smoothConstraint),d=i(o,r.smoothConstraint);if(r.connectNulls){for(;l>0&&t(a[l-1]);l--);for(;s<l&&t(a[s]);s++);}for(;s<l;){var h=n(e,a,s,l,l,1,c.min,c.max,r.smooth,u,r.connectNulls);n(e,o,s+h-1,h,l,-1,d.min,d.max,r.stackedOnSmooth,u,r.connectNulls),s+=h+1,e.closePath()}}})}}),t("echarts/component/helper/selectableMixin",["require","zrender/core/util"],function(e){var t=e("zrender/core/util");return{updateSelectedMap:function(e){this._selectTargetMap=t.reduce(e||[],function(e,t){return e[t.name]=t,e},{})},select:function(e){var n=this._selectTargetMap,i=n[e],r=this.get("selectedMode");"single"===r&&t.each(n,function(e){e.selected=!1}),i&&(i.selected=!0)},unSelect:function(e){var t=this._selectTargetMap[e];t&&(t.selected=!1)},toggleSelected:function(e){var t=this._selectTargetMap[e];if(null!=t)return this[t.selected?"unSelect":"select"](e),t.selected},isSelected:function(e){var t=this._selectTargetMap[e];return t&&t.selected}}}),t("echarts/component/helper/listComponent",["require","../../util/layout","../../util/format","../../util/graphic"],function(e){function t(e,t,i){n.positionGroup(e,t.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()},t.get("padding"))}var n=e("../../util/layout"),i=e("../../util/format"),r=e("../../util/graphic");return{layout:function(e,i,r){var a=n.getLayoutRect(i.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()},i.get("padding"));n.box(i.get("orient"),e,i.get("itemGap"),a.width,a.height),t(e,i,r)},addBackground:function(e,t){var n=i.normalizeCssArray(t.get("padding")),a=e.getBoundingRect(),o=t.getItemStyle(["color","opacity"]);o.fill=t.get("backgroundColor");var s=new r.Rect({shape:{x:a.x-n[3],y:a.y-n[0],width:a.width+n[1]+n[3],height:a.height+n[0]+n[2]},style:o,silent:!0,z2:-1});r.subPixelOptimizeRect(s),e.add(s)}}}),t("echarts/component/marker/markerHelper",["require","zrender/core/util","../../util/number"],function(e){function t(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}function n(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}function i(e,t,n){var i=-1;do i=Math.max(o.getPrecision(e.get(t,n)),i),e=e.stackedOn;while(e);return i}function r(e,t,n,r,a,o){var s=[],l=p(t,r,e),u=t.indexOfNearest(r,l,!0);s[a]=t.get(n,u,!0),s[o]=t.get(r,u,!0);var c=i(t,r,u);return c>=0&&(s[o]=+s[o].toFixed(c)),s}var a=e("zrender/core/util"),o=e("../../util/number"),s=a.indexOf,l=a.curry,u={min:l(r,"min"),max:l(r,"max"),average:l(r,"average")},c=function(e,t){var i=e.getData(),r=e.coordinateSystem;if(t&&!n(t)&&!a.isArray(t.coord)&&r){var o=r.dimensions,l=d(t,i,r,e);if(t=a.clone(t),t.type&&u[t.type]&&l.baseAxis&&l.valueAxis){var c=s(o,l.baseAxis.dim),h=s(o,l.valueAxis.dim);t.coord=u[t.type](i,l.baseDataDim,l.valueDataDim,c,h),t.value=t.coord[h]}else{for(var f=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis],g=0;g<2;g++)if(u[f[g]]){var m=e.coordDimToDataDim(o[g])[0];f[g]=p(i,m,f[g])}t.coord=f}}return t},d=function(e,t,n,i){var r={};return null!=e.valueIndex||null!=e.valueDim?(r.valueDataDim=null!=e.valueIndex?t.getDimension(e.valueIndex):e.valueDim,r.valueAxis=n.getAxis(i.dataDimToCoordDim(r.valueDataDim)),r.baseAxis=n.getOtherAxis(r.valueAxis),r.baseDataDim=i.coordDimToDataDim(r.baseAxis.dim)[0]):(r.baseAxis=i.getBaseAxis(),r.valueAxis=n.getOtherAxis(r.baseAxis),r.baseDataDim=i.coordDimToDataDim(r.baseAxis.dim)[0],r.valueDataDim=i.coordDimToDataDim(r.valueAxis.dim)[0]),r},h=function(e,n){return!(e&&e.containData&&n.coord&&!t(n))||e.containData(n.coord)},f=function(e,t,n,i){return i<2?e.coord&&e.coord[i]:e.value},p=function(e,t,n){if("average"===n){var i=0,r=0;return e.each(t,function(e,t){isNaN(e)||(i+=e,r++)},!0),i/r}return e.getDataExtent(t,!0)["max"===n?1:0]};return{dataTransform:c,dataFilter:h,dimValueGetter:f,getAxisInfo:d,numCalculate:p}}),t("echarts/component/tooltip/TooltipContent",["require","zrender/core/util","zrender/tool/color","zrender/core/event","../../util/format","zrender/core/env"],function(e){function t(e){var t="cubic-bezier(0.23, 1, 0.32, 1)",n="left "+e+"s "+t+",top "+e+"s "+t;return o.map(f,function(e){return e+"transition:"+n}).join(";")}function n(e){var t=[],n=e.get("fontSize"),i=e.getTextColor();return i&&t.push("color:"+i),t.push("font:"+e.getFont()),n&&t.push("line-height:"+Math.round(3*n/2)+"px"),c(["decoration","align"],function(n){var i=e.get(n);i&&t.push("text-"+n+":"+i)}),t.join(";")}function i(e){e=e;var i=[],r=e.get("transitionDuration"),a=e.get("backgroundColor"),o=e.getModel("textStyle"),l=e.get("padding");return r&&i.push(t(r)),a&&(h.canvasSupported?i.push("background-Color:"+a):(i.push("background-Color:#"+s.toHex(a)),i.push("filter:alpha(opacity=70)"))),c(["width","color","radius"],function(t){var n="border-"+t,r=d(n),a=e.get(r);null!=a&&i.push(n+":"+a+("color"===t?"":"px"))}),i.push(n(o)),null!=l&&i.push("padding:"+u.normalizeCssArray(l).join("px ")+"px"),i.join(";")+";"}function r(e,t){var n=document.createElement("div"),i=t.getZr();this.el=n,this._x=t.getWidth()/2,this._y=t.getHeight()/2,e.appendChild(n),this._container=e,this._show=!1,this._hideTimeout;var r=this;n.onmouseenter=function(){r.enterable&&(clearTimeout(r._hideTimeout),r._show=!0),r._inContent=!0},n.onmousemove=function(t){if(!r.enterable){var n=i.handler;l.normalizeEvent(e,t),n.dispatch("mousemove",t)}},n.onmouseleave=function(){r.enterable&&r._show&&r.hideLater(r._hideDelay),r._inContent=!1},a(n,e)}function a(e,t){function n(e){i(e.target)&&e.preventDefault()}function i(n){for(;n&&n!==t;){if(n===e)return!0;n=n.parentNode}}l.addEventListener(t,"touchstart",n),l.addEventListener(t,"touchmove",n),l.addEventListener(t,"touchend",n)}var o=e("zrender/core/util"),s=e("zrender/tool/color"),l=e("zrender/core/event"),u=e("../../util/format"),c=o.each,d=u.toCamelCase,h=e("zrender/core/env"),f=["","-webkit-","-moz-","-o-"],p="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";return r.prototype={constructor:r,enterable:!0,update:function(){var e=this._container,t=e.currentStyle||document.defaultView.getComputedStyle(e),n=e.style;"absolute"!==n.position&&"absolute"!==t.position&&(n.position="relative")},show:function(e){clearTimeout(this._hideTimeout);var t=this.el;t.style.cssText=p+i(e)+";left:"+this._x+"px;top:"+this._y+"px;"+(e.get("extraCssText")||""),t.style.display=t.innerHTML?"block":"none",this._show=!0},setContent:function(e){var t=this.el;t.innerHTML=e,t.style.display=e?"block":"none"},moveTo:function(e,t){var n=this.el.style;n.left=e+"px",n.top=t+"px",this._x=e,this._y=t},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(e){!this._show||this._inContent&&this.enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(o.bind(this.hide,this),e)):this.hide())},isShow:function(){return this._show}},r}),t("echarts/util/symbol",["require","./graphic","zrender/core/BoundingRect"],function(e){"use strict";var t=e("./graphic"),n=e("zrender/core/BoundingRect"),i=t.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,i=t.cy,r=t.width/2,a=t.height/2;e.moveTo(n,i-a),e.lineTo(n+r,i+a),e.lineTo(n-r,i+a),e.closePath()}}),r=t.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,i=t.cy,r=t.width/2,a=t.height/2;e.moveTo(n,i-a),e.lineTo(n+r,i),e.lineTo(n,i+a),e.lineTo(n-r,i),e.closePath()}}),a=t.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,i=t.y,r=t.width/5*3,a=Math.max(r,t.height),o=r/2,s=o*o/(a-o),l=i-a+o+s,u=Math.asin(s/o),c=Math.cos(u)*o,d=Math.sin(u),h=Math.cos(u);e.arc(n,l,o,Math.PI-u,2*Math.PI+u);var f=.6*o,p=.7*o;e.bezierCurveTo(n+c-d*f,l+s+h*f,n,i-p,n,i),e.bezierCurveTo(n,i-p,n-c+d*f,l+s+h*f,n-c,l+s),e.closePath()}}),o=t.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.height,i=t.width,r=t.x,a=t.y,o=i/3*2;e.moveTo(r,a),e.lineTo(r+o,a+n),e.lineTo(r,a+n/4*3),e.lineTo(r-o,a+n),e.lineTo(r,a),e.closePath()}}),s={line:t.Line,rect:t.Rect,roundRect:t.Rect,square:t.Rect,circle:t.Circle,diamond:r,pin:a,arrow:o,triangle:i},l={line:function(e,t,n,i,r){r.x1=e,r.y1=t+i/2,r.x2=e+n,r.y2=t+i/2},rect:function(e,t,n,i,r){r.x=e,r.y=t,r.width=n,r.height=i},roundRect:function(e,t,n,i,r){r.x=e,r.y=t,r.width=n,r.height=i,r.r=Math.min(n,i)/4},square:function(e,t,n,i,r){var a=Math.min(n,i);r.x=e,r.y=t,r.width=a,r.height=a},circle:function(e,t,n,i,r){r.cx=e+n/2,r.cy=t+i/2,r.r=Math.min(n,i)/2},diamond:function(e,t,n,i,r){r.cx=e+n/2,r.cy=t+i/2,r.width=n,r.height=i},pin:function(e,t,n,i,r){r.x=e+n/2,r.y=t+i/2,r.width=n,r.height=i},arrow:function(e,t,n,i,r){r.x=e+n/2,r.y=t+i/2,r.width=n,r.height=i},triangle:function(e,t,n,i,r){r.cx=e+n/2,r.cy=t+i/2,r.width=n,r.height=i}},u={};for(var c in s)u[c]=new s[c];var d=t.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var e=this.style,t=this.shape;"pin"===t.symbolType&&"inside"===e.textPosition&&(e.textPosition=["50%","40%"],e.textAlign="center",e.textVerticalAlign="middle")},buildPath:function(e,t,n){var i=t.symbolType,r=u[i];"none"!==t.symbolType&&(r||(i="rect",r=u[i]),l[i](t.x,t.y,t.width,t.height,r.shape),r.buildPath(e,r.shape,n))}}),h=function(e){if("image"!==this.type){var t=this.style,n=this.shape;n&&"line"===n.symbolType?t.stroke=e:this.__isEmptyBrush?(t.stroke=e,t.fill="#fff"):(t.fill&&(t.fill=e),t.stroke&&(t.stroke=e)),this.dirty(!1)}},f={createSymbol:function(e,i,r,a,o,s){var l=0===e.indexOf("empty");l&&(e=e.substr(5,1).toLowerCase()+e.substr(6));var u;return u=0===e.indexOf("image://")?new t.Image({style:{image:e.slice(8),x:i,y:r,width:a,height:o}}):0===e.indexOf("path://")?t.makePath(e.slice(7),{},new n(i,r,a,o)):new d({shape:{symbolType:e,x:i,y:r,width:a,height:o}}),u.__isEmptyBrush=l,u.setColor=h,u.setColor(s),u}};return f}),t("echarts/component/marker/MarkerView",["require","../../echarts"],function(e){return e("../../echarts").extendComponentView({type:"marker",init:function(){this.markerGroupMap={}},render:function(e,t,n){var i=this.markerGroupMap;for(var r in i)i[r].__keep=!1;var a=this.type+"Model";t.eachSeries(function(e){var i=e[a];i&&this.renderSeries(e,i,t,n)},this);for(var r in i)i[r].__keep||this.group.remove(i[r].group)},renderSeries:function(){}})}),t("echarts/chart/pie/labelLayout",["require","zrender/contain/text"],function(e){"use strict";function t(e,t,n,i,r,a,o){function s(t,n,i,r){for(var a=t;a<n;a++)if(e[a].y+=i,a>t&&a+1<n&&e[a+1].y>e[a].y+e[a].height)return void l(a,i/2);l(n-1,i/2)}function l(t,n){for(var i=t;i>=0&&(e[i].y-=n,!(i>0&&e[i].y>e[i-1].y+e[i-1].height));i--);}function u(e,t,n,i,r,a){for(var o=a>0?t?Number.MAX_VALUE:0:t?Number.MAX_VALUE:0,s=0,l=e.length;s<l;s++)if("center"!==e[s].position){var u=Math.abs(e[s].y-i),c=e[s].len,d=e[s].len2,h=u<r+c?Math.sqrt((r+c+d)*(r+c+d)-u*u):Math.abs(e[s].x-n);t&&h>=o&&(h=o-10),!t&&h<=o&&(h=o+10),e[s].x=n+h*a,o=h}}e.sort(function(e,t){return e.y-t.y});for(var c,d=0,h=e.length,f=[],p=[],g=0;g<h;g++)c=e[g].y-d,c<0&&s(g,h,-c,r),d=e[g].y+e[g].height;o-d<0&&l(h-1,d-o);for(var g=0;g<h;g++)e[g].y>=n?p.push(e[g]):f.push(e[g]);u(f,!1,t,n,i,r),u(p,!0,t,n,i,r)}function n(e,n,i,r,a,o){for(var s=[],l=[],u=0;u<e.length;u++)e[u].x<n?s.push(e[u]):l.push(e[u]);t(l,n,i,r,1,a,o),t(s,n,i,r,-1,a,o);for(var u=0;u<e.length;u++){var c=e[u].linePoints;if(c){var d=c[1][0]-c[2][0];e[u].x<n?c[2][0]=e[u].x+3:c[2][0]=e[u].x-3,c[1][1]=c[2][1]=e[u].y,c[1][0]=c[2][0]+d}}}var i=e("zrender/contain/text");return function(e,t,r,a){var o,s,l=e.getData(),u=[],c=!1;l.each(function(n){var r,a,d,h,f=l.getItemLayout(n),p=l.getItemModel(n),g=p.getModel("label.normal"),m=g.get("position")||p.get("label.emphasis.position"),v=p.getModel("labelLine.normal"),y=v.get("length"),_=v.get("length2"),b=(f.startAngle+f.endAngle)/2,x=Math.cos(b),w=Math.sin(b);o=f.cx,s=f.cy;var k="inside"===m||"inner"===m;if("center"===m)r=f.cx,a=f.cy,h="center";else{var S=(k?(f.r+f.r0)/2*x:f.r*x)+o,E=(k?(f.r+f.r0)/2*w:f.r*w)+s;if(r=S+3*x,a=E+3*w,!k){var T=S+x*(y+t-f.r),C=E+w*(y+t-f.r),D=T+(x<0?-1:1)*_,M=C;r=D+(x<0?-5:5),a=M,d=[[S,E],[T,C],[D,M]]}h=k?"center":x>0?"left":"right"}var A=g.getModel("textStyle").getFont(),R=g.get("rotate")?x<0?-b+Math.PI:-b:0,I=e.getFormattedLabel(n,"normal")||l.getName(n),O=i.getBoundingRect(I,A,h,"top");c=!!R,f.label={x:r,y:a,position:m,height:O.height,len:y,len2:_,linePoints:d,textAlign:h,verticalAlign:"middle",font:A,rotation:R},k||u.push(f.label)}),!c&&e.get("avoidLabelOverlap")&&n(u,o,s,t,r,a)}}),t("zrender",["zrender/zrender"],function(e){return e}),t("echarts",["echarts/echarts"],function(e){return e});var n=e("echarts");return n.graphic=e("echarts/util/graphic"),n.number=e("echarts/util/number"),n.format=e("echarts/util/format"),e("echarts/chart/bar"),e("echarts/chart/line"),e("echarts/chart/pie"),e("echarts/component/grid"),e("echarts/component/title"),e("echarts/component/legend"),e("echarts/component/tooltip"),e("echarts/component/markPoint"),e("zrender/vml/vml"),n});var Emoji={reg:/\ud83d\ude04|\ud83d\ude03|\ud83d\ude00|\ud83d\ude0a|\u263a\ufe0f|\ud83d\ude09|\ud83d\ude0d|\ud83d\ude18|\ud83d\ude1a|\ud83d\ude17|\ud83d\ude19|\ud83d\ude1c|\ud83d\ude1d|\ud83d\ude1b|\ud83d\ude33|\ud83d\ude01|\ud83d\ude14|\ud83d\ude0c|\ud83d\ude12|\ud83d\ude1e|\ud83d\ude23|\ud83d\ude22|\ud83d\ude02|\ud83d\ude2d|\ud83d\ude2a|\ud83d\ude25|\ud83d\ude30|\ud83d\ude05|\ud83d\ude13|\ud83d\ude29|\ud83d\ude2b|\ud83d\ude28|\ud83d\ude31|\ud83d\ude20|\ud83d\ude21|\ud83d\ude24|\ud83d\ude16|\ud83d\ude06|\ud83d\ude0b|\ud83d\ude37|\ud83d\ude0e|\ud83d\ude34|\ud83d\ude35|\ud83d\ude32|\ud83d\ude1f|\ud83d\ude26|\ud83d\ude27|\ud83d\ude08|\ud83d\udc7f|\ud83d\ude2e|\ud83d\ude2c|\ud83d\ude10|\ud83d\ude15|\ud83d\ude2f|\ud83d\ude36|\ud83d\ude07|\ud83d\ude0f|\ud83d\ude11|\ud83d\udc72|\ud83d\udc73|\ud83d\udc6e|\ud83d\udc77|\ud83d\udc82|\ud83d\udc76|\ud83d\udc66|\ud83d\udc67|\ud83d\udc68|\ud83d\udc69|\ud83d\udc74|\ud83d\udc75|\ud83d\udc71|\ud83d\udc7c|\ud83d\udc78|\ud83d\ude3a|\ud83d\ude38|\ud83d\ude3b|\ud83d\ude3d|\ud83d\ude3c|\ud83d\ude40|\ud83d\ude3f|\ud83d\ude39|\ud83d\ude3e|\ud83d\udc79|\ud83d\udc7a|\ud83d\ude48|\ud83d\ude49|\ud83d\ude4a|\ud83d\udc80|\ud83d\udc7d|\ud83d\udca9|\ud83d\udd25|\u2728|\ud83c\udf1f|\ud83d\udcab|\ud83d\udca5|\ud83d\udca2|\ud83d\udca6|\ud83d\udca7|\ud83d\udca4|\ud83d\udca8|\ud83d\udc42|\ud83d\udc40|\ud83d\udc43|\ud83d\udc45|\ud83d\udc44|\ud83d\udc4d|\ud83d\udc4e|\ud83d\udc4c|\ud83d\udc4a|\u270a|\u270c\ufe0f|\ud83d\udc4b|\u270b|\ud83d\udc50|\ud83d\udc46|\ud83d\udc47|\ud83d\udc49|\ud83d\udc48|\ud83d\ude4c|\ud83d\ude4f|\u261d\ufe0f|\ud83d\udc4f|\ud83d\udcaa|\ud83d\udeb6|\ud83c\udfc3|\ud83d\udc83|\ud83d\udc6b|\ud83d\udc6a|\ud83d\udc6c|\ud83d\udc6d|\ud83d\udc8f|\ud83d\udc91|\ud83d\udc6f|\ud83d\ude46|\ud83d\ude45|\ud83d\udc81|\ud83d\ude4b|\ud83d\udc86|\ud83d\udc87|\ud83d\udc85|\ud83d\udc70|\ud83d\ude4e|\ud83d\ude4d|\ud83d\ude47|\ud83c\udfa9|\ud83d\udc51|\ud83d\udc52|\ud83d\udc5f|\ud83d\udc5e|\ud83d\udc61|\ud83d\udc60|\ud83d\udc62|\ud83d\udc55|\ud83d\udc54|\ud83d\udc5a|\ud83d\udc57|\ud83c\udfbd|\ud83d\udc56|\ud83d\udc58|\ud83d\udc59|\ud83d\udcbc|\ud83d\udc5c|\ud83d\udc5d|\ud83d\udc5b|\ud83d\udc53|\ud83c\udf80|\ud83c\udf02|\ud83d\udc84|\ud83d\udc9b|\ud83d\udc99|\ud83d\udc9c|\ud83d\udc9a|\u2764\ufe0f|\ud83d\udc94|\ud83d\udc97|\ud83d\udc93|\ud83d\udc95|\ud83d\udc96|\ud83d\udc9e|\ud83d\udc98|\ud83d\udc8c|\ud83d\udc8b|\ud83d\udc8d|\ud83d\udc8e|\ud83d\udc64|\ud83d\udc65|\ud83d\udcac|\ud83d\udc63|\ud83d\udcad|\ud83d\udc36|\ud83d\udc3a|\ud83d\udc31|\ud83d\udc2d|\ud83d\udc39|\ud83d\udc30|\ud83d\udc38|\ud83d\udc2f|\ud83d\udc28|\ud83d\udc3b|\ud83d\udc37|\ud83d\udc3d|\ud83d\udc2e|\ud83d\udc17|\ud83d\udc35|\ud83d\udc12|\ud83d\udc34|\ud83d\udc11|\ud83d\udc18|\ud83d\udc3c|\ud83d\udc27|\ud83d\udc26|\ud83d\udc24|\ud83d\udc25|\ud83d\udc23|\ud83d\udc14|\ud83d\udc0d|\ud83d\udc22|\ud83d\udc1b|\ud83d\udc1d|\ud83d\udc1c|\ud83d\udc1e|\ud83d\udc0c|\ud83d\udc19|\ud83d\udc1a|\ud83d\udc20|\ud83d\udc1f|\ud83d\udc2c|\ud83d\udc33|\ud83d\udc0b|\ud83d\udc04|\ud83d\udc0f|\ud83d\udc00|\ud83d\udc03|\ud83d\udc05|\ud83d\udc07|\ud83d\udc09|\ud83d\udc0e|\ud83d\udc10|\ud83d\udc13|\ud83d\udc15|\ud83d\udc16|\ud83d\udc01|\ud83d\udc02|\ud83d\udc32|\ud83d\udc21|\ud83d\udc0a|\ud83d\udc2b|\ud83d\udc2a|\ud83d\udc06|\ud83d\udc08|\ud83d\udc29|\ud83d\udc3e|\ud83d\udc90|\ud83c\udf38|\ud83c\udf37|\ud83c\udf40|\ud83c\udf39|\ud83c\udf3b|\ud83c\udf3a|\ud83c\udf41|\ud83c\udf43|\ud83c\udf42|\ud83c\udf3f|\ud83c\udf3e|\ud83c\udf44|\ud83c\udf35|\ud83c\udf34|\ud83c\udf32|\ud83c\udf33|\ud83c\udf30|\ud83c\udf31|\ud83c\udf3c|\ud83c\udf10|\ud83c\udf1e|\ud83c\udf1d|\ud83c\udf1a|\ud83c\udf11|\ud83c\udf12|\ud83c\udf13|\ud83c\udf14|\ud83c\udf15|\ud83c\udf16|\ud83c\udf17|\ud83c\udf18|\ud83c\udf1c|\ud83c\udf1b|\ud83c\udf19|\ud83c\udf0d|\ud83c\udf0e|\ud83c\udf0f|\ud83c\udf0b|\ud83c\udf0c|\ud83c\udf20|\u2b50\ufe0f|\u2600\ufe0f|\u26c5\ufe0f|\u2601\ufe0f|\u26a1\ufe0f|\u2614\ufe0f|\u2744\ufe0f|\u26c4\ufe0f|\ud83c\udf00|\ud83c\udf01|\ud83c\udf08|\ud83c\udf0a|\ud83c\udf8d|\ud83d\udc9d|\ud83c\udf8e|\ud83c\udf92|\ud83c\udf93|\ud83c\udf8f|\ud83c\udf86|\ud83c\udf87|\ud83c\udf90|\ud83c\udf91|\ud83c\udf83|\ud83d\udc7b|\ud83c\udf85|\ud83c\udf84|\ud83c\udf81|\ud83c\udf8b|\ud83c\udf89|\ud83c\udf8a|\ud83c\udf88|\ud83c\udf8c|\ud83d\udd2e|\ud83c\udfa5|\ud83d\udcf7|\ud83d\udcf9|\ud83d\udcfc|\ud83d\udcbf|\ud83d\udcc0|\ud83d\udcbd|\ud83d\udcbe|\ud83d\udcbb|\ud83d\udcf1|\u260e\ufe0f|\ud83d\udcde|\ud83d\udcdf|\ud83d\udce0|\ud83d\udce1|\ud83d\udcfa|\ud83d\udcfb|\ud83d\udd0a|\ud83d\udd09|\ud83d\udd08|\ud83d\udd07|\ud83d\udd14|\ud83d\udd15|\ud83d\udce2|\ud83d\udce3|\u23f3|\u231b\ufe0f|\u23f0|\u231a\ufe0f|\ud83d\udd13|\ud83d\udd12|\ud83d\udd0f|\ud83d\udd10|\ud83d\udd11|\ud83d\udd0e|\ud83d\udca1|\ud83d\udd26|\ud83d\udd06|\ud83d\udd05|\ud83d\udd0c|\ud83d\udd0b|\ud83d\udd0d|\ud83d\udec1|\ud83d\udec0|\ud83d\udebf|\ud83d\udebd|\ud83d\udd27|\ud83d\udd29|\ud83d\udd28|\ud83d\udeaa|\ud83d\udeac|\ud83d\udca3|\ud83d\udd2b|\ud83d\udd2a|\ud83d\udc8a|\ud83d\udc89|\ud83d\udcb0|\ud83d\udcb4|\ud83d\udcb5|\ud83d\udcb7|\ud83d\udcb6|\ud83d\udcb3|\ud83d\udcb8|\ud83d\udcf2|\ud83d\udce7|\ud83d\udce5|\ud83d\udce4|\u2709\ufe0f|\ud83d\udce9|\ud83d\udce8|\ud83d\udcef|\ud83d\udceb|\ud83d\udcea|\ud83d\udcec|\ud83d\udced|\ud83d\udcee|\ud83d\udce6|\ud83d\udcdd|\ud83d\udcc4|\ud83d\udcc3|\ud83d\udcd1|\ud83d\udcca|\ud83d\udcc8|\ud83d\udcc9|\ud83d\udcdc|\ud83d\udccb|\ud83d\udcc5|\ud83d\udcc6|\ud83d\udcc7|\ud83d\udcc1|\ud83d\udcc2|\u2702\ufe0f|\ud83d\udccc|\ud83d\udcce|\u2712\ufe0f|\u270f\ufe0f|\ud83d\udccf|\ud83d\udcd0|\ud83d\udcd5|\ud83d\udcd7|\ud83d\udcd8|\ud83d\udcd9|\ud83d\udcd3|\ud83d\udcd4|\ud83d\udcd2|\ud83d\udcda|\ud83d\udcd6|\ud83d\udd16|\ud83d\udcdb|\ud83d\udd2c|\ud83d\udd2d|\ud83d\udcf0|\ud83c\udfa8|\ud83c\udfac|\ud83c\udfa4|\ud83c\udfa7|\ud83c\udfbc|\ud83c\udfb5|\ud83c\udfb6|\ud83c\udfb9|\ud83c\udfbb|\ud83c\udfba|\ud83c\udfb7|\ud83c\udfb8|\ud83d\udc7e|\ud83c\udfae|\ud83c\udccf|\ud83c\udfb4|\ud83c\udc04\ufe0f|\ud83c\udfb2|\ud83c\udfaf|\ud83c\udfc8|\ud83c\udfc0|\u26bd\ufe0f|\u26be\ufe0f|\ud83c\udfbe|\ud83c\udfb1|\ud83c\udfc9|\ud83c\udfb3|\u26f3\ufe0f|\ud83d\udeb5|\ud83d\udeb4|\ud83c\udfc1|\ud83c\udfc7|\ud83c\udfc6|\ud83c\udfbf|\ud83c\udfc2|\ud83c\udfca|\ud83c\udfc4|\ud83c\udfa3|\u2615\ufe0f|\ud83c\udf75|\ud83c\udf76|\ud83c\udf7c|\ud83c\udf7a|\ud83c\udf7b|\ud83c\udf78|\ud83c\udf79|\ud83c\udf77|\ud83c\udf74|\ud83c\udf55|\ud83c\udf54|\ud83c\udf5f|\ud83c\udf57|\ud83c\udf56|\ud83c\udf5d|\ud83c\udf5b|\ud83c\udf64|\ud83c\udf71|\ud83c\udf63|\ud83c\udf65|\ud83c\udf59|\ud83c\udf58|\ud83c\udf5a|\ud83c\udf5c|\ud83c\udf72|\ud83c\udf62|\ud83c\udf61|\ud83c\udf73|\ud83c\udf5e|\ud83c\udf69|\ud83c\udf6e|\ud83c\udf66|\ud83c\udf68|\ud83c\udf67|\ud83c\udf82|\ud83c\udf70|\ud83c\udf6a|\ud83c\udf6b|\ud83c\udf6c|\ud83c\udf6d|\ud83c\udf6f|\ud83c\udf4e|\ud83c\udf4f|\ud83c\udf4a|\ud83c\udf4b|\ud83c\udf52|\ud83c\udf47|\ud83c\udf49|\ud83c\udf53|\ud83c\udf51|\ud83c\udf48|\ud83c\udf4c|\ud83c\udf50|\ud83c\udf4d|\ud83c\udf60|\ud83c\udf46|\ud83c\udf45|\ud83c\udf3d|\ud83c\udfe0|\ud83c\udfe1|\ud83c\udfeb|\ud83c\udfe2|\ud83c\udfe3|\ud83c\udfe5|\ud83c\udfe6|\ud83c\udfea|\ud83c\udfe9|\ud83c\udfe8|\ud83d\udc92|\u26ea\ufe0f|\ud83c\udfec|\ud83c\udfe4|\ud83c\udf07|\ud83c\udf06|\ud83c\udfef|\ud83c\udff0|\u26fa\ufe0f|\ud83c\udfed|\ud83d\uddfc|\ud83d\uddfe|\ud83d\uddfb|\ud83c\udf04|\ud83c\udf05|\ud83c\udf03|\ud83d\uddfd|\ud83c\udf09|\ud83c\udfa0|\ud83c\udfa1|\u26f2\ufe0f|\ud83c\udfa2|\ud83d\udea2|\u26f5\ufe0f|\ud83d\udea4|\ud83d\udea3|\u2693\ufe0f|\ud83d\ude80|\u2708\ufe0f|\ud83d\udcba|\ud83d\ude81|\ud83d\ude82|\ud83d\ude8a|\ud83d\ude89|\ud83d\ude9e|\ud83d\ude86|\ud83d\ude84|\ud83d\ude85|\ud83d\ude88|\ud83d\ude87|\ud83d\ude9d|\ud83d\ude8b|\ud83d\ude83|\ud83d\ude8e|\ud83d\ude8c|\ud83d\ude8d|\ud83d\ude99|\ud83d\ude98|\ud83d\ude97|\ud83d\ude95|\ud83d\ude96|\ud83d\ude9b|\ud83d\ude9a|\ud83d\udea8|\ud83d\ude93|\ud83d\ude94|\ud83d\ude92|\ud83d\ude91|\ud83d\ude90|\ud83d\udeb2|\ud83d\udea1|\ud83d\ude9f|\ud83d\udea0|\ud83d\ude9c|\ud83d\udc88|\ud83d\ude8f|\ud83c\udfab|\ud83d\udea6|\ud83d\udea5|\u26a0\ufe0f|\ud83d\udea7|\ud83d\udd30|\u26fd\ufe0f|\ud83c\udfee|\ud83c\udfb0|\u2668\ufe0f|\ud83d\uddff|\ud83c\udfaa|\ud83c\udfad|\ud83d\udccd|\ud83d\udea9|\ud83c\uddef\ud83c\uddf5|\ud83c\uddf0\ud83c\uddf7|\ud83c\udde9\ud83c\uddea|\ud83c\udde8\ud83c\uddf3|\ud83c\uddfa\ud83c\uddf8|\ud83c\uddeb\ud83c\uddf7|\ud83c\uddea\ud83c\uddf8|\ud83c\uddee\ud83c\uddf9|\ud83c\uddf7\ud83c\uddfa|\ud83c\uddec\ud83c\udde7|\u0031\ufe0f\u20e3|\u0032\ufe0f\u20e3|\u0033\ufe0f\u20e3|\u0034\ufe0f\u20e3|\u0035\ufe0f\u20e3|\u0036\ufe0f\u20e3|\u0037\ufe0f\u20e3|\u0038\ufe0f\u20e3|\u0039\ufe0f\u20e3|\u0030\ufe0f\u20e3|\ud83d\udd1f|\ud83d\udd22|\u0023\ufe0f\u20e3|\ud83d\udd23|\u2b06\ufe0f|\u2b07\ufe0f|\u2b05\ufe0f|\u27a1\ufe0f|\ud83d\udd20|\ud83d\udd21|\ud83d\udd24|\u2197\ufe0f|\u2196\ufe0f|\u2198\ufe0f|\u2199\ufe0f|\u2194\ufe0f|\u2195\ufe0f|\ud83d\udd04|\u25c0\ufe0f|\u25b6\ufe0f|\ud83d\udd3c|\ud83d\udd3d|\u21a9\ufe0f|\u21aa\ufe0f|\u2139\ufe0f|\u23ea|\u23e9|\u23eb|\u23ec|\u2935\ufe0f|\u2934\ufe0f|\ud83c\udd97|\ud83d\udd00|\ud83d\udd01|\ud83d\udd02|\ud83c\udd95|\ud83c\udd99|\ud83c\udd92|\ud83c\udd93|\ud83c\udd96|\ud83d\udcf6|\ud83c\udfa6|\ud83c\ude01|\ud83c\ude2f\ufe0f|\ud83c\ude33|\ud83c\ude35|\ud83c\ude34|\ud83c\ude32|\ud83c\ude50|\ud83c\ude39|\ud83c\ude3a|\ud83c\ude36|\ud83c\ude1a\ufe0f|\ud83d\udebb|\ud83d\udeb9|\ud83d\udeba|\ud83d\udebc|\ud83d\udebe|\ud83d\udeb0|\ud83d\udeae|\ud83c\udd7f\ufe0f|\u267f\ufe0f|\ud83d\udead|\ud83c\ude37|\ud83c\ude38|\ud83c\ude02|\u24c2\ufe0f|\ud83d\udec2|\ud83d\udec4|\ud83d\udec5|\ud83d\udec3|\ud83c\ude51|\u3299\ufe0f|\u3297\ufe0f|\ud83c\udd91|\ud83c\udd98|\ud83c\udd94|\ud83d\udeab|\ud83d\udd1e|\ud83d\udcf5|\ud83d\udeaf|\ud83d\udeb1|\ud83d\udeb3|\ud83d\udeb7|\ud83d\udeb8|\u26d4\ufe0f|\u2733\ufe0f|\u2747\ufe0f|\u274e|\u2705|\u2734\ufe0f|\ud83d\udc9f|\ud83c\udd9a|\ud83d\udcf3|\ud83d\udcf4|\ud83c\udd70|\ud83c\udd71|\ud83c\udd8e|\ud83c\udd7e|\ud83d\udca0|\u27bf|\u267b\ufe0f|\u2648\ufe0f|\u2649\ufe0f|\u264a\ufe0f|\u264b\ufe0f|\u264c\ufe0f|\u264d\ufe0f|\u264e\ufe0f|\u264f\ufe0f|\u2650\ufe0f|\u2651\ufe0f|\u2652\ufe0f|\u2653\ufe0f|\u26ce|\ud83d\udd2f|\ud83c\udfe7|\ud83d\udcb9|\ud83d\udcb2|\ud83d\udcb1|\u00a9|\u00ae|\u2122|\u274c|\u203c\ufe0f|\u2049\ufe0f|\u2757\ufe0f|\u2753|\u2755|\u2754|\u2b55\ufe0f|\ud83d\udd1d|\ud83d\udd1a|\ud83d\udd19|\ud83d\udd1b|\ud83d\udd1c|\ud83d\udd03|\ud83d\udd5b|\ud83d\udd67|\ud83d\udd50|\ud83d\udd5c|\ud83d\udd51|\ud83d\udd5d|\ud83d\udd52|\ud83d\udd5e|\ud83d\udd53|\ud83d\udd5f|\ud83d\udd54|\ud83d\udd60|\ud83d\udd55|\ud83d\udd56|\ud83d\udd57|\ud83d\udd58|\ud83d\udd59|\ud83d\udd5a|\ud83d\udd61|\ud83d\udd62|\ud83d\udd63|\ud83d\udd64|\ud83d\udd65|\ud83d\udd66|\u2716\ufe0f|\u2795|\u2796|\u2797|\u2660\ufe0f|\u2665\ufe0f|\u2663\ufe0f|\u2666\ufe0f|\ud83d\udcae|\ud83d\udcaf|\u2714\ufe0f|\u2611\ufe0f|\ud83d\udd18|\ud83d\udd17|\u27b0|\u3030|\u303d\ufe0f|\ud83d\udd31|\u25fc\ufe0f|\u25fb\ufe0f|\u25fe\ufe0f|\u25fd\ufe0f|\u25aa\ufe0f|\u25ab\ufe0f|\ud83d\udd3a|\ud83d\udd32|\ud83d\udd33|\u26ab\ufe0f|\u26aa\ufe0f|\ud83d\udd34|\ud83d\udd35|\ud83d\udd3b|\u2b1c\ufe0f|\u2b1b\ufe0f|\ud83d\udd36|\ud83d\udd37|\ud83d\udd38|\ud83d\udd39/g,
emojiPath:"emoji/",maxSize:20,emoji:function(e){var t=!1,n=navigator.userAgent;if(n.match(/Mac\s+OS/i)&&!n.match(/(Chrome|Firefox)/i)&&(t=!0),t){if(Emoji.emoji=function(){},"undefined"!=typeof $)return $.fn.emoji=function(){},!1}else{var i=parseFloat(window.devicePixelRatio)||1;i>1.2&&(Emoji.emojiPath+="2x/"),Emoji.emoji=function(e){setTimeout(function(){Emoji.trans(e)},0)},Emoji.emoji(e)}},trans:function(e){var t,n,i;if(e.nodeType){if(n=e,i=(n.currentStyle||window.getComputedStyle(n,"")).fontSize,!/px$/i.test(i)){var r=n.style.left;n.style.left="1em",i=n.style.pixelLeft,n.style.left=r}i=parseFloat(i),e=n.innerHTML,t=!0}else i=i||14;return i+=4,i=Math.min(i,Emoji.maxSize),e=e.replace(Emoji.reg,function(e){return"<img width="+i+' class="emoji" style="vertical-align:middle" src="'+Emoji.emojiPath+Emoji._escapeToUtf32(e)+'.png">'}),t&&(n.innerHTML=e),e},_escapeToUtf32:function(e){for(var t,n=[],i=Emoji._convertStringToUnicodeCodePoints(e),r=0,a=i.length;r<a;r++)t=i[r].toString(16),n.push("0000".substr(t.length)+t);return n.join("-")},_convertStringToUnicodeCodePoints:function(e){for(var t=0,n=[],i=0,r=e.length;i<r;i++){var a=e.charCodeAt(i);if(0!=t){if(a>=56320&&a<=57343){var o=a,s=1024*(t-55296)+65536+(o-56320);n.push(s)}t=0}else a>=55296&&a<=56319?t=a:n.push(a)}return n}};"undefined"!=typeof $&&($.fn.emoji=function(){this.each(function(e,t){Emoji.emoji(t)})});